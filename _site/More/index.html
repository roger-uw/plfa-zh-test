<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>More: Additional constructs of simply-typed lambda calculus | 编程语言基础：Agda 描述
</title><!-- Begin Jekyll SEO tag v2.5.0 -->
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="More: Additional constructs of simply-typed lambda calculus" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="编程语言基础：Agda 描述" />
<meta property="og:description" content="编程语言基础：Agda 描述" />
<link rel="canonical" href="https://roger-uw.github.io/PLFA-zh/More/" />
<meta property="og:url" content="https://roger-uw.github.io/PLFA-zh/More/" />
<meta property="og:site_name" content="编程语言基础：Agda 描述" />
<script type="application/ld+json">
{"description":"编程语言基础：Agda 描述","@type":"WebPage","url":"https://roger-uw.github.io/PLFA-zh/More/","headline":"More: Additional constructs of simply-typed lambda calculus","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/PLFA-zh/assets/main.css"></head>
<body><header class="site-header" role="banner">

    <div class="wrapper">

        <a class="site-title" href="/PLFA-zh/">编程语言基础：Agda 描述
</a>

        <nav class="site-nav">
            <span class="menu-icon">
                <svg viewBox="0 0 18 15" width="18px" height="15px">
                    <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
                    <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
                    <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
                </svg>
            </span>

            <div class="trigger">
                <a class="page-link" href="/PLFA-zh/">目录</a>
                <a class="page-link" href="/PLFA-zh/GettingStarted/">使用说明</a>
            </div>
        </nav>

    </div>

</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
      <h1 class="post-title">More: Additional constructs of simply-typed lambda calculus</h1>
  </header>

  <p style="text-align:center;">
    
    <a alt="Previous chapter" href="/PLFA-zh/DeBruijn/">前一章</a>
    &bullet;
    
    
    <a alt="Source code" href="https://github.com/roger-uw/PLFA-zh/blob/dev/src/plfa/More.lagda">源代码</a>
    
    
    &bullet;
    <a alt="Next chapter" href="/PLFA-zh/Bisimulation/">后一章</a>
    
</p>


  <div class="post-content">
    <pre class="Agda"><a id="183" class="Keyword">module</a> <a id="190" href="/PLFA-zh/More/" class="Module">plfa.More</a> <a id="200" class="Keyword">where</a></pre>

<p>So far, we have focussed on a relatively minimal language, based on
Plotkin’s PCF, which supports functions, naturals, and fixpoints.  In
this chapter we extend our calculus to support the following:</p>

<ul>
  <li>primitive numbers</li>
  <li><em>let</em> bindings</li>
  <li>products</li>
  <li>an alternative formulation of products</li>
  <li>sums</li>
  <li>unit type</li>
  <li>an alternative formulation of unit type</li>
  <li>empty type</li>
  <li>lists</li>
</ul>

<p>All of the data types should be familiar from Part I of this textbook.
For <em>let</em> and the alternative formulations we show how they translate
to other constructs in the calculus.  Most of the description will be
informal. We show how to formalise the first four constructs and leave
the rest as an exercise for the reader.</p>

<p>Our informal descriptions will be in the style of
Chapter <a href="/PLFA-zh/Lambda/">Lambda</a>,
using named variables and a separate type relation,
while our formalisation will be in the style of
Chapter <a href="/PLFA-zh/DeBruijn/">DeBruijn</a>,
using de Bruijn indices and inherently typed terms.</p>

<p>By now, explaining with symbols should be more concise, more precise,
and easier to follow than explaining in prose.
For each construct, we give syntax, typing, reductions, and an example.
We also give translations where relevant; formally establishing the
correctness of translations will be the subject of the next chapter.</p>

<h2 id="primitive-numbers">Primitive numbers</h2>

<p>We define a <code class="highlighter-rouge">Num</code> type equivalent to the built-in natural number type
with multiplication as a primitive operation on numbers:</p>

<h3 id="syntax">Syntax</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>A, B, C ::= ...                     Types
  Nat                                 primitive natural numbers

L, M, N ::= ...                     Terms
  con c                               constant
  L `* M                              multiplication

V, W ::= ...                        Values
  con c                               constant
</code></pre></div></div>

<h3 id="typing">Typing</h3>

<p>The hypothesis of the <code class="highlighter-rouge">con</code> rule is unusual, in that
it refers to a typing judgment of Agda rather than a
typing judgment of the defined calculus:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>c : ℕ
--------------- con
Γ ⊢ con c : Nat

Γ ⊢ L : Nat
Γ ⊢ M : Nat
---------------- _`*_
Γ ⊢ L `* M : Nat
</code></pre></div></div>

<h3 id="reduction">Reduction</h3>

<p>A rule that defines a primitive directly, such as the last rule below,
is called a δ rule.  Here the δ rule defines multiplication of
primitive numbers in terms of multiplication of naturals as given
by the Agda standard prelude:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>L —→ L′
----------------- ξ-*₁
L `* M —→ L′ `* M

M —→ M′
----------------- ξ-*₂
V `* M —→ V `* M′

----------------------------- δ-*
con c `* con d —→ con (c * d)
</code></pre></div></div>

<h3 id="example">Example</h3>

<p>Here is a function to cube a primitive number:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cube : ∅ ⊢ Nat ⇒ Nat
cube = ƛ x ⇒ x `* x `* x
</code></pre></div></div>

<h2 id="let-bindings">Let bindings</h2>

<p>Let bindings affect only the syntax of terms; they introduce no new
types or values:</p>

<h3 id="syntax-1">Syntax</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>L, M, N ::= ...                     Terms
  `let x `= M `in N                   let
</code></pre></div></div>

<h3 id="typing-1">Typing</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Γ ⊢ M ⦂ A
Γ , x ⦂ A ⊢ N ⦂ B
------------------------- `let
Γ ⊢ `let x `= M `in N ⦂ B
</code></pre></div></div>

<h3 id="reduction-1">Reduction</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>M —→ M′
--------------------------------------- ξ-let
`let x `= M `in N —→ `let x `= M′ `in N

---------------------------- β-let
`let x `= V `in N —→ N [ V ]
</code></pre></div></div>

<h3 id="example-1">Example</h3>

<p>Here is a function to raise a primitive number to the tenth power:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>exp10 : ∅ ⊢ Nat ⇒ Nat
exp10 = ƛ x ⇒ `let x2  `= x  `* x  `in
              `let x4  `= x2 `* x2 `in
              `let x5  `= x4 `* x  `in
              x5 `* x5
</code></pre></div></div>

<h3 id="translation">Translation</h3>

<p>We can translate each <em>let</em> term into an application of an abstraction:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(`let x `= M `in N) †  =  (ƛ x ⇒ (N †)) · (M †)
</code></pre></div></div>

<p>Here <code class="highlighter-rouge">M †</code> is the translation of term <code class="highlighter-rouge">M</code> from a calculus with the
construct to a calculus without the construct.</p>

<h2 id="products">Products</h2>

<h3 id="syntax-2">Syntax</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>A, B, C ::= ...                     Types
  A `× B                              product type

L, M, N ::= ...                     Terms
  `⟨ M , N ⟩                          pair
  `proj₁ L                            project first component
  `proj₂ L                            project second component

V, W ::= ...                        Values
  `⟨ V , W ⟩                          pair  
</code></pre></div></div>

<h3 id="typing-2">Typing</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Γ ⊢ M ⦂ A
Γ ⊢ N ⦂ B
----------------------- `⟨_,_⟩ or `×-I
Γ ⊢ `⟨ M , N ⟩ ⦂ A `× B

Γ ⊢ L ⦂ A `× B
---------------- `proj₁ or `×-E₁
Γ ⊢ `proj₁ L ⦂ A

Γ ⊢ L ⦂ A `× B
---------------- `proj₂ or `×-E₂
Γ ⊢ `proj₂ L ⦂ B
</code></pre></div></div>

<h3 id="reduction-2">Reduction</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>M —→ M′
------------------------- ξ-⟨,⟩₁
`⟨ M , N ⟩ —→ `⟨ M′ , N ⟩

N —→ N′
------------------------- ξ-⟨,⟩₂
`⟨ V , N ⟩ —→ `⟨ V , N′ ⟩

L —→ L′
--------------------- ξ-proj₁
`proj₁ L —→ `proj₁ L′

L —→ L′
--------------------- ξ-proj₂
`proj₂ L —→ `proj₂ L′

---------------------- β-proj₁
`proj₁ `⟨ V , W ⟩ —→ V

---------------------- β-proj₂
`proj₂ `⟨ V , W ⟩ —→ W
</code></pre></div></div>

<h3 id="example-2">Example</h3>

<p>Here is a function to swap the components of a pair:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>swap× : ∅ ⊢ A `× B ⇒ B `× A
swap× = ƛ z ⇒ `⟨ proj₂ z , proj₁ z ⟩
</code></pre></div></div>

<h2 id="alternative-formulation-of-products">Alternative formulation of products</h2>

<p>There is an alternative formulation of products, where in place of two
ways to eliminate the type we have a case term that binds two
variables.  We repeat the syntax in full, but only give the new type
and reduction rules:</p>

<h3 id="syntax-3">Syntax</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>A, B, C ::= ...                     Types
  A `× B                              product type

L, M, N ::= ...                     Terms
  `⟨ M , N ⟩                          pair
  case× L [⟨ x , y ⟩=&gt; M ]            case

V, W ::=                            Values
  `⟨ V , W ⟩                          pair  
</code></pre></div></div>

<h3 id="typing-3">Typing</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Γ ⊢ L ⦂ A `× B
Γ , x ⦂ A , y ⦂ B ⊢ N ⦂ C
------------------------------- case× or ×-E
Γ ⊢ case× L [⟨ x , y ⟩⇒ N ] ⦂ C
</code></pre></div></div>

<h3 id="reduction-3">Reduction</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>L —→ L′
--------------------------------------------------- ξ-case×
case× L [⟨ x , y ⟩⇒ N ] —→ case× L′ [⟨ x , y ⟩⇒ N ]

---------------------------------------------------------- β-case×
case× `⟨ V , W ⟩ [⟨ x , y ⟩⇒  N —→ N [ x := V ] [ y := W ]
</code></pre></div></div>

<h3 id="example-3">Example</h3>

<p>Here is a function to swap the components of a pair rewritten in the new notation:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>swap×-case : ∅ ⊢ A `× B ⇒ B `× A
swap×-case = ƛ z ⇒ case× z 
                     [⟨ x , y ⟩⇒ `⟨ y , x ⟩ ]
</code></pre></div></div>

<h3 id="translation-1">Translation</h3>

<p>We can translate the alternative formulation into the one with projections:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  (case× L [⟨ x , y ⟩⇒ N ]) †
=
  `let z `= (L †) `in
  `let x `= `proj₁ z `in
  `let y `= `proj₂ z `in
  (N †)
</code></pre></div></div>

<p>Here <code class="highlighter-rouge">z</code> is a variable that does not appear free in <code class="highlighter-rouge">N</code>.  We refer
to such a variable as <em>fresh</em>.</p>

<p>One might think that we could instead use a more compact translation:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-- WRONG
  (case× L [⟨ x , y ⟩⇒ N ]) †
=
  (N †) [ x := proj₁ (L †) ] [ y := proj₂ (L †) ]
</code></pre></div></div>

<p>But this behaves differently.  The first term always reduces <code class="highlighter-rouge">L</code>
before <code class="highlighter-rouge">N</code>, and it computes <code class="highlighter-rouge">proj₁</code> and <code class="highlighter-rouge">proj₂</code> exactly once.  The
second term does not reduce <code class="highlighter-rouge">L</code> to a value before reducing <code class="highlighter-rouge">N</code>, and
depending on how many times and where <code class="highlighter-rouge">x</code> and <code class="highlighter-rouge">y</code> appear in <code class="highlighter-rouge">N</code>, it
may reduce <code class="highlighter-rouge">L</code> many times or not at all, and it may compute <code class="highlighter-rouge">proj₁</code>
and <code class="highlighter-rouge">proj₂</code> many times or not at all.</p>

<p>We can also translate back the other way:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(`proj₁ L) ‡  =  case× (L ‡) [⟨ x , y ⟩⇒ x ]
(`proj₂ L) ‡  =  case× (L ‡) [⟨ x , y ⟩⇒ y ]
</code></pre></div></div>

<h2 id="sums">Sums</h2>

<h3 id="syntax-4">Syntax</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>A, B, C ::= ...                     Types
  A `⊎ B                              sum type

L, M, N ::= ...                     Terms
  `inj₁ M                             inject first component
  `inj₂ N                             inject second component
  case⊎ L [inj₁ x ⇒ M |inj₂ y ⇒ N ]    case

V, W ::= ...                        Values
  `inj₁ V                             inject first component
  `inj₂ W                             inject second component
</code></pre></div></div>

<h3 id="typing-4">Typing</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Γ ⊢ M ⦂ A
-------------------- `inj₁ or ⊎-I₁
Γ ⊢ `inj₁ M ⦂ A `⊎ B

Γ ⊢ N ⦂ B
-------------------- `inj₂ or ⊎-I₂
Γ ⊢ `inj₂ N ⦂ A `⊎ B

Γ ⊢ L ⦂ A `⊎ B
Γ , x ⦂ A ⊢ M ⦂ C
Γ , y ⦂ B ⊢ N ⦂ C
----------------------------------------- case⊎ or ⊎-E
Γ ⊢ case⊎ L [inj₁ x ⇒ M |inj₂ y ⇒ N ] ⦂ C
</code></pre></div></div>

<h3 id="reduction-4">Reduction</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>M —→ M′
------------------- ξ-inj₁
`inj₁ M —→ `inj₁ M′

N —→ N′
------------------- ξ-inj₂
`inj₂ N —→ `inj₂ N′

L —→ L′
---------------------------------------------------------------------- ξ-case⊎
case⊎ L [inj₁ x ⇒ M |inj₂ y ⇒ N ] —→ case⊎ L′ [inj₁ x ⇒ M |inj₂ y ⇒ N ]

--------------------------------------------------------- β-inj₁
case⊎ (`inj₁ V) [inj₁ x ⇒ M |inj₂ y ⇒ N ] —→ M [ x := V ]

--------------------------------------------------------- β-inj₂
case⊎ (`inj₂ W) [inj₁ x ⇒ M |inj₂ y ⇒ N ] —→ N [ y := W ]
</code></pre></div></div>

<h3 id="example-4">Example</h3>

<p>Here is a function to swap the components of a sum:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>swap⊎ : ∅ ⊢ A `⊎ B ⇒ B `⊎ A
swap⊎ = ƛ z ⇒ case⊎ z
                [inj₁ x ⇒ `inj₂ x
                |inj₂ y ⇒ `inj₁ y ]
</code></pre></div></div>

<h2 id="unit-type">Unit type</h2>

<p>For the unit type, there is a way to introduce
values of the type but no way to eliminate values of the type.
There are no reduction rules.</p>

<h3 id="syntax-5">Syntax</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>A, B, C ::= ...                     Types
  `⊤                                  unit type

L, M, N ::= ...                     Terms
  `tt                                 unit value

V, W ::= ...                        Values
  `tt                                 unit value
</code></pre></div></div>

<h3 id="typing-5">Typing</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>------------ `tt or ⊤-I
Γ ⊢ `tt ⦂ `⊤
</code></pre></div></div>

<h3 id="reduction-5">Reduction</h3>

<p>(none)</p>

<h3 id="example-5">Example</h3>

<p>Here is the isomorphism between <code class="highlighter-rouge">A</code> and <code class="highlighter-rouge">A `× `⊤</code>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>to×⊤ : ∅ ⊢ A ⇒ A `× `⊤
to×⊤ = ƛ x ⇒ `⟨ x , `tt ⟩

from×⊤ : ∅ ⊢ A `× `⊤ ⇒ A
from×⊤ = ƛ z ⇒ proj₁ z
</code></pre></div></div>

<h2 id="alternative-formulation-of-unit-type">Alternative formulation of unit type</h2>

<p>There is an alternative formulation of the unit type, where in place of 
no way to eliminate the type we have a case term that binds zero variables.
We repeat the syntax in full, but only give the new type and reduction rules:</p>

<h3 id="syntax-6">Syntax</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>A, B, C ::= ...                     Types
  `⊤                                  unit type

L, M, N ::= ...                     Terms
  `tt                                 unit value
  `case⊤ L [tt⇒ N ]                   case

V, W ::= ...                        Values
  `tt                                 unit value
</code></pre></div></div>

<h3 id="typing-6">Typing</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Γ ⊢ L ⦂ `⊤
Γ ⊢ M ⦂ A
------------------------ case⊤ or ⊤-E
Γ ⊢ case⊤ L [tt⇒ M ] ⦂ A
</code></pre></div></div>

<h3 id="reduction-6">Reduction</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>L —→ L′
------------------------------------- ξ-case⊤
case⊤ L [tt⇒ M ] —→ case⊤ L′ [tt⇒ M ]

----------------------- β-case⊤
case⊤ `tt [tt⇒ M ] —→ M
</code></pre></div></div>

<h3 id="example-6">Example</h3>

<p>Here is half the isomorphism between <code class="highlighter-rouge">A</code> and <code class="highlighter-rouge">A `× `⊤</code> rewritten in the new notation:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>from×⊤-case : ∅ ⊢ A `× `⊤ ⇒ A
from×⊤-case = ƛ z ⇒ case× z
                      [⟨ x , y ⟩⇒ case⊤ y
                                    [tt⇒ x ] ]
</code></pre></div></div>

<h3 id="translation-2">Translation</h3>

<p>We can translate the alternative formulation into one without case:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(case⊤ L [tt⇒ M ]) †  =  `let z `= (L †) `in (M †)
</code></pre></div></div>

<p>Here <code class="highlighter-rouge">z</code> is a variable that does not appear free in <code class="highlighter-rouge">M</code>.</p>

<h2 id="empty-type">Empty type</h2>

<p>For the empty type, there is a way to eliminate values of
the type but no way to introduce values of the type.  There are no
values of the type and no β rule, but there is a ξ rule.  The <code class="highlighter-rouge">case⊥</code>
construct plays a role similar to <code class="highlighter-rouge">⊥-elim</code> in Agda:</p>

<h3 id="syntax-7">Syntax</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>A, B, C ::= ...                     Types
  `⊥                                  empty type

L, M, N ::= ...                     Terms
  case⊥ L []                          case
</code></pre></div></div>

<h3 id="typing-7">Typing</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Γ ⊢ L ⦂ `⊥
------------------ case⊥ or ⊥-E
Γ ⊢ case⊥ L [] ⦂ A
</code></pre></div></div>

<h3 id="reduction-7">Reduction</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>L —→ L′
------------------------- ξ-case⊥
case⊥ L [] —→ case⊥ L′ []
</code></pre></div></div>

<h3 id="example-7">Example</h3>

<p>Here is the isomorphism between <code class="highlighter-rouge">A</code> and <code class="highlighter-rouge">A `⊎ `⊥</code>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>to⊎⊥ : ∅ ⊢ A ⇒ A `⊎ `⊥
to⊎⊥ = ƛ x ⇒ `inj₁ x

from⊎⊥ : ∅ ⊢ A `⊎ `⊥ ⇒ A
from⊎⊥ = ƛ z ⇒ case⊎ z
                 [inj₁ x ⇒ x
                 |inj₂ y ⇒ case⊥ y
                             [] ]
</code></pre></div></div>

<h2 id="lists">Lists</h2>

<h3 id="syntax-8">Syntax</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>A, B, C ::= ...                     Types
  `List A                             list type

L, M, N ::= ...                     Terms
  `[]                                 nil
  M `∷ N                              cons
  caseL L [nil=&gt; M | x ∷ y ⇒ N ]      case

V, W ::= ...                        Values
  `[]                                 nil
  V `∷ W                              cons
</code></pre></div></div>

<h3 id="typing-8">Typing</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>----------------- `[] or List-I₁
Γ ⊢ `[] ⦂ `List A

Γ ⊢ M ⦂ A
Γ ⊢ N ⦂ `List A
-------------------- _`∷_ or List-I₂
Γ ⊢ M `∷ N ⦂ `List A

Γ ⊢ L ⦂ `List A
Γ ⊢ M ⦂ B
Γ , x ⦂ A , xs ⦂ `List A ⊢ N ⦂ B
-------------------------------------- caseL or List-E
Γ ⊢ caseL L [[]=&gt; M | x ∷ xs ⇒ N ] ⦂ B
</code></pre></div></div>

<h3 id="reduction-8">Reduction</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>M —→ M′
----------------- ξ-∷₁
M `∷ N —→ M′ `∷ N

N —→ N′
----------------- ξ-∷₂
V `∷ N —→ V `∷ N′

L —→ L′
--------------------------------------------------------------- ξ-caseL
caseL L [[]⇒ M | x ∷ xs ⇒ N ] —→ caseL L′ [[]⇒ M | x ∷ xs ⇒ N ]

------------------------------------ β-[]
caseL `[] [[]⇒ M | x ∷ xs ⇒ N ] —→ M

---------------------------------------------------------------- β-∷
caseL (V `∷ W) [[]⇒ M | x ∷ xs ⇒ N ] —→ N [ x := V ] [ xs := W ]
</code></pre></div></div>

<h3 id="example-8">Example</h3>

<p>Here is the map function for lists:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mapL : ∅ ⊢ (A ⇒ B) ⇒ `List A ⇒ `List B
mapL = μ mL ⇒ ƛ f ⇒ ƛ xs ⇒
         caseL xs
           [[]⇒ `[]
           | x ∷ xs ⇒ f · x `∷ ml · f · xs ]
</code></pre></div></div>

<h2 id="formalisation">Formalisation</h2>

<p>We now show how to formalise</p>

<ul>
  <li>primitive numbers</li>
  <li><em>let</em> bindings</li>
  <li>products</li>
  <li>an alternative formulation of products</li>
</ul>

<p>and leave formalisation of the remaining constructs as an exercise.</p>

<h3 id="imports">Imports</h3>

<pre class="Agda"><a id="14075" class="Keyword">import</a> <a id="14082" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="14120" class="Symbol">as</a> <a id="14123" class="Module">Eq</a>
<a id="14126" class="Keyword">open</a> <a id="14131" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="14134" class="Keyword">using</a> <a id="14140" class="Symbol">(</a><a id="14141" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a><a id="14144" class="Symbol">;</a> <a id="14146" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="14150" class="Symbol">)</a>
<a id="14152" class="Keyword">open</a> <a id="14157" class="Keyword">import</a> <a id="14164" href="https://agda.github.io/agda-stdlib/Data.Empty.html" class="Module">Data.Empty</a> <a id="14175" class="Keyword">using</a> <a id="14181" class="Symbol">(</a><a id="14182" href="https://agda.github.io/agda-stdlib/Data.Empty.html#243" class="Datatype">⊥</a><a id="14183" class="Symbol">;</a> <a id="14185" href="https://agda.github.io/agda-stdlib/Data.Empty.html#360" class="Function">⊥-elim</a><a id="14191" class="Symbol">)</a>
<a id="14193" class="Keyword">open</a> <a id="14198" class="Keyword">import</a> <a id="14205" href="https://agda.github.io/agda-stdlib/Data.Nat.html" class="Module">Data.Nat</a> <a id="14214" class="Keyword">using</a> <a id="14220" class="Symbol">(</a><a id="14221" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a><a id="14222" class="Symbol">;</a> <a id="14224" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a><a id="14228" class="Symbol">;</a> <a id="14230" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a><a id="14233" class="Symbol">;</a> <a id="14235" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#433" class="Primitive Operator">_*_</a><a id="14238" class="Symbol">)</a>
<a id="14240" class="Keyword">open</a> <a id="14245" class="Keyword">import</a> <a id="14252" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="14269" class="Keyword">using</a> <a id="14275" class="Symbol">(</a><a id="14276" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#464" class="Function Operator">¬_</a><a id="14278" class="Symbol">)</a></pre>

<h3 id="syntax-9">Syntax</h3>

<pre class="Agda"><a id="14318" class="Keyword">infix</a>  <a id="14325" class="Number">4</a> <a id="14327" href="/PLFA-zh/More/#15026" class="Datatype Operator">_⊢_</a>
<a id="14331" class="Keyword">infix</a>  <a id="14338" class="Number">4</a> <a id="14340" href="/PLFA-zh/More/#14816" class="Datatype Operator">_∋_</a>
<a id="14344" class="Keyword">infixl</a> <a id="14351" class="Number">5</a> <a id="14353" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">_,_</a>

<a id="14358" class="Keyword">infixr</a> <a id="14365" class="Number">7</a> <a id="14367" href="/PLFA-zh/More/#14563" class="InductiveConstructor Operator">_⇒_</a>
<a id="14371" class="Keyword">infixr</a> <a id="14378" class="Number">9</a> <a id="14380" href="/PLFA-zh/More/#14607" class="InductiveConstructor Operator">_`×_</a>

<a id="14386" class="Keyword">infix</a>  <a id="14393" class="Number">5</a> <a id="14395" href="/PLFA-zh/More/#15146" class="InductiveConstructor Operator">ƛ_</a>
<a id="14398" class="Keyword">infix</a>  <a id="14405" class="Number">5</a> <a id="14407" href="/PLFA-zh/More/#15502" class="InductiveConstructor Operator">μ_</a>
<a id="14410" class="Keyword">infixl</a> <a id="14417" class="Number">7</a> <a id="14419" href="/PLFA-zh/More/#15214" class="InductiveConstructor Operator">_·_</a>
<a id="14423" class="Keyword">infixl</a> <a id="14430" class="Number">8</a> <a id="14432" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">_`*_</a>
<a id="14437" class="Keyword">infix</a>  <a id="14444" class="Number">8</a> <a id="14446" href="/PLFA-zh/More/#15347" class="InductiveConstructor Operator">`suc_</a>
<a id="14452" class="Keyword">infix</a>  <a id="14459" class="Number">9</a> <a id="14461" href="/PLFA-zh/More/#15078" class="InductiveConstructor Operator">`_</a>
<a id="14464" class="Keyword">infix</a>  <a id="14471" class="Number">9</a> <a id="14473" href="/PLFA-zh/More/#14899" class="InductiveConstructor Operator">S_</a>
<a id="14476" class="Keyword">infix</a>  <a id="14483" class="Number">9</a> <a id="14485" href="/PLFA-zh/More/#16584" class="Function Operator">#_</a></pre>

<h3 id="types">Types</h3>

<pre class="Agda"><a id="14524" class="Keyword">data</a> <a id="Type"></a><a id="14529" href="/PLFA-zh/More/#14529" class="Datatype">Type</a> <a id="14534" class="Symbol">:</a> <a id="14536" class="PrimitiveType">Set</a> <a id="14540" class="Keyword">where</a>
  <a id="Type.`ℕ"></a><a id="14548" href="/PLFA-zh/More/#14548" class="InductiveConstructor">`ℕ</a>    <a id="14554" class="Symbol">:</a> <a id="14556" href="/PLFA-zh/More/#14529" class="Datatype">Type</a>
  <a id="Type._⇒_"></a><a id="14563" href="/PLFA-zh/More/#14563" class="InductiveConstructor Operator">_⇒_</a>   <a id="14569" class="Symbol">:</a> <a id="14571" href="/PLFA-zh/More/#14529" class="Datatype">Type</a> <a id="14576" class="Symbol">→</a> <a id="14578" href="/PLFA-zh/More/#14529" class="Datatype">Type</a> <a id="14583" class="Symbol">→</a> <a id="14585" href="/PLFA-zh/More/#14529" class="Datatype">Type</a>
  <a id="Type.Nat"></a><a id="14592" href="/PLFA-zh/More/#14592" class="InductiveConstructor">Nat</a>   <a id="14598" class="Symbol">:</a> <a id="14600" href="/PLFA-zh/More/#14529" class="Datatype">Type</a>
  <a id="Type._`×_"></a><a id="14607" href="/PLFA-zh/More/#14607" class="InductiveConstructor Operator">_`×_</a>  <a id="14613" class="Symbol">:</a> <a id="14615" href="/PLFA-zh/More/#14529" class="Datatype">Type</a> <a id="14620" class="Symbol">→</a> <a id="14622" href="/PLFA-zh/More/#14529" class="Datatype">Type</a> <a id="14627" class="Symbol">→</a> <a id="14629" href="/PLFA-zh/More/#14529" class="Datatype">Type</a></pre>

<h3 id="contexts">Contexts</h3>

<pre class="Agda"><a id="14673" class="Keyword">data</a> <a id="Context"></a><a id="14678" href="/PLFA-zh/More/#14678" class="Datatype">Context</a> <a id="14686" class="Symbol">:</a> <a id="14688" class="PrimitiveType">Set</a> <a id="14692" class="Keyword">where</a>
  <a id="Context.∅"></a><a id="14700" href="/PLFA-zh/More/#14700" class="InductiveConstructor">∅</a>   <a id="14704" class="Symbol">:</a> <a id="14706" href="/PLFA-zh/More/#14678" class="Datatype">Context</a>
  <a id="Context._,_"></a><a id="14716" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">_,_</a> <a id="14720" class="Symbol">:</a> <a id="14722" href="/PLFA-zh/More/#14678" class="Datatype">Context</a> <a id="14730" class="Symbol">→</a> <a id="14732" href="/PLFA-zh/More/#14529" class="Datatype">Type</a> <a id="14737" class="Symbol">→</a> <a id="14739" href="/PLFA-zh/More/#14678" class="Datatype">Context</a></pre>

<h3 id="variables-and-the-lookup-judgment">Variables and the lookup judgment</h3>

<pre class="Agda"><a id="14811" class="Keyword">data</a> <a id="_∋_"></a><a id="14816" href="/PLFA-zh/More/#14816" class="Datatype Operator">_∋_</a> <a id="14820" class="Symbol">:</a> <a id="14822" href="/PLFA-zh/More/#14678" class="Datatype">Context</a> <a id="14830" class="Symbol">→</a> <a id="14832" href="/PLFA-zh/More/#14529" class="Datatype">Type</a> <a id="14837" class="Symbol">→</a> <a id="14839" class="PrimitiveType">Set</a> <a id="14843" class="Keyword">where</a>

  <a id="_∋_.Z"></a><a id="14852" href="/PLFA-zh/More/#14852" class="InductiveConstructor">Z</a> <a id="14854" class="Symbol">:</a> <a id="14856" class="Symbol">∀</a> <a id="14858" class="Symbol">{</a><a id="14859" href="/PLFA-zh/More/#14859" class="Bound">Γ</a> <a id="14861" href="/PLFA-zh/More/#14861" class="Bound">A</a><a id="14862" class="Symbol">}</a>
      <a id="14870" class="Comment">---------</a>
    <a id="14884" class="Symbol">→</a> <a id="14886" href="/PLFA-zh/More/#14859" class="Bound">Γ</a> <a id="14888" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="14890" href="/PLFA-zh/More/#14861" class="Bound">A</a> <a id="14892" href="/PLFA-zh/More/#14816" class="Datatype Operator">∋</a> <a id="14894" href="/PLFA-zh/More/#14861" class="Bound">A</a>

  <a id="_∋_.S_"></a><a id="14899" href="/PLFA-zh/More/#14899" class="InductiveConstructor Operator">S_</a> <a id="14902" class="Symbol">:</a> <a id="14904" class="Symbol">∀</a> <a id="14906" class="Symbol">{</a><a id="14907" href="/PLFA-zh/More/#14907" class="Bound">Γ</a> <a id="14909" href="/PLFA-zh/More/#14909" class="Bound">A</a> <a id="14911" href="/PLFA-zh/More/#14911" class="Bound">B</a><a id="14912" class="Symbol">}</a>
    <a id="14918" class="Symbol">→</a> <a id="14920" href="/PLFA-zh/More/#14907" class="Bound">Γ</a> <a id="14922" href="/PLFA-zh/More/#14816" class="Datatype Operator">∋</a> <a id="14924" href="/PLFA-zh/More/#14911" class="Bound">B</a>
      <a id="14932" class="Comment">---------</a>
    <a id="14946" class="Symbol">→</a> <a id="14948" href="/PLFA-zh/More/#14907" class="Bound">Γ</a> <a id="14950" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="14952" href="/PLFA-zh/More/#14909" class="Bound">A</a> <a id="14954" href="/PLFA-zh/More/#14816" class="Datatype Operator">∋</a> <a id="14956" href="/PLFA-zh/More/#14911" class="Bound">B</a></pre>

<h3 id="terms-and-the-typing-judgment">Terms and the typing judgment</h3>

<pre class="Agda"><a id="15021" class="Keyword">data</a> <a id="_⊢_"></a><a id="15026" href="/PLFA-zh/More/#15026" class="Datatype Operator">_⊢_</a> <a id="15030" class="Symbol">:</a> <a id="15032" href="/PLFA-zh/More/#14678" class="Datatype">Context</a> <a id="15040" class="Symbol">→</a> <a id="15042" href="/PLFA-zh/More/#14529" class="Datatype">Type</a> <a id="15047" class="Symbol">→</a> <a id="15049" class="PrimitiveType">Set</a> <a id="15053" class="Keyword">where</a>

  <a id="15062" class="Comment">-- variables</a>

  <a id="_⊢_.`_"></a><a id="15078" href="/PLFA-zh/More/#15078" class="InductiveConstructor Operator">`_</a> <a id="15081" class="Symbol">:</a> <a id="15083" class="Symbol">∀</a> <a id="15085" class="Symbol">{</a><a id="15086" href="/PLFA-zh/More/#15086" class="Bound">Γ</a> <a id="15088" href="/PLFA-zh/More/#15088" class="Bound">A</a><a id="15089" class="Symbol">}</a>
    <a id="15095" class="Symbol">→</a> <a id="15097" href="/PLFA-zh/More/#15086" class="Bound">Γ</a> <a id="15099" href="/PLFA-zh/More/#14816" class="Datatype Operator">∋</a> <a id="15101" href="/PLFA-zh/More/#15088" class="Bound">A</a>
      <a id="15109" class="Comment">-----</a>
    <a id="15119" class="Symbol">→</a> <a id="15121" href="/PLFA-zh/More/#15086" class="Bound">Γ</a> <a id="15123" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15125" href="/PLFA-zh/More/#15088" class="Bound">A</a>

  <a id="15130" class="Comment">-- functions</a>

  <a id="_⊢_.ƛ_"></a><a id="15146" href="/PLFA-zh/More/#15146" class="InductiveConstructor Operator">ƛ_</a>  <a id="15150" class="Symbol">:</a>  <a id="15153" class="Symbol">∀</a> <a id="15155" class="Symbol">{</a><a id="15156" href="/PLFA-zh/More/#15156" class="Bound">Γ</a> <a id="15158" href="/PLFA-zh/More/#15158" class="Bound">A</a> <a id="15160" href="/PLFA-zh/More/#15160" class="Bound">B</a><a id="15161" class="Symbol">}</a>
    <a id="15167" class="Symbol">→</a> <a id="15169" href="/PLFA-zh/More/#15156" class="Bound">Γ</a> <a id="15171" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="15173" href="/PLFA-zh/More/#15158" class="Bound">A</a> <a id="15175" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15177" href="/PLFA-zh/More/#15160" class="Bound">B</a>
      <a id="15185" class="Comment">---------</a>
    <a id="15199" class="Symbol">→</a> <a id="15201" href="/PLFA-zh/More/#15156" class="Bound">Γ</a> <a id="15203" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15205" href="/PLFA-zh/More/#15158" class="Bound">A</a> <a id="15207" href="/PLFA-zh/More/#14563" class="InductiveConstructor Operator">⇒</a> <a id="15209" href="/PLFA-zh/More/#15160" class="Bound">B</a>

  <a id="_⊢_._·_"></a><a id="15214" href="/PLFA-zh/More/#15214" class="InductiveConstructor Operator">_·_</a> <a id="15218" class="Symbol">:</a> <a id="15220" class="Symbol">∀</a> <a id="15222" class="Symbol">{</a><a id="15223" href="/PLFA-zh/More/#15223" class="Bound">Γ</a> <a id="15225" href="/PLFA-zh/More/#15225" class="Bound">A</a> <a id="15227" href="/PLFA-zh/More/#15227" class="Bound">B</a><a id="15228" class="Symbol">}</a>
    <a id="15234" class="Symbol">→</a> <a id="15236" href="/PLFA-zh/More/#15223" class="Bound">Γ</a> <a id="15238" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15240" href="/PLFA-zh/More/#15225" class="Bound">A</a> <a id="15242" href="/PLFA-zh/More/#14563" class="InductiveConstructor Operator">⇒</a> <a id="15244" href="/PLFA-zh/More/#15227" class="Bound">B</a>
    <a id="15250" class="Symbol">→</a> <a id="15252" href="/PLFA-zh/More/#15223" class="Bound">Γ</a> <a id="15254" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15256" href="/PLFA-zh/More/#15225" class="Bound">A</a>
      <a id="15264" class="Comment">---------</a>
    <a id="15278" class="Symbol">→</a> <a id="15280" href="/PLFA-zh/More/#15223" class="Bound">Γ</a> <a id="15282" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15284" href="/PLFA-zh/More/#15227" class="Bound">B</a>

  <a id="15289" class="Comment">-- naturals</a>

  <a id="_⊢_.`zero"></a><a id="15304" href="/PLFA-zh/More/#15304" class="InductiveConstructor">`zero</a> <a id="15310" class="Symbol">:</a> <a id="15312" class="Symbol">∀</a> <a id="15314" class="Symbol">{</a><a id="15315" href="/PLFA-zh/More/#15315" class="Bound">Γ</a><a id="15316" class="Symbol">}</a>
      <a id="15324" class="Comment">------</a>
    <a id="15335" class="Symbol">→</a> <a id="15337" href="/PLFA-zh/More/#15315" class="Bound">Γ</a> <a id="15339" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15341" href="/PLFA-zh/More/#14548" class="InductiveConstructor">`ℕ</a>

  <a id="_⊢_.`suc_"></a><a id="15347" href="/PLFA-zh/More/#15347" class="InductiveConstructor Operator">`suc_</a> <a id="15353" class="Symbol">:</a> <a id="15355" class="Symbol">∀</a> <a id="15357" class="Symbol">{</a><a id="15358" href="/PLFA-zh/More/#15358" class="Bound">Γ</a><a id="15359" class="Symbol">}</a>
    <a id="15365" class="Symbol">→</a> <a id="15367" href="/PLFA-zh/More/#15358" class="Bound">Γ</a> <a id="15369" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15371" href="/PLFA-zh/More/#14548" class="InductiveConstructor">`ℕ</a>
      <a id="15380" class="Comment">------</a>
    <a id="15391" class="Symbol">→</a> <a id="15393" href="/PLFA-zh/More/#15358" class="Bound">Γ</a> <a id="15395" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15397" href="/PLFA-zh/More/#14548" class="InductiveConstructor">`ℕ</a>

  <a id="_⊢_.case"></a><a id="15403" href="/PLFA-zh/More/#15403" class="InductiveConstructor">case</a> <a id="15408" class="Symbol">:</a> <a id="15410" class="Symbol">∀</a> <a id="15412" class="Symbol">{</a><a id="15413" href="/PLFA-zh/More/#15413" class="Bound">Γ</a> <a id="15415" href="/PLFA-zh/More/#15415" class="Bound">A</a><a id="15416" class="Symbol">}</a>
    <a id="15422" class="Symbol">→</a> <a id="15424" href="/PLFA-zh/More/#15413" class="Bound">Γ</a> <a id="15426" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15428" href="/PLFA-zh/More/#14548" class="InductiveConstructor">`ℕ</a>
    <a id="15435" class="Symbol">→</a> <a id="15437" href="/PLFA-zh/More/#15413" class="Bound">Γ</a> <a id="15439" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15441" href="/PLFA-zh/More/#15415" class="Bound">A</a>
    <a id="15447" class="Symbol">→</a> <a id="15449" href="/PLFA-zh/More/#15413" class="Bound">Γ</a> <a id="15451" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="15453" href="/PLFA-zh/More/#14548" class="InductiveConstructor">`ℕ</a> <a id="15456" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15458" href="/PLFA-zh/More/#15415" class="Bound">A</a>
      <a id="15466" class="Comment">-----</a>
    <a id="15476" class="Symbol">→</a> <a id="15478" href="/PLFA-zh/More/#15413" class="Bound">Γ</a> <a id="15480" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15482" href="/PLFA-zh/More/#15415" class="Bound">A</a>

  <a id="15487" class="Comment">-- fixpoint</a>

  <a id="_⊢_.μ_"></a><a id="15502" href="/PLFA-zh/More/#15502" class="InductiveConstructor Operator">μ_</a> <a id="15505" class="Symbol">:</a> <a id="15507" class="Symbol">∀</a> <a id="15509" class="Symbol">{</a><a id="15510" href="/PLFA-zh/More/#15510" class="Bound">Γ</a> <a id="15512" href="/PLFA-zh/More/#15512" class="Bound">A</a><a id="15513" class="Symbol">}</a>
    <a id="15519" class="Symbol">→</a> <a id="15521" href="/PLFA-zh/More/#15510" class="Bound">Γ</a> <a id="15523" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="15525" href="/PLFA-zh/More/#15512" class="Bound">A</a> <a id="15527" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15529" href="/PLFA-zh/More/#15512" class="Bound">A</a>
      <a id="15537" class="Comment">----------</a>
    <a id="15552" class="Symbol">→</a> <a id="15554" href="/PLFA-zh/More/#15510" class="Bound">Γ</a> <a id="15556" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15558" href="/PLFA-zh/More/#15512" class="Bound">A</a>

  <a id="15563" class="Comment">-- primitive numbers</a>

  <a id="_⊢_.con"></a><a id="15587" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="15591" class="Symbol">:</a> <a id="15593" class="Symbol">∀</a> <a id="15595" class="Symbol">{</a><a id="15596" href="/PLFA-zh/More/#15596" class="Bound">Γ</a><a id="15597" class="Symbol">}</a>
    <a id="15603" class="Symbol">→</a> <a id="15605" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a>
      <a id="15613" class="Comment">-------</a>
    <a id="15625" class="Symbol">→</a> <a id="15627" href="/PLFA-zh/More/#15596" class="Bound">Γ</a> <a id="15629" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15631" href="/PLFA-zh/More/#14592" class="InductiveConstructor">Nat</a>

  <a id="_⊢_._`*_"></a><a id="15638" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">_`*_</a> <a id="15643" class="Symbol">:</a> <a id="15645" class="Symbol">∀</a> <a id="15647" class="Symbol">{</a><a id="15648" href="/PLFA-zh/More/#15648" class="Bound">Γ</a><a id="15649" class="Symbol">}</a>
    <a id="15655" class="Symbol">→</a> <a id="15657" href="/PLFA-zh/More/#15648" class="Bound">Γ</a> <a id="15659" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15661" href="/PLFA-zh/More/#14592" class="InductiveConstructor">Nat</a>
    <a id="15669" class="Symbol">→</a> <a id="15671" href="/PLFA-zh/More/#15648" class="Bound">Γ</a> <a id="15673" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15675" href="/PLFA-zh/More/#14592" class="InductiveConstructor">Nat</a>
      <a id="15685" class="Comment">-------</a>
    <a id="15697" class="Symbol">→</a> <a id="15699" href="/PLFA-zh/More/#15648" class="Bound">Γ</a> <a id="15701" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15703" href="/PLFA-zh/More/#14592" class="InductiveConstructor">Nat</a>

  <a id="15710" class="Comment">-- let</a>

  <a id="_⊢_.`let"></a><a id="15720" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="15725" class="Symbol">:</a> <a id="15727" class="Symbol">∀</a> <a id="15729" class="Symbol">{</a><a id="15730" href="/PLFA-zh/More/#15730" class="Bound">Γ</a> <a id="15732" href="/PLFA-zh/More/#15732" class="Bound">A</a> <a id="15734" href="/PLFA-zh/More/#15734" class="Bound">B</a><a id="15735" class="Symbol">}</a>
    <a id="15741" class="Symbol">→</a> <a id="15743" href="/PLFA-zh/More/#15730" class="Bound">Γ</a> <a id="15745" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15747" href="/PLFA-zh/More/#15732" class="Bound">A</a>
    <a id="15753" class="Symbol">→</a> <a id="15755" href="/PLFA-zh/More/#15730" class="Bound">Γ</a> <a id="15757" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="15759" href="/PLFA-zh/More/#15732" class="Bound">A</a> <a id="15761" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15763" href="/PLFA-zh/More/#15734" class="Bound">B</a>
      <a id="15771" class="Comment">----------</a>
    <a id="15786" class="Symbol">→</a> <a id="15788" href="/PLFA-zh/More/#15730" class="Bound">Γ</a> <a id="15790" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15792" href="/PLFA-zh/More/#15734" class="Bound">B</a>

  <a id="15797" class="Comment">-- products</a>

  <a id="_⊢_.`⟨_,_⟩"></a><a id="15812" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨_,_⟩</a> <a id="15819" class="Symbol">:</a> <a id="15821" class="Symbol">∀</a> <a id="15823" class="Symbol">{</a><a id="15824" href="/PLFA-zh/More/#15824" class="Bound">Γ</a> <a id="15826" href="/PLFA-zh/More/#15826" class="Bound">A</a> <a id="15828" href="/PLFA-zh/More/#15828" class="Bound">B</a><a id="15829" class="Symbol">}</a>
    <a id="15835" class="Symbol">→</a> <a id="15837" href="/PLFA-zh/More/#15824" class="Bound">Γ</a> <a id="15839" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15841" href="/PLFA-zh/More/#15826" class="Bound">A</a>
    <a id="15847" class="Symbol">→</a> <a id="15849" href="/PLFA-zh/More/#15824" class="Bound">Γ</a> <a id="15851" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15853" href="/PLFA-zh/More/#15828" class="Bound">B</a>
      <a id="15861" class="Comment">-----------</a>
    <a id="15877" class="Symbol">→</a> <a id="15879" href="/PLFA-zh/More/#15824" class="Bound">Γ</a> <a id="15881" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15883" href="/PLFA-zh/More/#15826" class="Bound">A</a> <a id="15885" href="/PLFA-zh/More/#14607" class="InductiveConstructor Operator">`×</a> <a id="15888" href="/PLFA-zh/More/#15828" class="Bound">B</a>

  <a id="_⊢_.`proj₁"></a><a id="15893" href="/PLFA-zh/More/#15893" class="InductiveConstructor">`proj₁</a> <a id="15900" class="Symbol">:</a> <a id="15902" class="Symbol">∀</a> <a id="15904" class="Symbol">{</a><a id="15905" href="/PLFA-zh/More/#15905" class="Bound">Γ</a> <a id="15907" href="/PLFA-zh/More/#15907" class="Bound">A</a> <a id="15909" href="/PLFA-zh/More/#15909" class="Bound">B</a><a id="15910" class="Symbol">}</a>
    <a id="15916" class="Symbol">→</a> <a id="15918" href="/PLFA-zh/More/#15905" class="Bound">Γ</a> <a id="15920" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15922" href="/PLFA-zh/More/#15907" class="Bound">A</a> <a id="15924" href="/PLFA-zh/More/#14607" class="InductiveConstructor Operator">`×</a> <a id="15927" href="/PLFA-zh/More/#15909" class="Bound">B</a>
      <a id="15935" class="Comment">-----------</a>
    <a id="15951" class="Symbol">→</a> <a id="15953" href="/PLFA-zh/More/#15905" class="Bound">Γ</a> <a id="15955" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15957" href="/PLFA-zh/More/#15907" class="Bound">A</a>

  <a id="_⊢_.`proj₂"></a><a id="15962" href="/PLFA-zh/More/#15962" class="InductiveConstructor">`proj₂</a> <a id="15969" class="Symbol">:</a> <a id="15971" class="Symbol">∀</a> <a id="15973" class="Symbol">{</a><a id="15974" href="/PLFA-zh/More/#15974" class="Bound">Γ</a> <a id="15976" href="/PLFA-zh/More/#15976" class="Bound">A</a> <a id="15978" href="/PLFA-zh/More/#15978" class="Bound">B</a><a id="15979" class="Symbol">}</a>
    <a id="15985" class="Symbol">→</a> <a id="15987" href="/PLFA-zh/More/#15974" class="Bound">Γ</a> <a id="15989" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="15991" href="/PLFA-zh/More/#15976" class="Bound">A</a> <a id="15993" href="/PLFA-zh/More/#14607" class="InductiveConstructor Operator">`×</a> <a id="15996" href="/PLFA-zh/More/#15978" class="Bound">B</a>
      <a id="16004" class="Comment">-----------</a>
    <a id="16020" class="Symbol">→</a> <a id="16022" href="/PLFA-zh/More/#15974" class="Bound">Γ</a> <a id="16024" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="16026" href="/PLFA-zh/More/#15978" class="Bound">B</a>

  <a id="16031" class="Comment">-- alternative formulation of products</a>

  <a id="_⊢_.case×"></a><a id="16073" href="/PLFA-zh/More/#16073" class="InductiveConstructor">case×</a> <a id="16079" class="Symbol">:</a> <a id="16081" class="Symbol">∀</a> <a id="16083" class="Symbol">{</a><a id="16084" href="/PLFA-zh/More/#16084" class="Bound">Γ</a> <a id="16086" href="/PLFA-zh/More/#16086" class="Bound">A</a> <a id="16088" href="/PLFA-zh/More/#16088" class="Bound">B</a> <a id="16090" href="/PLFA-zh/More/#16090" class="Bound">C</a><a id="16091" class="Symbol">}</a>
    <a id="16097" class="Symbol">→</a> <a id="16099" href="/PLFA-zh/More/#16084" class="Bound">Γ</a> <a id="16101" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="16103" href="/PLFA-zh/More/#16086" class="Bound">A</a> <a id="16105" href="/PLFA-zh/More/#14607" class="InductiveConstructor Operator">`×</a> <a id="16108" href="/PLFA-zh/More/#16088" class="Bound">B</a>
    <a id="16114" class="Symbol">→</a> <a id="16116" href="/PLFA-zh/More/#16084" class="Bound">Γ</a> <a id="16118" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="16120" href="/PLFA-zh/More/#16086" class="Bound">A</a> <a id="16122" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="16124" href="/PLFA-zh/More/#16088" class="Bound">B</a> <a id="16126" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="16128" href="/PLFA-zh/More/#16090" class="Bound">C</a>
      <a id="16136" class="Comment">--------------</a>
    <a id="16155" class="Symbol">→</a> <a id="16157" href="/PLFA-zh/More/#16084" class="Bound">Γ</a> <a id="16159" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="16161" href="/PLFA-zh/More/#16090" class="Bound">C</a></pre>

<h3 id="abbreviating-de-bruijn-indices">Abbreviating de Bruijn indices</h3>

<pre class="Agda"><a id="lookup"></a><a id="16225" href="/PLFA-zh/More/#16225" class="Function">lookup</a> <a id="16232" class="Symbol">:</a> <a id="16234" href="/PLFA-zh/More/#14678" class="Datatype">Context</a> <a id="16242" class="Symbol">→</a> <a id="16244" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="16246" class="Symbol">→</a> <a id="16248" href="/PLFA-zh/More/#14529" class="Datatype">Type</a>
<a id="16253" href="/PLFA-zh/More/#16225" class="Function">lookup</a> <a id="16260" class="Symbol">(</a><a id="16261" href="/PLFA-zh/More/#16261" class="Bound">Γ</a> <a id="16263" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="16265" href="/PLFA-zh/More/#16265" class="Bound">A</a><a id="16266" class="Symbol">)</a> <a id="16268" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a>     <a id="16277" class="Symbol">=</a>  <a id="16280" href="/PLFA-zh/More/#16265" class="Bound">A</a>
<a id="16282" href="/PLFA-zh/More/#16225" class="Function">lookup</a> <a id="16289" class="Symbol">(</a><a id="16290" href="/PLFA-zh/More/#16290" class="Bound">Γ</a> <a id="16292" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="16294" class="Symbol">_)</a> <a id="16297" class="Symbol">(</a><a id="16298" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="16302" href="/PLFA-zh/More/#16302" class="Bound">n</a><a id="16303" class="Symbol">)</a>  <a id="16306" class="Symbol">=</a>  <a id="16309" href="/PLFA-zh/More/#16225" class="Function">lookup</a> <a id="16316" href="/PLFA-zh/More/#16290" class="Bound">Γ</a> <a id="16318" href="/PLFA-zh/More/#16302" class="Bound">n</a>
<a id="16320" href="/PLFA-zh/More/#16225" class="Function">lookup</a> <a id="16327" href="/PLFA-zh/More/#14700" class="InductiveConstructor">∅</a>       <a id="16335" class="Symbol">_</a>        <a id="16344" class="Symbol">=</a>  <a id="16347" href="https://agda.github.io/agda-stdlib/Data.Empty.html#360" class="Function">⊥-elim</a> <a id="16354" href="/PLFA-zh/More/#16383" class="Postulate">impossible</a>
  <a id="16367" class="Keyword">where</a> <a id="16373" class="Keyword">postulate</a> <a id="16383" href="/PLFA-zh/More/#16383" class="Postulate">impossible</a> <a id="16394" class="Symbol">:</a> <a id="16396" href="https://agda.github.io/agda-stdlib/Data.Empty.html#243" class="Datatype">⊥</a>

<a id="count"></a><a id="16399" href="/PLFA-zh/More/#16399" class="Function">count</a> <a id="16405" class="Symbol">:</a> <a id="16407" class="Symbol">∀</a> <a id="16409" class="Symbol">{</a><a id="16410" href="/PLFA-zh/More/#16410" class="Bound">Γ</a><a id="16411" class="Symbol">}</a> <a id="16413" class="Symbol">→</a> <a id="16415" class="Symbol">(</a><a id="16416" href="/PLFA-zh/More/#16416" class="Bound">n</a> <a id="16418" class="Symbol">:</a> <a id="16420" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a><a id="16421" class="Symbol">)</a> <a id="16423" class="Symbol">→</a> <a id="16425" href="/PLFA-zh/More/#16410" class="Bound">Γ</a> <a id="16427" href="/PLFA-zh/More/#14816" class="Datatype Operator">∋</a> <a id="16429" href="/PLFA-zh/More/#16225" class="Function">lookup</a> <a id="16436" href="/PLFA-zh/More/#16410" class="Bound">Γ</a> <a id="16438" href="/PLFA-zh/More/#16416" class="Bound">n</a>
<a id="16440" href="/PLFA-zh/More/#16399" class="Function">count</a> <a id="16446" class="Symbol">{</a><a id="16447" href="/PLFA-zh/More/#16447" class="Bound">Γ</a> <a id="16449" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="16451" class="Symbol">_}</a> <a id="16454" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a>     <a id="16463" class="Symbol">=</a>  <a id="16466" href="/PLFA-zh/More/#14852" class="InductiveConstructor">Z</a>
<a id="16468" href="/PLFA-zh/More/#16399" class="Function">count</a> <a id="16474" class="Symbol">{</a><a id="16475" href="/PLFA-zh/More/#16475" class="Bound">Γ</a> <a id="16477" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="16479" class="Symbol">_}</a> <a id="16482" class="Symbol">(</a><a id="16483" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="16487" href="/PLFA-zh/More/#16487" class="Bound">n</a><a id="16488" class="Symbol">)</a>  <a id="16491" class="Symbol">=</a>  <a id="16494" href="/PLFA-zh/More/#14899" class="InductiveConstructor Operator">S</a> <a id="16496" class="Symbol">(</a><a id="16497" href="/PLFA-zh/More/#16399" class="Function">count</a> <a id="16503" href="/PLFA-zh/More/#16487" class="Bound">n</a><a id="16504" class="Symbol">)</a>
<a id="16506" href="/PLFA-zh/More/#16399" class="Function">count</a> <a id="16512" class="Symbol">{</a><a id="16513" href="/PLFA-zh/More/#14700" class="InductiveConstructor">∅</a><a id="16514" class="Symbol">}</a>     <a id="16520" class="Symbol">_</a>        <a id="16529" class="Symbol">=</a>  <a id="16532" href="https://agda.github.io/agda-stdlib/Data.Empty.html#360" class="Function">⊥-elim</a> <a id="16539" href="/PLFA-zh/More/#16568" class="Postulate">impossible</a>
  <a id="16552" class="Keyword">where</a> <a id="16558" class="Keyword">postulate</a> <a id="16568" href="/PLFA-zh/More/#16568" class="Postulate">impossible</a> <a id="16579" class="Symbol">:</a> <a id="16581" href="https://agda.github.io/agda-stdlib/Data.Empty.html#243" class="Datatype">⊥</a>

<a id="#_"></a><a id="16584" href="/PLFA-zh/More/#16584" class="Function Operator">#_</a> <a id="16587" class="Symbol">:</a> <a id="16589" class="Symbol">∀</a> <a id="16591" class="Symbol">{</a><a id="16592" href="/PLFA-zh/More/#16592" class="Bound">Γ</a><a id="16593" class="Symbol">}</a> <a id="16595" class="Symbol">→</a> <a id="16597" class="Symbol">(</a><a id="16598" href="/PLFA-zh/More/#16598" class="Bound">n</a> <a id="16600" class="Symbol">:</a> <a id="16602" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a><a id="16603" class="Symbol">)</a> <a id="16605" class="Symbol">→</a> <a id="16607" href="/PLFA-zh/More/#16592" class="Bound">Γ</a> <a id="16609" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="16611" href="/PLFA-zh/More/#16225" class="Function">lookup</a> <a id="16618" href="/PLFA-zh/More/#16592" class="Bound">Γ</a> <a id="16620" href="/PLFA-zh/More/#16598" class="Bound">n</a>
<a id="16622" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="16624" href="/PLFA-zh/More/#16624" class="Bound">n</a>  <a id="16627" class="Symbol">=</a>  <a id="16630" href="/PLFA-zh/More/#15078" class="InductiveConstructor Operator">`</a> <a id="16632" href="/PLFA-zh/More/#16399" class="Function">count</a> <a id="16638" href="/PLFA-zh/More/#16624" class="Bound">n</a></pre>

<h2 id="renaming">Renaming</h2>

<pre class="Agda"><a id="ext"></a><a id="16678" href="/PLFA-zh/More/#16678" class="Function">ext</a> <a id="16682" class="Symbol">:</a> <a id="16684" class="Symbol">∀</a> <a id="16686" class="Symbol">{</a><a id="16687" href="/PLFA-zh/More/#16687" class="Bound">Γ</a> <a id="16689" href="/PLFA-zh/More/#16689" class="Bound">Δ</a><a id="16690" class="Symbol">}</a> <a id="16692" class="Symbol">→</a> <a id="16694" class="Symbol">(∀</a> <a id="16697" class="Symbol">{</a><a id="16698" href="/PLFA-zh/More/#16698" class="Bound">A</a><a id="16699" class="Symbol">}</a> <a id="16701" class="Symbol">→</a> <a id="16703" href="/PLFA-zh/More/#16687" class="Bound">Γ</a> <a id="16705" href="/PLFA-zh/More/#14816" class="Datatype Operator">∋</a> <a id="16707" href="/PLFA-zh/More/#16698" class="Bound">A</a> <a id="16709" class="Symbol">→</a> <a id="16711" href="/PLFA-zh/More/#16689" class="Bound">Δ</a> <a id="16713" href="/PLFA-zh/More/#14816" class="Datatype Operator">∋</a> <a id="16715" href="/PLFA-zh/More/#16698" class="Bound">A</a><a id="16716" class="Symbol">)</a> <a id="16718" class="Symbol">→</a> <a id="16720" class="Symbol">(∀</a> <a id="16723" class="Symbol">{</a><a id="16724" href="/PLFA-zh/More/#16724" class="Bound">A</a> <a id="16726" href="/PLFA-zh/More/#16726" class="Bound">B</a><a id="16727" class="Symbol">}</a> <a id="16729" class="Symbol">→</a> <a id="16731" href="/PLFA-zh/More/#16687" class="Bound">Γ</a> <a id="16733" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="16735" href="/PLFA-zh/More/#16724" class="Bound">A</a> <a id="16737" href="/PLFA-zh/More/#14816" class="Datatype Operator">∋</a> <a id="16739" href="/PLFA-zh/More/#16726" class="Bound">B</a> <a id="16741" class="Symbol">→</a> <a id="16743" href="/PLFA-zh/More/#16689" class="Bound">Δ</a> <a id="16745" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="16747" href="/PLFA-zh/More/#16724" class="Bound">A</a> <a id="16749" href="/PLFA-zh/More/#14816" class="Datatype Operator">∋</a> <a id="16751" href="/PLFA-zh/More/#16726" class="Bound">B</a><a id="16752" class="Symbol">)</a>
<a id="16754" href="/PLFA-zh/More/#16678" class="Function">ext</a> <a id="16758" href="/PLFA-zh/More/#16758" class="Bound">ρ</a> <a id="16760" href="/PLFA-zh/More/#14852" class="InductiveConstructor">Z</a>      <a id="16767" class="Symbol">=</a>  <a id="16770" href="/PLFA-zh/More/#14852" class="InductiveConstructor">Z</a>
<a id="16772" href="/PLFA-zh/More/#16678" class="Function">ext</a> <a id="16776" href="/PLFA-zh/More/#16776" class="Bound">ρ</a> <a id="16778" class="Symbol">(</a><a id="16779" href="/PLFA-zh/More/#14899" class="InductiveConstructor Operator">S</a> <a id="16781" href="/PLFA-zh/More/#16781" class="Bound">x</a><a id="16782" class="Symbol">)</a>  <a id="16785" class="Symbol">=</a>  <a id="16788" href="/PLFA-zh/More/#14899" class="InductiveConstructor Operator">S</a> <a id="16790" class="Symbol">(</a><a id="16791" href="/PLFA-zh/More/#16776" class="Bound">ρ</a> <a id="16793" href="/PLFA-zh/More/#16781" class="Bound">x</a><a id="16794" class="Symbol">)</a>

<a id="rename"></a><a id="16797" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="16804" class="Symbol">:</a> <a id="16806" class="Symbol">∀</a> <a id="16808" class="Symbol">{</a><a id="16809" href="/PLFA-zh/More/#16809" class="Bound">Γ</a> <a id="16811" href="/PLFA-zh/More/#16811" class="Bound">Δ</a><a id="16812" class="Symbol">}</a> <a id="16814" class="Symbol">→</a> <a id="16816" class="Symbol">(∀</a> <a id="16819" class="Symbol">{</a><a id="16820" href="/PLFA-zh/More/#16820" class="Bound">A</a><a id="16821" class="Symbol">}</a> <a id="16823" class="Symbol">→</a> <a id="16825" href="/PLFA-zh/More/#16809" class="Bound">Γ</a> <a id="16827" href="/PLFA-zh/More/#14816" class="Datatype Operator">∋</a> <a id="16829" href="/PLFA-zh/More/#16820" class="Bound">A</a> <a id="16831" class="Symbol">→</a> <a id="16833" href="/PLFA-zh/More/#16811" class="Bound">Δ</a> <a id="16835" href="/PLFA-zh/More/#14816" class="Datatype Operator">∋</a> <a id="16837" href="/PLFA-zh/More/#16820" class="Bound">A</a><a id="16838" class="Symbol">)</a> <a id="16840" class="Symbol">→</a> <a id="16842" class="Symbol">(∀</a> <a id="16845" class="Symbol">{</a><a id="16846" href="/PLFA-zh/More/#16846" class="Bound">A</a><a id="16847" class="Symbol">}</a> <a id="16849" class="Symbol">→</a> <a id="16851" href="/PLFA-zh/More/#16809" class="Bound">Γ</a> <a id="16853" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="16855" href="/PLFA-zh/More/#16846" class="Bound">A</a> <a id="16857" class="Symbol">→</a> <a id="16859" href="/PLFA-zh/More/#16811" class="Bound">Δ</a> <a id="16861" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="16863" href="/PLFA-zh/More/#16846" class="Bound">A</a><a id="16864" class="Symbol">)</a>
<a id="16866" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="16873" href="/PLFA-zh/More/#16873" class="Bound">ρ</a> <a id="16875" class="Symbol">(</a><a id="16876" href="/PLFA-zh/More/#15078" class="InductiveConstructor Operator">`</a> <a id="16878" href="/PLFA-zh/More/#16878" class="Bound">x</a><a id="16879" class="Symbol">)</a>          <a id="16890" class="Symbol">=</a>  <a id="16893" href="/PLFA-zh/More/#15078" class="InductiveConstructor Operator">`</a> <a id="16895" class="Symbol">(</a><a id="16896" href="/PLFA-zh/More/#16873" class="Bound">ρ</a> <a id="16898" href="/PLFA-zh/More/#16878" class="Bound">x</a><a id="16899" class="Symbol">)</a>
<a id="16901" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="16908" href="/PLFA-zh/More/#16908" class="Bound">ρ</a> <a id="16910" class="Symbol">(</a><a id="16911" href="/PLFA-zh/More/#15146" class="InductiveConstructor Operator">ƛ</a> <a id="16913" href="/PLFA-zh/More/#16913" class="Bound">N</a><a id="16914" class="Symbol">)</a>          <a id="16925" class="Symbol">=</a>  <a id="16928" href="/PLFA-zh/More/#15146" class="InductiveConstructor Operator">ƛ</a> <a id="16930" class="Symbol">(</a><a id="16931" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="16938" class="Symbol">(</a><a id="16939" href="/PLFA-zh/More/#16678" class="Function">ext</a> <a id="16943" href="/PLFA-zh/More/#16908" class="Bound">ρ</a><a id="16944" class="Symbol">)</a> <a id="16946" href="/PLFA-zh/More/#16913" class="Bound">N</a><a id="16947" class="Symbol">)</a>
<a id="16949" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="16956" href="/PLFA-zh/More/#16956" class="Bound">ρ</a> <a id="16958" class="Symbol">(</a><a id="16959" href="/PLFA-zh/More/#16959" class="Bound">L</a> <a id="16961" href="/PLFA-zh/More/#15214" class="InductiveConstructor Operator">·</a> <a id="16963" href="/PLFA-zh/More/#16963" class="Bound">M</a><a id="16964" class="Symbol">)</a>        <a id="16973" class="Symbol">=</a>  <a id="16976" class="Symbol">(</a><a id="16977" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="16984" href="/PLFA-zh/More/#16956" class="Bound">ρ</a> <a id="16986" href="/PLFA-zh/More/#16959" class="Bound">L</a><a id="16987" class="Symbol">)</a> <a id="16989" href="/PLFA-zh/More/#15214" class="InductiveConstructor Operator">·</a> <a id="16991" class="Symbol">(</a><a id="16992" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="16999" href="/PLFA-zh/More/#16956" class="Bound">ρ</a> <a id="17001" href="/PLFA-zh/More/#16963" class="Bound">M</a><a id="17002" class="Symbol">)</a>
<a id="17004" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17011" href="/PLFA-zh/More/#17011" class="Bound">ρ</a> <a id="17013" class="Symbol">(</a><a id="17014" href="/PLFA-zh/More/#15304" class="InductiveConstructor">`zero</a><a id="17019" class="Symbol">)</a>        <a id="17028" class="Symbol">=</a>  <a id="17031" href="/PLFA-zh/More/#15304" class="InductiveConstructor">`zero</a>
<a id="17037" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17044" href="/PLFA-zh/More/#17044" class="Bound">ρ</a> <a id="17046" class="Symbol">(</a><a id="17047" href="/PLFA-zh/More/#15347" class="InductiveConstructor Operator">`suc</a> <a id="17052" href="/PLFA-zh/More/#17052" class="Bound">M</a><a id="17053" class="Symbol">)</a>       <a id="17061" class="Symbol">=</a>  <a id="17064" href="/PLFA-zh/More/#15347" class="InductiveConstructor Operator">`suc</a> <a id="17069" class="Symbol">(</a><a id="17070" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17077" href="/PLFA-zh/More/#17044" class="Bound">ρ</a> <a id="17079" href="/PLFA-zh/More/#17052" class="Bound">M</a><a id="17080" class="Symbol">)</a>
<a id="17082" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17089" href="/PLFA-zh/More/#17089" class="Bound">ρ</a> <a id="17091" class="Symbol">(</a><a id="17092" href="/PLFA-zh/More/#15403" class="InductiveConstructor">case</a> <a id="17097" href="/PLFA-zh/More/#17097" class="Bound">L</a> <a id="17099" href="/PLFA-zh/More/#17099" class="Bound">M</a> <a id="17101" href="/PLFA-zh/More/#17101" class="Bound">N</a><a id="17102" class="Symbol">)</a>   <a id="17106" class="Symbol">=</a>  <a id="17109" href="/PLFA-zh/More/#15403" class="InductiveConstructor">case</a> <a id="17114" class="Symbol">(</a><a id="17115" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17122" href="/PLFA-zh/More/#17089" class="Bound">ρ</a> <a id="17124" href="/PLFA-zh/More/#17097" class="Bound">L</a><a id="17125" class="Symbol">)</a> <a id="17127" class="Symbol">(</a><a id="17128" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17135" href="/PLFA-zh/More/#17089" class="Bound">ρ</a> <a id="17137" href="/PLFA-zh/More/#17099" class="Bound">M</a><a id="17138" class="Symbol">)</a> <a id="17140" class="Symbol">(</a><a id="17141" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17148" class="Symbol">(</a><a id="17149" href="/PLFA-zh/More/#16678" class="Function">ext</a> <a id="17153" href="/PLFA-zh/More/#17089" class="Bound">ρ</a><a id="17154" class="Symbol">)</a> <a id="17156" href="/PLFA-zh/More/#17101" class="Bound">N</a><a id="17157" class="Symbol">)</a>
<a id="17159" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17166" href="/PLFA-zh/More/#17166" class="Bound">ρ</a> <a id="17168" class="Symbol">(</a><a id="17169" href="/PLFA-zh/More/#15502" class="InductiveConstructor Operator">μ</a> <a id="17171" href="/PLFA-zh/More/#17171" class="Bound">N</a><a id="17172" class="Symbol">)</a>          <a id="17183" class="Symbol">=</a>  <a id="17186" href="/PLFA-zh/More/#15502" class="InductiveConstructor Operator">μ</a> <a id="17188" class="Symbol">(</a><a id="17189" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17196" class="Symbol">(</a><a id="17197" href="/PLFA-zh/More/#16678" class="Function">ext</a> <a id="17201" href="/PLFA-zh/More/#17166" class="Bound">ρ</a><a id="17202" class="Symbol">)</a> <a id="17204" href="/PLFA-zh/More/#17171" class="Bound">N</a><a id="17205" class="Symbol">)</a>
<a id="17207" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17214" href="/PLFA-zh/More/#17214" class="Bound">ρ</a> <a id="17216" class="Symbol">(</a><a id="17217" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="17221" href="/PLFA-zh/More/#17221" class="Bound">n</a><a id="17222" class="Symbol">)</a>        <a id="17231" class="Symbol">=</a>  <a id="17234" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="17238" href="/PLFA-zh/More/#17221" class="Bound">n</a>
<a id="17240" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17247" href="/PLFA-zh/More/#17247" class="Bound">ρ</a> <a id="17249" class="Symbol">(</a><a id="17250" href="/PLFA-zh/More/#17250" class="Bound">M</a> <a id="17252" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="17255" href="/PLFA-zh/More/#17255" class="Bound">N</a><a id="17256" class="Symbol">)</a>       <a id="17264" class="Symbol">=</a>  <a id="17267" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17274" href="/PLFA-zh/More/#17247" class="Bound">ρ</a> <a id="17276" href="/PLFA-zh/More/#17250" class="Bound">M</a> <a id="17278" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="17281" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17288" href="/PLFA-zh/More/#17247" class="Bound">ρ</a> <a id="17290" href="/PLFA-zh/More/#17255" class="Bound">N</a>
<a id="17292" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17299" href="/PLFA-zh/More/#17299" class="Bound">ρ</a> <a id="17301" class="Symbol">(</a><a id="17302" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="17307" href="/PLFA-zh/More/#17307" class="Bound">M</a> <a id="17309" href="/PLFA-zh/More/#17309" class="Bound">N</a><a id="17310" class="Symbol">)</a>     <a id="17316" class="Symbol">=</a>  <a id="17319" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="17324" class="Symbol">(</a><a id="17325" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17332" href="/PLFA-zh/More/#17299" class="Bound">ρ</a> <a id="17334" href="/PLFA-zh/More/#17307" class="Bound">M</a><a id="17335" class="Symbol">)</a> <a id="17337" class="Symbol">(</a><a id="17338" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17345" class="Symbol">(</a><a id="17346" href="/PLFA-zh/More/#16678" class="Function">ext</a> <a id="17350" href="/PLFA-zh/More/#17299" class="Bound">ρ</a><a id="17351" class="Symbol">)</a> <a id="17353" href="/PLFA-zh/More/#17309" class="Bound">N</a><a id="17354" class="Symbol">)</a>
<a id="17356" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17363" href="/PLFA-zh/More/#17363" class="Bound">ρ</a> <a id="17365" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="17368" href="/PLFA-zh/More/#17368" class="Bound">M</a> <a id="17370" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="17372" href="/PLFA-zh/More/#17372" class="Bound">N</a> <a id="17374" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a>     <a id="17380" class="Symbol">=</a>  <a id="17383" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="17386" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17393" href="/PLFA-zh/More/#17363" class="Bound">ρ</a> <a id="17395" href="/PLFA-zh/More/#17368" class="Bound">M</a> <a id="17397" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="17399" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17406" href="/PLFA-zh/More/#17363" class="Bound">ρ</a> <a id="17408" href="/PLFA-zh/More/#17372" class="Bound">N</a> <a id="17410" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a>
<a id="17412" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17419" href="/PLFA-zh/More/#17419" class="Bound">ρ</a> <a id="17421" class="Symbol">(</a><a id="17422" href="/PLFA-zh/More/#15893" class="InductiveConstructor">`proj₁</a> <a id="17429" href="/PLFA-zh/More/#17429" class="Bound">L</a><a id="17430" class="Symbol">)</a>     <a id="17436" class="Symbol">=</a>  <a id="17439" href="/PLFA-zh/More/#15893" class="InductiveConstructor">`proj₁</a> <a id="17446" class="Symbol">(</a><a id="17447" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17454" href="/PLFA-zh/More/#17419" class="Bound">ρ</a> <a id="17456" href="/PLFA-zh/More/#17429" class="Bound">L</a><a id="17457" class="Symbol">)</a>
<a id="17459" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17466" href="/PLFA-zh/More/#17466" class="Bound">ρ</a> <a id="17468" class="Symbol">(</a><a id="17469" href="/PLFA-zh/More/#15962" class="InductiveConstructor">`proj₂</a> <a id="17476" href="/PLFA-zh/More/#17476" class="Bound">L</a><a id="17477" class="Symbol">)</a>     <a id="17483" class="Symbol">=</a>  <a id="17486" href="/PLFA-zh/More/#15962" class="InductiveConstructor">`proj₂</a> <a id="17493" class="Symbol">(</a><a id="17494" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17501" href="/PLFA-zh/More/#17466" class="Bound">ρ</a> <a id="17503" href="/PLFA-zh/More/#17476" class="Bound">L</a><a id="17504" class="Symbol">)</a>
<a id="17506" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17513" href="/PLFA-zh/More/#17513" class="Bound">ρ</a> <a id="17515" class="Symbol">(</a><a id="17516" href="/PLFA-zh/More/#16073" class="InductiveConstructor">case×</a> <a id="17522" href="/PLFA-zh/More/#17522" class="Bound">L</a> <a id="17524" href="/PLFA-zh/More/#17524" class="Bound">M</a><a id="17525" class="Symbol">)</a>    <a id="17530" class="Symbol">=</a>  <a id="17533" href="/PLFA-zh/More/#16073" class="InductiveConstructor">case×</a> <a id="17539" class="Symbol">(</a><a id="17540" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17547" href="/PLFA-zh/More/#17513" class="Bound">ρ</a> <a id="17549" href="/PLFA-zh/More/#17522" class="Bound">L</a><a id="17550" class="Symbol">)</a> <a id="17552" class="Symbol">(</a><a id="17553" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17560" class="Symbol">(</a><a id="17561" href="/PLFA-zh/More/#16678" class="Function">ext</a> <a id="17565" class="Symbol">(</a><a id="17566" href="/PLFA-zh/More/#16678" class="Function">ext</a> <a id="17570" href="/PLFA-zh/More/#17513" class="Bound">ρ</a><a id="17571" class="Symbol">))</a> <a id="17574" href="/PLFA-zh/More/#17524" class="Bound">M</a><a id="17575" class="Symbol">)</a></pre>

<h2 id="simultaneous-substitution">Simultaneous Substitution</h2>

<pre class="Agda"><a id="exts"></a><a id="17632" href="/PLFA-zh/More/#17632" class="Function">exts</a> <a id="17637" class="Symbol">:</a> <a id="17639" class="Symbol">∀</a> <a id="17641" class="Symbol">{</a><a id="17642" href="/PLFA-zh/More/#17642" class="Bound">Γ</a> <a id="17644" href="/PLFA-zh/More/#17644" class="Bound">Δ</a><a id="17645" class="Symbol">}</a> <a id="17647" class="Symbol">→</a> <a id="17649" class="Symbol">(∀</a> <a id="17652" class="Symbol">{</a><a id="17653" href="/PLFA-zh/More/#17653" class="Bound">A</a><a id="17654" class="Symbol">}</a> <a id="17656" class="Symbol">→</a> <a id="17658" href="/PLFA-zh/More/#17642" class="Bound">Γ</a> <a id="17660" href="/PLFA-zh/More/#14816" class="Datatype Operator">∋</a> <a id="17662" href="/PLFA-zh/More/#17653" class="Bound">A</a> <a id="17664" class="Symbol">→</a> <a id="17666" href="/PLFA-zh/More/#17644" class="Bound">Δ</a> <a id="17668" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="17670" href="/PLFA-zh/More/#17653" class="Bound">A</a><a id="17671" class="Symbol">)</a> <a id="17673" class="Symbol">→</a> <a id="17675" class="Symbol">(∀</a> <a id="17678" class="Symbol">{</a><a id="17679" href="/PLFA-zh/More/#17679" class="Bound">A</a> <a id="17681" href="/PLFA-zh/More/#17681" class="Bound">B</a><a id="17682" class="Symbol">}</a> <a id="17684" class="Symbol">→</a> <a id="17686" href="/PLFA-zh/More/#17642" class="Bound">Γ</a> <a id="17688" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="17690" href="/PLFA-zh/More/#17679" class="Bound">A</a> <a id="17692" href="/PLFA-zh/More/#14816" class="Datatype Operator">∋</a> <a id="17694" href="/PLFA-zh/More/#17681" class="Bound">B</a> <a id="17696" class="Symbol">→</a> <a id="17698" href="/PLFA-zh/More/#17644" class="Bound">Δ</a> <a id="17700" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="17702" href="/PLFA-zh/More/#17679" class="Bound">A</a> <a id="17704" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="17706" href="/PLFA-zh/More/#17681" class="Bound">B</a><a id="17707" class="Symbol">)</a>
<a id="17709" href="/PLFA-zh/More/#17632" class="Function">exts</a> <a id="17714" href="/PLFA-zh/More/#17714" class="Bound">σ</a> <a id="17716" href="/PLFA-zh/More/#14852" class="InductiveConstructor">Z</a>      <a id="17723" class="Symbol">=</a>  <a id="17726" href="/PLFA-zh/More/#15078" class="InductiveConstructor Operator">`</a> <a id="17728" href="/PLFA-zh/More/#14852" class="InductiveConstructor">Z</a>
<a id="17730" href="/PLFA-zh/More/#17632" class="Function">exts</a> <a id="17735" href="/PLFA-zh/More/#17735" class="Bound">σ</a> <a id="17737" class="Symbol">(</a><a id="17738" href="/PLFA-zh/More/#14899" class="InductiveConstructor Operator">S</a> <a id="17740" href="/PLFA-zh/More/#17740" class="Bound">x</a><a id="17741" class="Symbol">)</a>  <a id="17744" class="Symbol">=</a>  <a id="17747" href="/PLFA-zh/More/#16797" class="Function">rename</a> <a id="17754" href="/PLFA-zh/More/#14899" class="InductiveConstructor Operator">S_</a> <a id="17757" class="Symbol">(</a><a id="17758" href="/PLFA-zh/More/#17735" class="Bound">σ</a> <a id="17760" href="/PLFA-zh/More/#17740" class="Bound">x</a><a id="17761" class="Symbol">)</a>

<a id="subst"></a><a id="17764" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="17770" class="Symbol">:</a> <a id="17772" class="Symbol">∀</a> <a id="17774" class="Symbol">{</a><a id="17775" href="/PLFA-zh/More/#17775" class="Bound">Γ</a> <a id="17777" href="/PLFA-zh/More/#17777" class="Bound">Δ</a><a id="17778" class="Symbol">}</a> <a id="17780" class="Symbol">→</a> <a id="17782" class="Symbol">(∀</a> <a id="17785" class="Symbol">{</a><a id="17786" href="/PLFA-zh/More/#17786" class="Bound">C</a><a id="17787" class="Symbol">}</a> <a id="17789" class="Symbol">→</a> <a id="17791" href="/PLFA-zh/More/#17775" class="Bound">Γ</a> <a id="17793" href="/PLFA-zh/More/#14816" class="Datatype Operator">∋</a> <a id="17795" href="/PLFA-zh/More/#17786" class="Bound">C</a> <a id="17797" class="Symbol">→</a> <a id="17799" href="/PLFA-zh/More/#17777" class="Bound">Δ</a> <a id="17801" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="17803" href="/PLFA-zh/More/#17786" class="Bound">C</a><a id="17804" class="Symbol">)</a> <a id="17806" class="Symbol">→</a> <a id="17808" class="Symbol">(∀</a> <a id="17811" class="Symbol">{</a><a id="17812" href="/PLFA-zh/More/#17812" class="Bound">C</a><a id="17813" class="Symbol">}</a> <a id="17815" class="Symbol">→</a> <a id="17817" href="/PLFA-zh/More/#17775" class="Bound">Γ</a> <a id="17819" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="17821" href="/PLFA-zh/More/#17812" class="Bound">C</a> <a id="17823" class="Symbol">→</a> <a id="17825" href="/PLFA-zh/More/#17777" class="Bound">Δ</a> <a id="17827" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="17829" href="/PLFA-zh/More/#17812" class="Bound">C</a><a id="17830" class="Symbol">)</a>
<a id="17832" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="17838" href="/PLFA-zh/More/#17838" class="Bound">σ</a> <a id="17840" class="Symbol">(</a><a id="17841" href="/PLFA-zh/More/#15078" class="InductiveConstructor Operator">`</a> <a id="17843" href="/PLFA-zh/More/#17843" class="Bound">k</a><a id="17844" class="Symbol">)</a>          <a id="17855" class="Symbol">=</a>  <a id="17858" href="/PLFA-zh/More/#17838" class="Bound">σ</a> <a id="17860" href="/PLFA-zh/More/#17843" class="Bound">k</a>
<a id="17862" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="17868" href="/PLFA-zh/More/#17868" class="Bound">σ</a> <a id="17870" class="Symbol">(</a><a id="17871" href="/PLFA-zh/More/#15146" class="InductiveConstructor Operator">ƛ</a> <a id="17873" href="/PLFA-zh/More/#17873" class="Bound">N</a><a id="17874" class="Symbol">)</a>          <a id="17885" class="Symbol">=</a>  <a id="17888" href="/PLFA-zh/More/#15146" class="InductiveConstructor Operator">ƛ</a> <a id="17890" class="Symbol">(</a><a id="17891" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="17897" class="Symbol">(</a><a id="17898" href="/PLFA-zh/More/#17632" class="Function">exts</a> <a id="17903" href="/PLFA-zh/More/#17868" class="Bound">σ</a><a id="17904" class="Symbol">)</a> <a id="17906" href="/PLFA-zh/More/#17873" class="Bound">N</a><a id="17907" class="Symbol">)</a>
<a id="17909" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="17915" href="/PLFA-zh/More/#17915" class="Bound">σ</a> <a id="17917" class="Symbol">(</a><a id="17918" href="/PLFA-zh/More/#17918" class="Bound">L</a> <a id="17920" href="/PLFA-zh/More/#15214" class="InductiveConstructor Operator">·</a> <a id="17922" href="/PLFA-zh/More/#17922" class="Bound">M</a><a id="17923" class="Symbol">)</a>        <a id="17932" class="Symbol">=</a>  <a id="17935" class="Symbol">(</a><a id="17936" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="17942" href="/PLFA-zh/More/#17915" class="Bound">σ</a> <a id="17944" href="/PLFA-zh/More/#17918" class="Bound">L</a><a id="17945" class="Symbol">)</a> <a id="17947" href="/PLFA-zh/More/#15214" class="InductiveConstructor Operator">·</a> <a id="17949" class="Symbol">(</a><a id="17950" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="17956" href="/PLFA-zh/More/#17915" class="Bound">σ</a> <a id="17958" href="/PLFA-zh/More/#17922" class="Bound">M</a><a id="17959" class="Symbol">)</a>
<a id="17961" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="17967" href="/PLFA-zh/More/#17967" class="Bound">σ</a> <a id="17969" class="Symbol">(</a><a id="17970" href="/PLFA-zh/More/#15304" class="InductiveConstructor">`zero</a><a id="17975" class="Symbol">)</a>        <a id="17984" class="Symbol">=</a>  <a id="17987" href="/PLFA-zh/More/#15304" class="InductiveConstructor">`zero</a>
<a id="17993" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="17999" href="/PLFA-zh/More/#17999" class="Bound">σ</a> <a id="18001" class="Symbol">(</a><a id="18002" href="/PLFA-zh/More/#15347" class="InductiveConstructor Operator">`suc</a> <a id="18007" href="/PLFA-zh/More/#18007" class="Bound">M</a><a id="18008" class="Symbol">)</a>       <a id="18016" class="Symbol">=</a>  <a id="18019" href="/PLFA-zh/More/#15347" class="InductiveConstructor Operator">`suc</a> <a id="18024" class="Symbol">(</a><a id="18025" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18031" href="/PLFA-zh/More/#17999" class="Bound">σ</a> <a id="18033" href="/PLFA-zh/More/#18007" class="Bound">M</a><a id="18034" class="Symbol">)</a>
<a id="18036" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18042" href="/PLFA-zh/More/#18042" class="Bound">σ</a> <a id="18044" class="Symbol">(</a><a id="18045" href="/PLFA-zh/More/#15403" class="InductiveConstructor">case</a> <a id="18050" href="/PLFA-zh/More/#18050" class="Bound">L</a> <a id="18052" href="/PLFA-zh/More/#18052" class="Bound">M</a> <a id="18054" href="/PLFA-zh/More/#18054" class="Bound">N</a><a id="18055" class="Symbol">)</a>   <a id="18059" class="Symbol">=</a>  <a id="18062" href="/PLFA-zh/More/#15403" class="InductiveConstructor">case</a> <a id="18067" class="Symbol">(</a><a id="18068" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18074" href="/PLFA-zh/More/#18042" class="Bound">σ</a> <a id="18076" href="/PLFA-zh/More/#18050" class="Bound">L</a><a id="18077" class="Symbol">)</a> <a id="18079" class="Symbol">(</a><a id="18080" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18086" href="/PLFA-zh/More/#18042" class="Bound">σ</a> <a id="18088" href="/PLFA-zh/More/#18052" class="Bound">M</a><a id="18089" class="Symbol">)</a> <a id="18091" class="Symbol">(</a><a id="18092" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18098" class="Symbol">(</a><a id="18099" href="/PLFA-zh/More/#17632" class="Function">exts</a> <a id="18104" href="/PLFA-zh/More/#18042" class="Bound">σ</a><a id="18105" class="Symbol">)</a> <a id="18107" href="/PLFA-zh/More/#18054" class="Bound">N</a><a id="18108" class="Symbol">)</a>
<a id="18110" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18116" href="/PLFA-zh/More/#18116" class="Bound">σ</a> <a id="18118" class="Symbol">(</a><a id="18119" href="/PLFA-zh/More/#15502" class="InductiveConstructor Operator">μ</a> <a id="18121" href="/PLFA-zh/More/#18121" class="Bound">N</a><a id="18122" class="Symbol">)</a>          <a id="18133" class="Symbol">=</a>  <a id="18136" href="/PLFA-zh/More/#15502" class="InductiveConstructor Operator">μ</a> <a id="18138" class="Symbol">(</a><a id="18139" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18145" class="Symbol">(</a><a id="18146" href="/PLFA-zh/More/#17632" class="Function">exts</a> <a id="18151" href="/PLFA-zh/More/#18116" class="Bound">σ</a><a id="18152" class="Symbol">)</a> <a id="18154" href="/PLFA-zh/More/#18121" class="Bound">N</a><a id="18155" class="Symbol">)</a>
<a id="18157" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18163" href="/PLFA-zh/More/#18163" class="Bound">σ</a> <a id="18165" class="Symbol">(</a><a id="18166" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="18170" href="/PLFA-zh/More/#18170" class="Bound">n</a><a id="18171" class="Symbol">)</a>        <a id="18180" class="Symbol">=</a>  <a id="18183" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="18187" href="/PLFA-zh/More/#18170" class="Bound">n</a>
<a id="18189" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18195" href="/PLFA-zh/More/#18195" class="Bound">σ</a> <a id="18197" class="Symbol">(</a><a id="18198" href="/PLFA-zh/More/#18198" class="Bound">M</a> <a id="18200" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="18203" href="/PLFA-zh/More/#18203" class="Bound">N</a><a id="18204" class="Symbol">)</a>       <a id="18212" class="Symbol">=</a>  <a id="18215" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18221" href="/PLFA-zh/More/#18195" class="Bound">σ</a> <a id="18223" href="/PLFA-zh/More/#18198" class="Bound">M</a> <a id="18225" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="18228" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18234" href="/PLFA-zh/More/#18195" class="Bound">σ</a> <a id="18236" href="/PLFA-zh/More/#18203" class="Bound">N</a>
<a id="18238" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18244" href="/PLFA-zh/More/#18244" class="Bound">σ</a> <a id="18246" class="Symbol">(</a><a id="18247" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="18252" href="/PLFA-zh/More/#18252" class="Bound">M</a> <a id="18254" href="/PLFA-zh/More/#18254" class="Bound">N</a><a id="18255" class="Symbol">)</a>     <a id="18261" class="Symbol">=</a>  <a id="18264" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="18269" class="Symbol">(</a><a id="18270" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18276" href="/PLFA-zh/More/#18244" class="Bound">σ</a> <a id="18278" href="/PLFA-zh/More/#18252" class="Bound">M</a><a id="18279" class="Symbol">)</a> <a id="18281" class="Symbol">(</a><a id="18282" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18288" class="Symbol">(</a><a id="18289" href="/PLFA-zh/More/#17632" class="Function">exts</a> <a id="18294" href="/PLFA-zh/More/#18244" class="Bound">σ</a><a id="18295" class="Symbol">)</a> <a id="18297" href="/PLFA-zh/More/#18254" class="Bound">N</a><a id="18298" class="Symbol">)</a>
<a id="18300" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18306" href="/PLFA-zh/More/#18306" class="Bound">σ</a> <a id="18308" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="18311" href="/PLFA-zh/More/#18311" class="Bound">M</a> <a id="18313" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="18315" href="/PLFA-zh/More/#18315" class="Bound">N</a> <a id="18317" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a>     <a id="18323" class="Symbol">=</a>  <a id="18326" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="18329" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18335" href="/PLFA-zh/More/#18306" class="Bound">σ</a> <a id="18337" href="/PLFA-zh/More/#18311" class="Bound">M</a> <a id="18339" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="18341" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18347" href="/PLFA-zh/More/#18306" class="Bound">σ</a> <a id="18349" href="/PLFA-zh/More/#18315" class="Bound">N</a> <a id="18351" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a>
<a id="18353" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18359" href="/PLFA-zh/More/#18359" class="Bound">σ</a> <a id="18361" class="Symbol">(</a><a id="18362" href="/PLFA-zh/More/#15893" class="InductiveConstructor">`proj₁</a> <a id="18369" href="/PLFA-zh/More/#18369" class="Bound">L</a><a id="18370" class="Symbol">)</a>     <a id="18376" class="Symbol">=</a>  <a id="18379" href="/PLFA-zh/More/#15893" class="InductiveConstructor">`proj₁</a> <a id="18386" class="Symbol">(</a><a id="18387" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18393" href="/PLFA-zh/More/#18359" class="Bound">σ</a> <a id="18395" href="/PLFA-zh/More/#18369" class="Bound">L</a><a id="18396" class="Symbol">)</a>
<a id="18398" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18404" href="/PLFA-zh/More/#18404" class="Bound">σ</a> <a id="18406" class="Symbol">(</a><a id="18407" href="/PLFA-zh/More/#15962" class="InductiveConstructor">`proj₂</a> <a id="18414" href="/PLFA-zh/More/#18414" class="Bound">L</a><a id="18415" class="Symbol">)</a>     <a id="18421" class="Symbol">=</a>  <a id="18424" href="/PLFA-zh/More/#15962" class="InductiveConstructor">`proj₂</a> <a id="18431" class="Symbol">(</a><a id="18432" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18438" href="/PLFA-zh/More/#18404" class="Bound">σ</a> <a id="18440" href="/PLFA-zh/More/#18414" class="Bound">L</a><a id="18441" class="Symbol">)</a>
<a id="18443" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18449" href="/PLFA-zh/More/#18449" class="Bound">σ</a> <a id="18451" class="Symbol">(</a><a id="18452" href="/PLFA-zh/More/#16073" class="InductiveConstructor">case×</a> <a id="18458" href="/PLFA-zh/More/#18458" class="Bound">L</a> <a id="18460" href="/PLFA-zh/More/#18460" class="Bound">M</a><a id="18461" class="Symbol">)</a>    <a id="18466" class="Symbol">=</a>  <a id="18469" href="/PLFA-zh/More/#16073" class="InductiveConstructor">case×</a> <a id="18475" class="Symbol">(</a><a id="18476" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18482" href="/PLFA-zh/More/#18449" class="Bound">σ</a> <a id="18484" href="/PLFA-zh/More/#18458" class="Bound">L</a><a id="18485" class="Symbol">)</a> <a id="18487" class="Symbol">(</a><a id="18488" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18494" class="Symbol">(</a><a id="18495" href="/PLFA-zh/More/#17632" class="Function">exts</a> <a id="18500" class="Symbol">(</a><a id="18501" href="/PLFA-zh/More/#17632" class="Function">exts</a> <a id="18506" href="/PLFA-zh/More/#18449" class="Bound">σ</a><a id="18507" class="Symbol">))</a> <a id="18510" href="/PLFA-zh/More/#18460" class="Bound">M</a><a id="18511" class="Symbol">)</a></pre>

<h2 id="single-and-double-substitution">Single and double substitution</h2>

<pre class="Agda"><a id="_[_]"></a><a id="18573" href="/PLFA-zh/More/#18573" class="Function Operator">_[_]</a> <a id="18578" class="Symbol">:</a> <a id="18580" class="Symbol">∀</a> <a id="18582" class="Symbol">{</a><a id="18583" href="/PLFA-zh/More/#18583" class="Bound">Γ</a> <a id="18585" href="/PLFA-zh/More/#18585" class="Bound">A</a> <a id="18587" href="/PLFA-zh/More/#18587" class="Bound">B</a><a id="18588" class="Symbol">}</a>
  <a id="18592" class="Symbol">→</a> <a id="18594" href="/PLFA-zh/More/#18583" class="Bound">Γ</a> <a id="18596" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="18598" href="/PLFA-zh/More/#18585" class="Bound">A</a> <a id="18600" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="18602" href="/PLFA-zh/More/#18587" class="Bound">B</a>
  <a id="18606" class="Symbol">→</a> <a id="18608" href="/PLFA-zh/More/#18583" class="Bound">Γ</a> <a id="18610" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="18612" href="/PLFA-zh/More/#18585" class="Bound">A</a>
  <a id="18616" class="Comment">------------</a>
  <a id="18631" class="Symbol">→</a> <a id="18633" href="/PLFA-zh/More/#18583" class="Bound">Γ</a> <a id="18635" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="18637" href="/PLFA-zh/More/#18587" class="Bound">B</a>
<a id="18639" href="/PLFA-zh/More/#18573" class="Function Operator">_[_]</a> <a id="18644" class="Symbol">{</a><a id="18645" href="/PLFA-zh/More/#18645" class="Bound">Γ</a><a id="18646" class="Symbol">}</a> <a id="18648" class="Symbol">{</a><a id="18649" href="/PLFA-zh/More/#18649" class="Bound">A</a><a id="18650" class="Symbol">}</a> <a id="18652" href="/PLFA-zh/More/#18652" class="Bound">N</a> <a id="18654" href="/PLFA-zh/More/#18654" class="Bound">V</a> <a id="18656" class="Symbol">=</a>  <a id="18659" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18665" class="Symbol">{</a><a id="18666" href="/PLFA-zh/More/#18645" class="Bound">Γ</a> <a id="18668" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="18670" href="/PLFA-zh/More/#18649" class="Bound">A</a><a id="18671" class="Symbol">}</a> <a id="18673" class="Symbol">{</a><a id="18674" href="/PLFA-zh/More/#18645" class="Bound">Γ</a><a id="18675" class="Symbol">}</a> <a id="18677" href="/PLFA-zh/More/#18691" class="Function">σ</a> <a id="18679" href="/PLFA-zh/More/#18652" class="Bound">N</a>
  <a id="18683" class="Keyword">where</a>
  <a id="18691" href="/PLFA-zh/More/#18691" class="Function">σ</a> <a id="18693" class="Symbol">:</a> <a id="18695" class="Symbol">∀</a> <a id="18697" class="Symbol">{</a><a id="18698" href="/PLFA-zh/More/#18698" class="Bound">B</a><a id="18699" class="Symbol">}</a> <a id="18701" class="Symbol">→</a> <a id="18703" href="/PLFA-zh/More/#18645" class="Bound">Γ</a> <a id="18705" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="18707" href="/PLFA-zh/More/#18649" class="Bound">A</a> <a id="18709" href="/PLFA-zh/More/#14816" class="Datatype Operator">∋</a> <a id="18711" href="/PLFA-zh/More/#18698" class="Bound">B</a> <a id="18713" class="Symbol">→</a> <a id="18715" href="/PLFA-zh/More/#18645" class="Bound">Γ</a> <a id="18717" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="18719" href="/PLFA-zh/More/#18698" class="Bound">B</a>
  <a id="18723" href="/PLFA-zh/More/#18691" class="Function">σ</a> <a id="18725" href="/PLFA-zh/More/#14852" class="InductiveConstructor">Z</a>      <a id="18732" class="Symbol">=</a>  <a id="18735" href="/PLFA-zh/More/#18654" class="Bound">V</a>
  <a id="18739" href="/PLFA-zh/More/#18691" class="Function">σ</a> <a id="18741" class="Symbol">(</a><a id="18742" href="/PLFA-zh/More/#14899" class="InductiveConstructor Operator">S</a> <a id="18744" href="/PLFA-zh/More/#18744" class="Bound">x</a><a id="18745" class="Symbol">)</a>  <a id="18748" class="Symbol">=</a>  <a id="18751" href="/PLFA-zh/More/#15078" class="InductiveConstructor Operator">`</a> <a id="18753" href="/PLFA-zh/More/#18744" class="Bound">x</a>

<a id="_[_][_]"></a><a id="18756" href="/PLFA-zh/More/#18756" class="Function Operator">_[_][_]</a> <a id="18764" class="Symbol">:</a> <a id="18766" class="Symbol">∀</a> <a id="18768" class="Symbol">{</a><a id="18769" href="/PLFA-zh/More/#18769" class="Bound">Γ</a> <a id="18771" href="/PLFA-zh/More/#18771" class="Bound">A</a> <a id="18773" href="/PLFA-zh/More/#18773" class="Bound">B</a> <a id="18775" href="/PLFA-zh/More/#18775" class="Bound">C</a><a id="18776" class="Symbol">}</a>
  <a id="18780" class="Symbol">→</a> <a id="18782" href="/PLFA-zh/More/#18769" class="Bound">Γ</a> <a id="18784" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="18786" href="/PLFA-zh/More/#18771" class="Bound">A</a> <a id="18788" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="18790" href="/PLFA-zh/More/#18773" class="Bound">B</a> <a id="18792" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="18794" href="/PLFA-zh/More/#18775" class="Bound">C</a>
  <a id="18798" class="Symbol">→</a> <a id="18800" href="/PLFA-zh/More/#18769" class="Bound">Γ</a> <a id="18802" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="18804" href="/PLFA-zh/More/#18771" class="Bound">A</a>
  <a id="18808" class="Symbol">→</a> <a id="18810" href="/PLFA-zh/More/#18769" class="Bound">Γ</a> <a id="18812" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="18814" href="/PLFA-zh/More/#18773" class="Bound">B</a>
    <a id="18820" class="Comment">---------------</a>
  <a id="18838" class="Symbol">→</a> <a id="18840" href="/PLFA-zh/More/#18769" class="Bound">Γ</a> <a id="18842" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="18844" href="/PLFA-zh/More/#18775" class="Bound">C</a>
<a id="18846" href="/PLFA-zh/More/#18756" class="Function Operator">_[_][_]</a> <a id="18854" class="Symbol">{</a><a id="18855" href="/PLFA-zh/More/#18855" class="Bound">Γ</a><a id="18856" class="Symbol">}</a> <a id="18858" class="Symbol">{</a><a id="18859" href="/PLFA-zh/More/#18859" class="Bound">A</a><a id="18860" class="Symbol">}</a> <a id="18862" class="Symbol">{</a><a id="18863" href="/PLFA-zh/More/#18863" class="Bound">B</a><a id="18864" class="Symbol">}</a> <a id="18866" href="/PLFA-zh/More/#18866" class="Bound">N</a> <a id="18868" href="/PLFA-zh/More/#18868" class="Bound">V</a> <a id="18870" href="/PLFA-zh/More/#18870" class="Bound">W</a> <a id="18872" class="Symbol">=</a>  <a id="18875" href="/PLFA-zh/More/#17764" class="Function">subst</a> <a id="18881" class="Symbol">{</a><a id="18882" href="/PLFA-zh/More/#18855" class="Bound">Γ</a> <a id="18884" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="18886" href="/PLFA-zh/More/#18859" class="Bound">A</a> <a id="18888" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="18890" href="/PLFA-zh/More/#18863" class="Bound">B</a><a id="18891" class="Symbol">}</a> <a id="18893" class="Symbol">{</a><a id="18894" href="/PLFA-zh/More/#18855" class="Bound">Γ</a><a id="18895" class="Symbol">}</a> <a id="18897" href="/PLFA-zh/More/#18911" class="Function">σ</a> <a id="18899" href="/PLFA-zh/More/#18866" class="Bound">N</a>
  <a id="18903" class="Keyword">where</a>
  <a id="18911" href="/PLFA-zh/More/#18911" class="Function">σ</a> <a id="18913" class="Symbol">:</a> <a id="18915" class="Symbol">∀</a> <a id="18917" class="Symbol">{</a><a id="18918" href="/PLFA-zh/More/#18918" class="Bound">C</a><a id="18919" class="Symbol">}</a> <a id="18921" class="Symbol">→</a> <a id="18923" href="/PLFA-zh/More/#18855" class="Bound">Γ</a> <a id="18925" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="18927" href="/PLFA-zh/More/#18859" class="Bound">A</a> <a id="18929" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="18931" href="/PLFA-zh/More/#18863" class="Bound">B</a> <a id="18933" href="/PLFA-zh/More/#14816" class="Datatype Operator">∋</a> <a id="18935" href="/PLFA-zh/More/#18918" class="Bound">C</a> <a id="18937" class="Symbol">→</a> <a id="18939" href="/PLFA-zh/More/#18855" class="Bound">Γ</a> <a id="18941" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="18943" href="/PLFA-zh/More/#18918" class="Bound">C</a>
  <a id="18947" href="/PLFA-zh/More/#18911" class="Function">σ</a> <a id="18949" href="/PLFA-zh/More/#14852" class="InductiveConstructor">Z</a>          <a id="18960" class="Symbol">=</a>  <a id="18963" href="/PLFA-zh/More/#18870" class="Bound">W</a>
  <a id="18967" href="/PLFA-zh/More/#18911" class="Function">σ</a> <a id="18969" class="Symbol">(</a><a id="18970" href="/PLFA-zh/More/#14899" class="InductiveConstructor Operator">S</a> <a id="18972" href="/PLFA-zh/More/#14852" class="InductiveConstructor">Z</a><a id="18973" class="Symbol">)</a>      <a id="18980" class="Symbol">=</a>  <a id="18983" href="/PLFA-zh/More/#18868" class="Bound">V</a>
  <a id="18987" href="/PLFA-zh/More/#18911" class="Function">σ</a> <a id="18989" class="Symbol">(</a><a id="18990" href="/PLFA-zh/More/#14899" class="InductiveConstructor Operator">S</a> <a id="18992" class="Symbol">(</a><a id="18993" href="/PLFA-zh/More/#14899" class="InductiveConstructor Operator">S</a> <a id="18995" href="/PLFA-zh/More/#18995" class="Bound">x</a><a id="18996" class="Symbol">))</a>  <a id="19000" class="Symbol">=</a>  <a id="19003" href="/PLFA-zh/More/#15078" class="InductiveConstructor Operator">`</a> <a id="19005" href="/PLFA-zh/More/#18995" class="Bound">x</a></pre>

<h2 id="values">Values</h2>

<pre class="Agda"><a id="19043" class="Keyword">data</a> <a id="Value"></a><a id="19048" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="19054" class="Symbol">:</a> <a id="19056" class="Symbol">∀</a> <a id="19058" class="Symbol">{</a><a id="19059" href="/PLFA-zh/More/#19059" class="Bound">Γ</a> <a id="19061" href="/PLFA-zh/More/#19061" class="Bound">A</a><a id="19062" class="Symbol">}</a> <a id="19064" class="Symbol">→</a> <a id="19066" href="/PLFA-zh/More/#19059" class="Bound">Γ</a> <a id="19068" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="19070" href="/PLFA-zh/More/#19061" class="Bound">A</a> <a id="19072" class="Symbol">→</a> <a id="19074" class="PrimitiveType">Set</a> <a id="19078" class="Keyword">where</a>

  <a id="19087" class="Comment">-- functions</a>

  <a id="Value.V-ƛ"></a><a id="19103" href="/PLFA-zh/More/#19103" class="InductiveConstructor">V-ƛ</a> <a id="19107" class="Symbol">:</a> <a id="19109" class="Symbol">∀</a> <a id="19111" class="Symbol">{</a><a id="19112" href="/PLFA-zh/More/#19112" class="Bound">Γ</a> <a id="19114" href="/PLFA-zh/More/#19114" class="Bound">A</a> <a id="19116" href="/PLFA-zh/More/#19116" class="Bound">B</a><a id="19117" class="Symbol">}</a> <a id="19119" class="Symbol">{</a><a id="19120" href="/PLFA-zh/More/#19120" class="Bound">N</a> <a id="19122" class="Symbol">:</a> <a id="19124" href="/PLFA-zh/More/#19112" class="Bound">Γ</a> <a id="19126" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="19128" href="/PLFA-zh/More/#19114" class="Bound">A</a> <a id="19130" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="19132" href="/PLFA-zh/More/#19116" class="Bound">B</a><a id="19133" class="Symbol">}</a>
      <a id="19141" class="Comment">---------------------------</a>
    <a id="19173" class="Symbol">→</a> <a id="19175" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="19181" class="Symbol">(</a><a id="19182" href="/PLFA-zh/More/#15146" class="InductiveConstructor Operator">ƛ</a> <a id="19184" href="/PLFA-zh/More/#19120" class="Bound">N</a><a id="19185" class="Symbol">)</a>

  <a id="19190" class="Comment">-- naturals</a>

  <a id="Value.V-zero"></a><a id="19205" href="/PLFA-zh/More/#19205" class="InductiveConstructor">V-zero</a> <a id="19212" class="Symbol">:</a> <a id="19214" class="Symbol">∀</a> <a id="19216" class="Symbol">{</a><a id="19217" href="/PLFA-zh/More/#19217" class="Bound">Γ</a><a id="19218" class="Symbol">}</a> <a id="19220" class="Symbol">→</a>
      <a id="19228" class="Comment">-----------------</a>
      <a id="19252" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="19258" class="Symbol">(</a><a id="19259" href="/PLFA-zh/More/#15304" class="InductiveConstructor">`zero</a> <a id="19265" class="Symbol">{</a><a id="19266" href="/PLFA-zh/More/#19217" class="Bound">Γ</a><a id="19267" class="Symbol">})</a>

  <a id="Value.V-suc_"></a><a id="19273" href="/PLFA-zh/More/#19273" class="InductiveConstructor Operator">V-suc_</a> <a id="19280" class="Symbol">:</a> <a id="19282" class="Symbol">∀</a> <a id="19284" class="Symbol">{</a><a id="19285" href="/PLFA-zh/More/#19285" class="Bound">Γ</a><a id="19286" class="Symbol">}</a> <a id="19288" class="Symbol">{</a><a id="19289" href="/PLFA-zh/More/#19289" class="Bound">V</a> <a id="19291" class="Symbol">:</a> <a id="19293" href="/PLFA-zh/More/#19285" class="Bound">Γ</a> <a id="19295" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="19297" href="/PLFA-zh/More/#14548" class="InductiveConstructor">`ℕ</a><a id="19299" class="Symbol">}</a>
    <a id="19305" class="Symbol">→</a> <a id="19307" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="19313" href="/PLFA-zh/More/#19289" class="Bound">V</a>
      <a id="19321" class="Comment">--------------</a>
    <a id="19340" class="Symbol">→</a> <a id="19342" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="19348" class="Symbol">(</a><a id="19349" href="/PLFA-zh/More/#15347" class="InductiveConstructor Operator">`suc</a> <a id="19354" href="/PLFA-zh/More/#19289" class="Bound">V</a><a id="19355" class="Symbol">)</a>

  <a id="19360" class="Comment">-- primitives</a>

  <a id="Value.V-con"></a><a id="19377" href="/PLFA-zh/More/#19377" class="InductiveConstructor">V-con</a> <a id="19383" class="Symbol">:</a> <a id="19385" class="Symbol">∀</a> <a id="19387" class="Symbol">{</a><a id="19388" href="/PLFA-zh/More/#19388" class="Bound">Γ</a> <a id="19390" href="/PLFA-zh/More/#19390" class="Bound">n</a><a id="19391" class="Symbol">}</a>
      <a id="19399" class="Comment">---------------------</a>
    <a id="19425" class="Symbol">→</a> <a id="19427" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="19433" class="Symbol">{</a><a id="19434" class="Argument">Γ</a> <a id="19436" class="Symbol">=</a> <a id="19438" href="/PLFA-zh/More/#19388" class="Bound">Γ</a><a id="19439" class="Symbol">}</a> <a id="19441" class="Symbol">(</a><a id="19442" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="19446" href="/PLFA-zh/More/#19390" class="Bound">n</a><a id="19447" class="Symbol">)</a>

  <a id="19452" class="Comment">-- products</a>

  <a id="Value.V-⟨_,_⟩"></a><a id="19467" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">V-⟨_,_⟩</a> <a id="19475" class="Symbol">:</a> <a id="19477" class="Symbol">∀</a> <a id="19479" class="Symbol">{</a><a id="19480" href="/PLFA-zh/More/#19480" class="Bound">Γ</a> <a id="19482" href="/PLFA-zh/More/#19482" class="Bound">A</a> <a id="19484" href="/PLFA-zh/More/#19484" class="Bound">B</a><a id="19485" class="Symbol">}</a> <a id="19487" class="Symbol">{</a><a id="19488" href="/PLFA-zh/More/#19488" class="Bound">V</a> <a id="19490" class="Symbol">:</a> <a id="19492" href="/PLFA-zh/More/#19480" class="Bound">Γ</a> <a id="19494" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="19496" href="/PLFA-zh/More/#19482" class="Bound">A</a><a id="19497" class="Symbol">}</a> <a id="19499" class="Symbol">{</a><a id="19500" href="/PLFA-zh/More/#19500" class="Bound">W</a> <a id="19502" class="Symbol">:</a> <a id="19504" href="/PLFA-zh/More/#19480" class="Bound">Γ</a> <a id="19506" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="19508" href="/PLFA-zh/More/#19484" class="Bound">B</a><a id="19509" class="Symbol">}</a>
    <a id="19515" class="Symbol">→</a> <a id="19517" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="19523" href="/PLFA-zh/More/#19488" class="Bound">V</a>
    <a id="19529" class="Symbol">→</a> <a id="19531" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="19537" href="/PLFA-zh/More/#19500" class="Bound">W</a>
      <a id="19545" class="Comment">----------------</a>
    <a id="19566" class="Symbol">→</a> <a id="19568" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="19574" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="19577" href="/PLFA-zh/More/#19488" class="Bound">V</a> <a id="19579" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="19581" href="/PLFA-zh/More/#19500" class="Bound">W</a> <a id="19583" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a></pre>

<p>Implicit arguments need to be supplied when they are
not fixed by the given arguments.</p>

<h2 id="reduction-9">Reduction</h2>

<pre class="Agda"><a id="19712" class="Keyword">infix</a> <a id="19718" class="Number">2</a> <a id="19720" href="/PLFA-zh/More/#19731" class="Datatype Operator">_—→_</a>

<a id="19726" class="Keyword">data</a> <a id="_—→_"></a><a id="19731" href="/PLFA-zh/More/#19731" class="Datatype Operator">_—→_</a> <a id="19736" class="Symbol">:</a> <a id="19738" class="Symbol">∀</a> <a id="19740" class="Symbol">{</a><a id="19741" href="/PLFA-zh/More/#19741" class="Bound">Γ</a> <a id="19743" href="/PLFA-zh/More/#19743" class="Bound">A</a><a id="19744" class="Symbol">}</a> <a id="19746" class="Symbol">→</a> <a id="19748" class="Symbol">(</a><a id="19749" href="/PLFA-zh/More/#19741" class="Bound">Γ</a> <a id="19751" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="19753" href="/PLFA-zh/More/#19743" class="Bound">A</a><a id="19754" class="Symbol">)</a> <a id="19756" class="Symbol">→</a> <a id="19758" class="Symbol">(</a><a id="19759" href="/PLFA-zh/More/#19741" class="Bound">Γ</a> <a id="19761" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="19763" href="/PLFA-zh/More/#19743" class="Bound">A</a><a id="19764" class="Symbol">)</a> <a id="19766" class="Symbol">→</a> <a id="19768" class="PrimitiveType">Set</a> <a id="19772" class="Keyword">where</a>

  <a id="19781" class="Comment">-- functions</a>

  <a id="_—→_.ξ-·₁"></a><a id="19797" href="/PLFA-zh/More/#19797" class="InductiveConstructor">ξ-·₁</a> <a id="19802" class="Symbol">:</a> <a id="19804" class="Symbol">∀</a> <a id="19806" class="Symbol">{</a><a id="19807" href="/PLFA-zh/More/#19807" class="Bound">Γ</a> <a id="19809" href="/PLFA-zh/More/#19809" class="Bound">A</a> <a id="19811" href="/PLFA-zh/More/#19811" class="Bound">B</a><a id="19812" class="Symbol">}</a> <a id="19814" class="Symbol">{</a><a id="19815" href="/PLFA-zh/More/#19815" class="Bound">L</a> <a id="19817" href="/PLFA-zh/More/#19817" class="Bound">L′</a> <a id="19820" class="Symbol">:</a> <a id="19822" href="/PLFA-zh/More/#19807" class="Bound">Γ</a> <a id="19824" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="19826" href="/PLFA-zh/More/#19809" class="Bound">A</a> <a id="19828" href="/PLFA-zh/More/#14563" class="InductiveConstructor Operator">⇒</a> <a id="19830" href="/PLFA-zh/More/#19811" class="Bound">B</a><a id="19831" class="Symbol">}</a> <a id="19833" class="Symbol">{</a><a id="19834" href="/PLFA-zh/More/#19834" class="Bound">M</a> <a id="19836" class="Symbol">:</a> <a id="19838" href="/PLFA-zh/More/#19807" class="Bound">Γ</a> <a id="19840" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="19842" href="/PLFA-zh/More/#19809" class="Bound">A</a><a id="19843" class="Symbol">}</a>
    <a id="19849" class="Symbol">→</a> <a id="19851" href="/PLFA-zh/More/#19815" class="Bound">L</a> <a id="19853" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="19856" href="/PLFA-zh/More/#19817" class="Bound">L′</a>
      <a id="19865" class="Comment">---------------</a>
    <a id="19885" class="Symbol">→</a> <a id="19887" href="/PLFA-zh/More/#19815" class="Bound">L</a> <a id="19889" href="/PLFA-zh/More/#15214" class="InductiveConstructor Operator">·</a> <a id="19891" href="/PLFA-zh/More/#19834" class="Bound">M</a> <a id="19893" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="19896" href="/PLFA-zh/More/#19817" class="Bound">L′</a> <a id="19899" href="/PLFA-zh/More/#15214" class="InductiveConstructor Operator">·</a> <a id="19901" href="/PLFA-zh/More/#19834" class="Bound">M</a>

  <a id="_—→_.ξ-·₂"></a><a id="19906" href="/PLFA-zh/More/#19906" class="InductiveConstructor">ξ-·₂</a> <a id="19911" class="Symbol">:</a> <a id="19913" class="Symbol">∀</a> <a id="19915" class="Symbol">{</a><a id="19916" href="/PLFA-zh/More/#19916" class="Bound">Γ</a> <a id="19918" href="/PLFA-zh/More/#19918" class="Bound">A</a> <a id="19920" href="/PLFA-zh/More/#19920" class="Bound">B</a><a id="19921" class="Symbol">}</a> <a id="19923" class="Symbol">{</a><a id="19924" href="/PLFA-zh/More/#19924" class="Bound">V</a> <a id="19926" class="Symbol">:</a> <a id="19928" href="/PLFA-zh/More/#19916" class="Bound">Γ</a> <a id="19930" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="19932" href="/PLFA-zh/More/#19918" class="Bound">A</a> <a id="19934" href="/PLFA-zh/More/#14563" class="InductiveConstructor Operator">⇒</a> <a id="19936" href="/PLFA-zh/More/#19920" class="Bound">B</a><a id="19937" class="Symbol">}</a> <a id="19939" class="Symbol">{</a><a id="19940" href="/PLFA-zh/More/#19940" class="Bound">M</a> <a id="19942" href="/PLFA-zh/More/#19942" class="Bound">M′</a> <a id="19945" class="Symbol">:</a> <a id="19947" href="/PLFA-zh/More/#19916" class="Bound">Γ</a> <a id="19949" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="19951" href="/PLFA-zh/More/#19918" class="Bound">A</a><a id="19952" class="Symbol">}</a>
    <a id="19958" class="Symbol">→</a> <a id="19960" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="19966" href="/PLFA-zh/More/#19924" class="Bound">V</a>
    <a id="19972" class="Symbol">→</a> <a id="19974" href="/PLFA-zh/More/#19940" class="Bound">M</a> <a id="19976" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="19979" href="/PLFA-zh/More/#19942" class="Bound">M′</a>
      <a id="19988" class="Comment">---------------</a>
    <a id="20008" class="Symbol">→</a> <a id="20010" href="/PLFA-zh/More/#19924" class="Bound">V</a> <a id="20012" href="/PLFA-zh/More/#15214" class="InductiveConstructor Operator">·</a> <a id="20014" href="/PLFA-zh/More/#19940" class="Bound">M</a> <a id="20016" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="20019" href="/PLFA-zh/More/#19924" class="Bound">V</a> <a id="20021" href="/PLFA-zh/More/#15214" class="InductiveConstructor Operator">·</a> <a id="20023" href="/PLFA-zh/More/#19942" class="Bound">M′</a>

  <a id="_—→_.β-ƛ"></a><a id="20029" href="/PLFA-zh/More/#20029" class="InductiveConstructor">β-ƛ</a> <a id="20033" class="Symbol">:</a> <a id="20035" class="Symbol">∀</a> <a id="20037" class="Symbol">{</a><a id="20038" href="/PLFA-zh/More/#20038" class="Bound">Γ</a> <a id="20040" href="/PLFA-zh/More/#20040" class="Bound">A</a> <a id="20042" href="/PLFA-zh/More/#20042" class="Bound">B</a><a id="20043" class="Symbol">}</a> <a id="20045" class="Symbol">{</a><a id="20046" href="/PLFA-zh/More/#20046" class="Bound">N</a> <a id="20048" class="Symbol">:</a> <a id="20050" href="/PLFA-zh/More/#20038" class="Bound">Γ</a> <a id="20052" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="20054" href="/PLFA-zh/More/#20040" class="Bound">A</a> <a id="20056" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="20058" href="/PLFA-zh/More/#20042" class="Bound">B</a><a id="20059" class="Symbol">}</a> <a id="20061" class="Symbol">{</a><a id="20062" href="/PLFA-zh/More/#20062" class="Bound">V</a> <a id="20064" class="Symbol">:</a> <a id="20066" href="/PLFA-zh/More/#20038" class="Bound">Γ</a> <a id="20068" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="20070" href="/PLFA-zh/More/#20040" class="Bound">A</a><a id="20071" class="Symbol">}</a>
    <a id="20077" class="Symbol">→</a> <a id="20079" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="20085" href="/PLFA-zh/More/#20062" class="Bound">V</a>
      <a id="20093" class="Comment">--------------------</a>
    <a id="20118" class="Symbol">→</a> <a id="20120" class="Symbol">(</a><a id="20121" href="/PLFA-zh/More/#15146" class="InductiveConstructor Operator">ƛ</a> <a id="20123" href="/PLFA-zh/More/#20046" class="Bound">N</a><a id="20124" class="Symbol">)</a> <a id="20126" href="/PLFA-zh/More/#15214" class="InductiveConstructor Operator">·</a> <a id="20128" href="/PLFA-zh/More/#20062" class="Bound">V</a> <a id="20130" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="20133" href="/PLFA-zh/More/#20046" class="Bound">N</a> <a id="20135" href="/PLFA-zh/More/#18573" class="Function Operator">[</a> <a id="20137" href="/PLFA-zh/More/#20062" class="Bound">V</a> <a id="20139" href="/PLFA-zh/More/#18573" class="Function Operator">]</a>

  <a id="20144" class="Comment">-- naturals</a>

  <a id="_—→_.ξ-suc"></a><a id="20159" href="/PLFA-zh/More/#20159" class="InductiveConstructor">ξ-suc</a> <a id="20165" class="Symbol">:</a> <a id="20167" class="Symbol">∀</a> <a id="20169" class="Symbol">{</a><a id="20170" href="/PLFA-zh/More/#20170" class="Bound">Γ</a><a id="20171" class="Symbol">}</a> <a id="20173" class="Symbol">{</a><a id="20174" href="/PLFA-zh/More/#20174" class="Bound">M</a> <a id="20176" href="/PLFA-zh/More/#20176" class="Bound">M′</a> <a id="20179" class="Symbol">:</a> <a id="20181" href="/PLFA-zh/More/#20170" class="Bound">Γ</a> <a id="20183" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="20185" href="/PLFA-zh/More/#14548" class="InductiveConstructor">`ℕ</a><a id="20187" class="Symbol">}</a>
    <a id="20193" class="Symbol">→</a> <a id="20195" href="/PLFA-zh/More/#20174" class="Bound">M</a> <a id="20197" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="20200" href="/PLFA-zh/More/#20176" class="Bound">M′</a>
      <a id="20209" class="Comment">-----------------</a>
    <a id="20231" class="Symbol">→</a> <a id="20233" href="/PLFA-zh/More/#15347" class="InductiveConstructor Operator">`suc</a> <a id="20238" href="/PLFA-zh/More/#20174" class="Bound">M</a> <a id="20240" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="20243" href="/PLFA-zh/More/#15347" class="InductiveConstructor Operator">`suc</a> <a id="20248" href="/PLFA-zh/More/#20176" class="Bound">M′</a>

  <a id="_—→_.ξ-case"></a><a id="20254" href="/PLFA-zh/More/#20254" class="InductiveConstructor">ξ-case</a> <a id="20261" class="Symbol">:</a> <a id="20263" class="Symbol">∀</a> <a id="20265" class="Symbol">{</a><a id="20266" href="/PLFA-zh/More/#20266" class="Bound">Γ</a> <a id="20268" href="/PLFA-zh/More/#20268" class="Bound">A</a><a id="20269" class="Symbol">}</a> <a id="20271" class="Symbol">{</a><a id="20272" href="/PLFA-zh/More/#20272" class="Bound">L</a> <a id="20274" href="/PLFA-zh/More/#20274" class="Bound">L′</a> <a id="20277" class="Symbol">:</a> <a id="20279" href="/PLFA-zh/More/#20266" class="Bound">Γ</a> <a id="20281" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="20283" href="/PLFA-zh/More/#14548" class="InductiveConstructor">`ℕ</a><a id="20285" class="Symbol">}</a> <a id="20287" class="Symbol">{</a><a id="20288" href="/PLFA-zh/More/#20288" class="Bound">M</a> <a id="20290" class="Symbol">:</a> <a id="20292" href="/PLFA-zh/More/#20266" class="Bound">Γ</a> <a id="20294" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="20296" href="/PLFA-zh/More/#20268" class="Bound">A</a><a id="20297" class="Symbol">}</a> <a id="20299" class="Symbol">{</a><a id="20300" href="/PLFA-zh/More/#20300" class="Bound">N</a> <a id="20302" class="Symbol">:</a> <a id="20304" href="/PLFA-zh/More/#20266" class="Bound">Γ</a> <a id="20306" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="20308" href="/PLFA-zh/More/#14548" class="InductiveConstructor">`ℕ</a> <a id="20311" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="20313" href="/PLFA-zh/More/#20268" class="Bound">A</a><a id="20314" class="Symbol">}</a>
    <a id="20320" class="Symbol">→</a> <a id="20322" href="/PLFA-zh/More/#20272" class="Bound">L</a> <a id="20324" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="20327" href="/PLFA-zh/More/#20274" class="Bound">L′</a>
      <a id="20336" class="Comment">-------------------------</a>
    <a id="20366" class="Symbol">→</a> <a id="20368" href="/PLFA-zh/More/#15403" class="InductiveConstructor">case</a> <a id="20373" href="/PLFA-zh/More/#20272" class="Bound">L</a> <a id="20375" href="/PLFA-zh/More/#20288" class="Bound">M</a> <a id="20377" href="/PLFA-zh/More/#20300" class="Bound">N</a> <a id="20379" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="20382" href="/PLFA-zh/More/#15403" class="InductiveConstructor">case</a> <a id="20387" href="/PLFA-zh/More/#20274" class="Bound">L′</a> <a id="20390" href="/PLFA-zh/More/#20288" class="Bound">M</a> <a id="20392" href="/PLFA-zh/More/#20300" class="Bound">N</a>

  <a id="_—→_.β-zero"></a><a id="20397" href="/PLFA-zh/More/#20397" class="InductiveConstructor">β-zero</a> <a id="20404" class="Symbol">:</a>  <a id="20407" class="Symbol">∀</a> <a id="20409" class="Symbol">{</a><a id="20410" href="/PLFA-zh/More/#20410" class="Bound">Γ</a> <a id="20412" href="/PLFA-zh/More/#20412" class="Bound">A</a><a id="20413" class="Symbol">}</a> <a id="20415" class="Symbol">{</a><a id="20416" href="/PLFA-zh/More/#20416" class="Bound">M</a> <a id="20418" class="Symbol">:</a> <a id="20420" href="/PLFA-zh/More/#20410" class="Bound">Γ</a> <a id="20422" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="20424" href="/PLFA-zh/More/#20412" class="Bound">A</a><a id="20425" class="Symbol">}</a> <a id="20427" class="Symbol">{</a><a id="20428" href="/PLFA-zh/More/#20428" class="Bound">N</a> <a id="20430" class="Symbol">:</a> <a id="20432" href="/PLFA-zh/More/#20410" class="Bound">Γ</a> <a id="20434" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="20436" href="/PLFA-zh/More/#14548" class="InductiveConstructor">`ℕ</a> <a id="20439" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="20441" href="/PLFA-zh/More/#20412" class="Bound">A</a><a id="20442" class="Symbol">}</a>
      <a id="20450" class="Comment">-------------------</a>
    <a id="20474" class="Symbol">→</a> <a id="20476" href="/PLFA-zh/More/#15403" class="InductiveConstructor">case</a> <a id="20481" href="/PLFA-zh/More/#15304" class="InductiveConstructor">`zero</a> <a id="20487" href="/PLFA-zh/More/#20416" class="Bound">M</a> <a id="20489" href="/PLFA-zh/More/#20428" class="Bound">N</a> <a id="20491" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="20494" href="/PLFA-zh/More/#20416" class="Bound">M</a>

  <a id="_—→_.β-suc"></a><a id="20499" href="/PLFA-zh/More/#20499" class="InductiveConstructor">β-suc</a> <a id="20505" class="Symbol">:</a> <a id="20507" class="Symbol">∀</a> <a id="20509" class="Symbol">{</a><a id="20510" href="/PLFA-zh/More/#20510" class="Bound">Γ</a> <a id="20512" href="/PLFA-zh/More/#20512" class="Bound">A</a><a id="20513" class="Symbol">}</a> <a id="20515" class="Symbol">{</a><a id="20516" href="/PLFA-zh/More/#20516" class="Bound">V</a> <a id="20518" class="Symbol">:</a> <a id="20520" href="/PLFA-zh/More/#20510" class="Bound">Γ</a> <a id="20522" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="20524" href="/PLFA-zh/More/#14548" class="InductiveConstructor">`ℕ</a><a id="20526" class="Symbol">}</a> <a id="20528" class="Symbol">{</a><a id="20529" href="/PLFA-zh/More/#20529" class="Bound">M</a> <a id="20531" class="Symbol">:</a> <a id="20533" href="/PLFA-zh/More/#20510" class="Bound">Γ</a> <a id="20535" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="20537" href="/PLFA-zh/More/#20512" class="Bound">A</a><a id="20538" class="Symbol">}</a> <a id="20540" class="Symbol">{</a><a id="20541" href="/PLFA-zh/More/#20541" class="Bound">N</a> <a id="20543" class="Symbol">:</a> <a id="20545" href="/PLFA-zh/More/#20510" class="Bound">Γ</a> <a id="20547" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="20549" href="/PLFA-zh/More/#14548" class="InductiveConstructor">`ℕ</a> <a id="20552" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="20554" href="/PLFA-zh/More/#20512" class="Bound">A</a><a id="20555" class="Symbol">}</a>
    <a id="20561" class="Symbol">→</a> <a id="20563" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="20569" href="/PLFA-zh/More/#20516" class="Bound">V</a>
      <a id="20577" class="Comment">----------------------------</a>
    <a id="20610" class="Symbol">→</a> <a id="20612" href="/PLFA-zh/More/#15403" class="InductiveConstructor">case</a> <a id="20617" class="Symbol">(</a><a id="20618" href="/PLFA-zh/More/#15347" class="InductiveConstructor Operator">`suc</a> <a id="20623" href="/PLFA-zh/More/#20516" class="Bound">V</a><a id="20624" class="Symbol">)</a> <a id="20626" href="/PLFA-zh/More/#20529" class="Bound">M</a> <a id="20628" href="/PLFA-zh/More/#20541" class="Bound">N</a> <a id="20630" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="20633" href="/PLFA-zh/More/#20541" class="Bound">N</a> <a id="20635" href="/PLFA-zh/More/#18573" class="Function Operator">[</a> <a id="20637" href="/PLFA-zh/More/#20516" class="Bound">V</a> <a id="20639" href="/PLFA-zh/More/#18573" class="Function Operator">]</a>

  <a id="20644" class="Comment">-- fixpoint</a>

  <a id="_—→_.β-μ"></a><a id="20659" href="/PLFA-zh/More/#20659" class="InductiveConstructor">β-μ</a> <a id="20663" class="Symbol">:</a> <a id="20665" class="Symbol">∀</a> <a id="20667" class="Symbol">{</a><a id="20668" href="/PLFA-zh/More/#20668" class="Bound">Γ</a> <a id="20670" href="/PLFA-zh/More/#20670" class="Bound">A</a><a id="20671" class="Symbol">}</a> <a id="20673" class="Symbol">{</a><a id="20674" href="/PLFA-zh/More/#20674" class="Bound">N</a> <a id="20676" class="Symbol">:</a> <a id="20678" href="/PLFA-zh/More/#20668" class="Bound">Γ</a> <a id="20680" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="20682" href="/PLFA-zh/More/#20670" class="Bound">A</a> <a id="20684" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="20686" href="/PLFA-zh/More/#20670" class="Bound">A</a><a id="20687" class="Symbol">}</a>
      <a id="20695" class="Comment">----------------</a>
    <a id="20716" class="Symbol">→</a> <a id="20718" href="/PLFA-zh/More/#15502" class="InductiveConstructor Operator">μ</a> <a id="20720" href="/PLFA-zh/More/#20674" class="Bound">N</a> <a id="20722" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="20725" href="/PLFA-zh/More/#20674" class="Bound">N</a> <a id="20727" href="/PLFA-zh/More/#18573" class="Function Operator">[</a> <a id="20729" href="/PLFA-zh/More/#15502" class="InductiveConstructor Operator">μ</a> <a id="20731" href="/PLFA-zh/More/#20674" class="Bound">N</a> <a id="20733" href="/PLFA-zh/More/#18573" class="Function Operator">]</a>

  <a id="20738" class="Comment">-- primitive numbers</a>

  <a id="_—→_.ξ-*₁"></a><a id="20762" href="/PLFA-zh/More/#20762" class="InductiveConstructor">ξ-*₁</a> <a id="20767" class="Symbol">:</a> <a id="20769" class="Symbol">∀</a> <a id="20771" class="Symbol">{</a><a id="20772" href="/PLFA-zh/More/#20772" class="Bound">Γ</a><a id="20773" class="Symbol">}</a> <a id="20775" class="Symbol">{</a><a id="20776" href="/PLFA-zh/More/#20776" class="Bound">L</a> <a id="20778" href="/PLFA-zh/More/#20778" class="Bound">L′</a> <a id="20781" href="/PLFA-zh/More/#20781" class="Bound">M</a> <a id="20783" class="Symbol">:</a> <a id="20785" href="/PLFA-zh/More/#20772" class="Bound">Γ</a> <a id="20787" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="20789" href="/PLFA-zh/More/#14592" class="InductiveConstructor">Nat</a><a id="20792" class="Symbol">}</a>
    <a id="20798" class="Symbol">→</a> <a id="20800" href="/PLFA-zh/More/#20776" class="Bound">L</a> <a id="20802" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="20805" href="/PLFA-zh/More/#20778" class="Bound">L′</a>
      <a id="20814" class="Comment">-----------------</a>
    <a id="20836" class="Symbol">→</a> <a id="20838" href="/PLFA-zh/More/#20776" class="Bound">L</a> <a id="20840" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="20843" href="/PLFA-zh/More/#20781" class="Bound">M</a> <a id="20845" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="20848" href="/PLFA-zh/More/#20778" class="Bound">L′</a> <a id="20851" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="20854" href="/PLFA-zh/More/#20781" class="Bound">M</a>

  <a id="_—→_.ξ-*₂"></a><a id="20859" href="/PLFA-zh/More/#20859" class="InductiveConstructor">ξ-*₂</a> <a id="20864" class="Symbol">:</a> <a id="20866" class="Symbol">∀</a> <a id="20868" class="Symbol">{</a><a id="20869" href="/PLFA-zh/More/#20869" class="Bound">Γ</a><a id="20870" class="Symbol">}</a> <a id="20872" class="Symbol">{</a><a id="20873" href="/PLFA-zh/More/#20873" class="Bound">V</a> <a id="20875" href="/PLFA-zh/More/#20875" class="Bound">M</a> <a id="20877" href="/PLFA-zh/More/#20877" class="Bound">M′</a> <a id="20880" class="Symbol">:</a> <a id="20882" href="/PLFA-zh/More/#20869" class="Bound">Γ</a> <a id="20884" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="20886" href="/PLFA-zh/More/#14592" class="InductiveConstructor">Nat</a><a id="20889" class="Symbol">}</a>
    <a id="20895" class="Symbol">→</a> <a id="20897" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="20903" href="/PLFA-zh/More/#20873" class="Bound">V</a>
    <a id="20909" class="Symbol">→</a> <a id="20911" href="/PLFA-zh/More/#20875" class="Bound">M</a> <a id="20913" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="20916" href="/PLFA-zh/More/#20877" class="Bound">M′</a>
      <a id="20925" class="Comment">-----------------</a>
    <a id="20947" class="Symbol">→</a> <a id="20949" href="/PLFA-zh/More/#20873" class="Bound">V</a> <a id="20951" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="20954" href="/PLFA-zh/More/#20875" class="Bound">M</a> <a id="20956" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="20959" href="/PLFA-zh/More/#20873" class="Bound">V</a> <a id="20961" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="20964" href="/PLFA-zh/More/#20877" class="Bound">M′</a>

  <a id="_—→_.δ-*"></a><a id="20970" href="/PLFA-zh/More/#20970" class="InductiveConstructor">δ-*</a> <a id="20974" class="Symbol">:</a> <a id="20976" class="Symbol">∀</a> <a id="20978" class="Symbol">{</a><a id="20979" href="/PLFA-zh/More/#20979" class="Bound">Γ</a> <a id="20981" href="/PLFA-zh/More/#20981" class="Bound">c</a> <a id="20983" href="/PLFA-zh/More/#20983" class="Bound">d</a><a id="20984" class="Symbol">}</a>
      <a id="20992" class="Comment">-------------------------------------</a>
    <a id="21034" class="Symbol">→</a> <a id="21036" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="21040" class="Symbol">{</a><a id="21041" class="Argument">Γ</a> <a id="21043" class="Symbol">=</a> <a id="21045" href="/PLFA-zh/More/#20979" class="Bound">Γ</a><a id="21046" class="Symbol">}</a> <a id="21048" href="/PLFA-zh/More/#20981" class="Bound">c</a> <a id="21050" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="21053" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="21057" href="/PLFA-zh/More/#20983" class="Bound">d</a> <a id="21059" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="21062" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="21066" class="Symbol">(</a><a id="21067" href="/PLFA-zh/More/#20981" class="Bound">c</a> <a id="21069" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#433" class="Primitive Operator">*</a> <a id="21071" href="/PLFA-zh/More/#20983" class="Bound">d</a><a id="21072" class="Symbol">)</a>

  <a id="21077" class="Comment">-- let</a>

  <a id="_—→_.ξ-let"></a><a id="21087" href="/PLFA-zh/More/#21087" class="InductiveConstructor">ξ-let</a> <a id="21093" class="Symbol">:</a> <a id="21095" class="Symbol">∀</a> <a id="21097" class="Symbol">{</a><a id="21098" href="/PLFA-zh/More/#21098" class="Bound">Γ</a> <a id="21100" href="/PLFA-zh/More/#21100" class="Bound">A</a> <a id="21102" href="/PLFA-zh/More/#21102" class="Bound">B</a><a id="21103" class="Symbol">}</a> <a id="21105" class="Symbol">{</a><a id="21106" href="/PLFA-zh/More/#21106" class="Bound">M</a> <a id="21108" href="/PLFA-zh/More/#21108" class="Bound">M′</a> <a id="21111" class="Symbol">:</a> <a id="21113" href="/PLFA-zh/More/#21098" class="Bound">Γ</a> <a id="21115" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="21117" href="/PLFA-zh/More/#21100" class="Bound">A</a><a id="21118" class="Symbol">}</a> <a id="21120" class="Symbol">{</a><a id="21121" href="/PLFA-zh/More/#21121" class="Bound">N</a> <a id="21123" class="Symbol">:</a> <a id="21125" href="/PLFA-zh/More/#21098" class="Bound">Γ</a> <a id="21127" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="21129" href="/PLFA-zh/More/#21100" class="Bound">A</a> <a id="21131" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="21133" href="/PLFA-zh/More/#21102" class="Bound">B</a><a id="21134" class="Symbol">}</a>
    <a id="21140" class="Symbol">→</a> <a id="21142" href="/PLFA-zh/More/#21106" class="Bound">M</a> <a id="21144" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="21147" href="/PLFA-zh/More/#21108" class="Bound">M′</a>
      <a id="21156" class="Comment">---------------------</a>
    <a id="21182" class="Symbol">→</a> <a id="21184" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="21189" href="/PLFA-zh/More/#21106" class="Bound">M</a> <a id="21191" href="/PLFA-zh/More/#21121" class="Bound">N</a> <a id="21193" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="21196" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="21201" href="/PLFA-zh/More/#21108" class="Bound">M′</a> <a id="21204" href="/PLFA-zh/More/#21121" class="Bound">N</a>

  <a id="_—→_.β-let"></a><a id="21209" href="/PLFA-zh/More/#21209" class="InductiveConstructor">β-let</a> <a id="21215" class="Symbol">:</a> <a id="21217" class="Symbol">∀</a> <a id="21219" class="Symbol">{</a><a id="21220" href="/PLFA-zh/More/#21220" class="Bound">Γ</a> <a id="21222" href="/PLFA-zh/More/#21222" class="Bound">A</a> <a id="21224" href="/PLFA-zh/More/#21224" class="Bound">B</a><a id="21225" class="Symbol">}</a> <a id="21227" class="Symbol">{</a><a id="21228" href="/PLFA-zh/More/#21228" class="Bound">V</a> <a id="21230" class="Symbol">:</a> <a id="21232" href="/PLFA-zh/More/#21220" class="Bound">Γ</a> <a id="21234" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="21236" href="/PLFA-zh/More/#21222" class="Bound">A</a><a id="21237" class="Symbol">}</a> <a id="21239" class="Symbol">{</a><a id="21240" href="/PLFA-zh/More/#21240" class="Bound">N</a> <a id="21242" class="Symbol">:</a> <a id="21244" href="/PLFA-zh/More/#21220" class="Bound">Γ</a> <a id="21246" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="21248" href="/PLFA-zh/More/#21222" class="Bound">A</a> <a id="21250" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="21252" href="/PLFA-zh/More/#21224" class="Bound">B</a><a id="21253" class="Symbol">}</a>
    <a id="21259" class="Symbol">→</a> <a id="21261" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="21267" href="/PLFA-zh/More/#21228" class="Bound">V</a>
      <a id="21275" class="Comment">-------------------</a>
    <a id="21299" class="Symbol">→</a> <a id="21301" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="21306" href="/PLFA-zh/More/#21228" class="Bound">V</a> <a id="21308" href="/PLFA-zh/More/#21240" class="Bound">N</a> <a id="21310" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="21313" href="/PLFA-zh/More/#21240" class="Bound">N</a> <a id="21315" href="/PLFA-zh/More/#18573" class="Function Operator">[</a> <a id="21317" href="/PLFA-zh/More/#21228" class="Bound">V</a> <a id="21319" href="/PLFA-zh/More/#18573" class="Function Operator">]</a>

  <a id="21324" class="Comment">-- products</a>

  <a id="_—→_.ξ-⟨,⟩₁"></a><a id="21339" href="/PLFA-zh/More/#21339" class="InductiveConstructor">ξ-⟨,⟩₁</a> <a id="21346" class="Symbol">:</a> <a id="21348" class="Symbol">∀</a> <a id="21350" class="Symbol">{</a><a id="21351" href="/PLFA-zh/More/#21351" class="Bound">Γ</a> <a id="21353" href="/PLFA-zh/More/#21353" class="Bound">A</a> <a id="21355" href="/PLFA-zh/More/#21355" class="Bound">B</a><a id="21356" class="Symbol">}</a> <a id="21358" class="Symbol">{</a><a id="21359" href="/PLFA-zh/More/#21359" class="Bound">M</a> <a id="21361" href="/PLFA-zh/More/#21361" class="Bound">M′</a> <a id="21364" class="Symbol">:</a> <a id="21366" href="/PLFA-zh/More/#21351" class="Bound">Γ</a> <a id="21368" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="21370" href="/PLFA-zh/More/#21353" class="Bound">A</a><a id="21371" class="Symbol">}</a> <a id="21373" class="Symbol">{</a><a id="21374" href="/PLFA-zh/More/#21374" class="Bound">N</a> <a id="21376" class="Symbol">:</a> <a id="21378" href="/PLFA-zh/More/#21351" class="Bound">Γ</a> <a id="21380" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="21382" href="/PLFA-zh/More/#21355" class="Bound">B</a><a id="21383" class="Symbol">}</a>
    <a id="21389" class="Symbol">→</a> <a id="21391" href="/PLFA-zh/More/#21359" class="Bound">M</a> <a id="21393" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="21396" href="/PLFA-zh/More/#21361" class="Bound">M′</a>
      <a id="21405" class="Comment">-------------------------</a>
    <a id="21435" class="Symbol">→</a> <a id="21437" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="21440" href="/PLFA-zh/More/#21359" class="Bound">M</a> <a id="21442" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="21444" href="/PLFA-zh/More/#21374" class="Bound">N</a> <a id="21446" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a> <a id="21448" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="21451" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="21454" href="/PLFA-zh/More/#21361" class="Bound">M′</a> <a id="21457" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="21459" href="/PLFA-zh/More/#21374" class="Bound">N</a> <a id="21461" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a>

  <a id="_—→_.ξ-⟨,⟩₂"></a><a id="21466" href="/PLFA-zh/More/#21466" class="InductiveConstructor">ξ-⟨,⟩₂</a> <a id="21473" class="Symbol">:</a> <a id="21475" class="Symbol">∀</a> <a id="21477" class="Symbol">{</a><a id="21478" href="/PLFA-zh/More/#21478" class="Bound">Γ</a> <a id="21480" href="/PLFA-zh/More/#21480" class="Bound">A</a> <a id="21482" href="/PLFA-zh/More/#21482" class="Bound">B</a><a id="21483" class="Symbol">}</a> <a id="21485" class="Symbol">{</a><a id="21486" href="/PLFA-zh/More/#21486" class="Bound">V</a> <a id="21488" class="Symbol">:</a> <a id="21490" href="/PLFA-zh/More/#21478" class="Bound">Γ</a> <a id="21492" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="21494" href="/PLFA-zh/More/#21480" class="Bound">A</a><a id="21495" class="Symbol">}</a> <a id="21497" class="Symbol">{</a><a id="21498" href="/PLFA-zh/More/#21498" class="Bound">N</a> <a id="21500" href="/PLFA-zh/More/#21500" class="Bound">N′</a> <a id="21503" class="Symbol">:</a> <a id="21505" href="/PLFA-zh/More/#21478" class="Bound">Γ</a> <a id="21507" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="21509" href="/PLFA-zh/More/#21482" class="Bound">B</a><a id="21510" class="Symbol">}</a>
    <a id="21516" class="Symbol">→</a> <a id="21518" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="21524" href="/PLFA-zh/More/#21486" class="Bound">V</a>
    <a id="21530" class="Symbol">→</a> <a id="21532" href="/PLFA-zh/More/#21498" class="Bound">N</a> <a id="21534" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="21537" href="/PLFA-zh/More/#21500" class="Bound">N′</a>
      <a id="21546" class="Comment">-------------------------</a>
    <a id="21576" class="Symbol">→</a> <a id="21578" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="21581" href="/PLFA-zh/More/#21486" class="Bound">V</a> <a id="21583" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="21585" href="/PLFA-zh/More/#21498" class="Bound">N</a> <a id="21587" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a> <a id="21589" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="21592" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="21595" href="/PLFA-zh/More/#21486" class="Bound">V</a> <a id="21597" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="21599" href="/PLFA-zh/More/#21500" class="Bound">N′</a> <a id="21602" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a>

  <a id="_—→_.ξ-proj₁"></a><a id="21607" href="/PLFA-zh/More/#21607" class="InductiveConstructor">ξ-proj₁</a> <a id="21615" class="Symbol">:</a> <a id="21617" class="Symbol">∀</a> <a id="21619" class="Symbol">{</a><a id="21620" href="/PLFA-zh/More/#21620" class="Bound">Γ</a> <a id="21622" href="/PLFA-zh/More/#21622" class="Bound">A</a> <a id="21624" href="/PLFA-zh/More/#21624" class="Bound">B</a><a id="21625" class="Symbol">}</a> <a id="21627" class="Symbol">{</a><a id="21628" href="/PLFA-zh/More/#21628" class="Bound">L</a> <a id="21630" href="/PLFA-zh/More/#21630" class="Bound">L′</a> <a id="21633" class="Symbol">:</a> <a id="21635" href="/PLFA-zh/More/#21620" class="Bound">Γ</a> <a id="21637" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="21639" href="/PLFA-zh/More/#21622" class="Bound">A</a> <a id="21641" href="/PLFA-zh/More/#14607" class="InductiveConstructor Operator">`×</a> <a id="21644" href="/PLFA-zh/More/#21624" class="Bound">B</a><a id="21645" class="Symbol">}</a>
    <a id="21651" class="Symbol">→</a> <a id="21653" href="/PLFA-zh/More/#21628" class="Bound">L</a> <a id="21655" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="21658" href="/PLFA-zh/More/#21630" class="Bound">L′</a>
      <a id="21667" class="Comment">---------------------</a>
    <a id="21693" class="Symbol">→</a> <a id="21695" href="/PLFA-zh/More/#15893" class="InductiveConstructor">`proj₁</a> <a id="21702" href="/PLFA-zh/More/#21628" class="Bound">L</a> <a id="21704" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="21707" href="/PLFA-zh/More/#15893" class="InductiveConstructor">`proj₁</a> <a id="21714" href="/PLFA-zh/More/#21630" class="Bound">L′</a>

  <a id="_—→_.ξ-proj₂"></a><a id="21720" href="/PLFA-zh/More/#21720" class="InductiveConstructor">ξ-proj₂</a> <a id="21728" class="Symbol">:</a> <a id="21730" class="Symbol">∀</a> <a id="21732" class="Symbol">{</a><a id="21733" href="/PLFA-zh/More/#21733" class="Bound">Γ</a> <a id="21735" href="/PLFA-zh/More/#21735" class="Bound">A</a> <a id="21737" href="/PLFA-zh/More/#21737" class="Bound">B</a><a id="21738" class="Symbol">}</a> <a id="21740" class="Symbol">{</a><a id="21741" href="/PLFA-zh/More/#21741" class="Bound">L</a> <a id="21743" href="/PLFA-zh/More/#21743" class="Bound">L′</a> <a id="21746" class="Symbol">:</a> <a id="21748" href="/PLFA-zh/More/#21733" class="Bound">Γ</a> <a id="21750" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="21752" href="/PLFA-zh/More/#21735" class="Bound">A</a> <a id="21754" href="/PLFA-zh/More/#14607" class="InductiveConstructor Operator">`×</a> <a id="21757" href="/PLFA-zh/More/#21737" class="Bound">B</a><a id="21758" class="Symbol">}</a>
    <a id="21764" class="Symbol">→</a> <a id="21766" href="/PLFA-zh/More/#21741" class="Bound">L</a> <a id="21768" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="21771" href="/PLFA-zh/More/#21743" class="Bound">L′</a>
      <a id="21780" class="Comment">---------------------</a>
    <a id="21806" class="Symbol">→</a> <a id="21808" href="/PLFA-zh/More/#15962" class="InductiveConstructor">`proj₂</a> <a id="21815" href="/PLFA-zh/More/#21741" class="Bound">L</a> <a id="21817" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="21820" href="/PLFA-zh/More/#15962" class="InductiveConstructor">`proj₂</a> <a id="21827" href="/PLFA-zh/More/#21743" class="Bound">L′</a>

  <a id="_—→_.β-proj₁"></a><a id="21833" href="/PLFA-zh/More/#21833" class="InductiveConstructor">β-proj₁</a> <a id="21841" class="Symbol">:</a> <a id="21843" class="Symbol">∀</a> <a id="21845" class="Symbol">{</a><a id="21846" href="/PLFA-zh/More/#21846" class="Bound">Γ</a> <a id="21848" href="/PLFA-zh/More/#21848" class="Bound">A</a> <a id="21850" href="/PLFA-zh/More/#21850" class="Bound">B</a><a id="21851" class="Symbol">}</a> <a id="21853" class="Symbol">{</a><a id="21854" href="/PLFA-zh/More/#21854" class="Bound">V</a> <a id="21856" class="Symbol">:</a> <a id="21858" href="/PLFA-zh/More/#21846" class="Bound">Γ</a> <a id="21860" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="21862" href="/PLFA-zh/More/#21848" class="Bound">A</a><a id="21863" class="Symbol">}</a> <a id="21865" class="Symbol">{</a><a id="21866" href="/PLFA-zh/More/#21866" class="Bound">W</a> <a id="21868" class="Symbol">:</a> <a id="21870" href="/PLFA-zh/More/#21846" class="Bound">Γ</a> <a id="21872" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="21874" href="/PLFA-zh/More/#21850" class="Bound">B</a><a id="21875" class="Symbol">}</a>
    <a id="21881" class="Symbol">→</a> <a id="21883" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="21889" href="/PLFA-zh/More/#21854" class="Bound">V</a>
    <a id="21895" class="Symbol">→</a> <a id="21897" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="21903" href="/PLFA-zh/More/#21866" class="Bound">W</a>
      <a id="21911" class="Comment">----------------------</a>
    <a id="21938" class="Symbol">→</a> <a id="21940" href="/PLFA-zh/More/#15893" class="InductiveConstructor">`proj₁</a> <a id="21947" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="21950" href="/PLFA-zh/More/#21854" class="Bound">V</a> <a id="21952" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="21954" href="/PLFA-zh/More/#21866" class="Bound">W</a> <a id="21956" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a> <a id="21958" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="21961" href="/PLFA-zh/More/#21854" class="Bound">V</a>

  <a id="_—→_.β-proj₂"></a><a id="21966" href="/PLFA-zh/More/#21966" class="InductiveConstructor">β-proj₂</a> <a id="21974" class="Symbol">:</a> <a id="21976" class="Symbol">∀</a> <a id="21978" class="Symbol">{</a><a id="21979" href="/PLFA-zh/More/#21979" class="Bound">Γ</a> <a id="21981" href="/PLFA-zh/More/#21981" class="Bound">A</a> <a id="21983" href="/PLFA-zh/More/#21983" class="Bound">B</a><a id="21984" class="Symbol">}</a> <a id="21986" class="Symbol">{</a><a id="21987" href="/PLFA-zh/More/#21987" class="Bound">V</a> <a id="21989" class="Symbol">:</a> <a id="21991" href="/PLFA-zh/More/#21979" class="Bound">Γ</a> <a id="21993" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="21995" href="/PLFA-zh/More/#21981" class="Bound">A</a><a id="21996" class="Symbol">}</a> <a id="21998" class="Symbol">{</a><a id="21999" href="/PLFA-zh/More/#21999" class="Bound">W</a> <a id="22001" class="Symbol">:</a> <a id="22003" href="/PLFA-zh/More/#21979" class="Bound">Γ</a> <a id="22005" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="22007" href="/PLFA-zh/More/#21983" class="Bound">B</a><a id="22008" class="Symbol">}</a>
    <a id="22014" class="Symbol">→</a> <a id="22016" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="22022" href="/PLFA-zh/More/#21987" class="Bound">V</a>
    <a id="22028" class="Symbol">→</a> <a id="22030" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="22036" href="/PLFA-zh/More/#21999" class="Bound">W</a>
      <a id="22044" class="Comment">----------------------</a>
    <a id="22071" class="Symbol">→</a> <a id="22073" href="/PLFA-zh/More/#15962" class="InductiveConstructor">`proj₂</a> <a id="22080" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="22083" href="/PLFA-zh/More/#21987" class="Bound">V</a> <a id="22085" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="22087" href="/PLFA-zh/More/#21999" class="Bound">W</a> <a id="22089" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a> <a id="22091" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="22094" href="/PLFA-zh/More/#21999" class="Bound">W</a>

  <a id="22099" class="Comment">-- alternative formulation of products</a>

  <a id="_—→_.ξ-case×"></a><a id="22141" href="/PLFA-zh/More/#22141" class="InductiveConstructor">ξ-case×</a> <a id="22149" class="Symbol">:</a> <a id="22151" class="Symbol">∀</a> <a id="22153" class="Symbol">{</a><a id="22154" href="/PLFA-zh/More/#22154" class="Bound">Γ</a> <a id="22156" href="/PLFA-zh/More/#22156" class="Bound">A</a> <a id="22158" href="/PLFA-zh/More/#22158" class="Bound">B</a> <a id="22160" href="/PLFA-zh/More/#22160" class="Bound">C</a><a id="22161" class="Symbol">}</a> <a id="22163" class="Symbol">{</a><a id="22164" href="/PLFA-zh/More/#22164" class="Bound">L</a> <a id="22166" href="/PLFA-zh/More/#22166" class="Bound">L′</a> <a id="22169" class="Symbol">:</a> <a id="22171" href="/PLFA-zh/More/#22154" class="Bound">Γ</a> <a id="22173" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="22175" href="/PLFA-zh/More/#22156" class="Bound">A</a> <a id="22177" href="/PLFA-zh/More/#14607" class="InductiveConstructor Operator">`×</a> <a id="22180" href="/PLFA-zh/More/#22158" class="Bound">B</a><a id="22181" class="Symbol">}</a> <a id="22183" class="Symbol">{</a><a id="22184" href="/PLFA-zh/More/#22184" class="Bound">M</a> <a id="22186" class="Symbol">:</a> <a id="22188" href="/PLFA-zh/More/#22154" class="Bound">Γ</a> <a id="22190" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="22192" href="/PLFA-zh/More/#22156" class="Bound">A</a> <a id="22194" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="22196" href="/PLFA-zh/More/#22158" class="Bound">B</a> <a id="22198" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="22200" href="/PLFA-zh/More/#22160" class="Bound">C</a><a id="22201" class="Symbol">}</a>
    <a id="22207" class="Symbol">→</a> <a id="22209" href="/PLFA-zh/More/#22164" class="Bound">L</a> <a id="22211" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="22214" href="/PLFA-zh/More/#22166" class="Bound">L′</a>
      <a id="22223" class="Comment">-----------------------</a>
    <a id="22251" class="Symbol">→</a> <a id="22253" href="/PLFA-zh/More/#16073" class="InductiveConstructor">case×</a> <a id="22259" href="/PLFA-zh/More/#22164" class="Bound">L</a> <a id="22261" href="/PLFA-zh/More/#22184" class="Bound">M</a> <a id="22263" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="22266" href="/PLFA-zh/More/#16073" class="InductiveConstructor">case×</a> <a id="22272" href="/PLFA-zh/More/#22166" class="Bound">L′</a> <a id="22275" href="/PLFA-zh/More/#22184" class="Bound">M</a>

  <a id="_—→_.β-case×"></a><a id="22280" href="/PLFA-zh/More/#22280" class="InductiveConstructor">β-case×</a> <a id="22288" class="Symbol">:</a> <a id="22290" class="Symbol">∀</a> <a id="22292" class="Symbol">{</a><a id="22293" href="/PLFA-zh/More/#22293" class="Bound">Γ</a> <a id="22295" href="/PLFA-zh/More/#22295" class="Bound">A</a> <a id="22297" href="/PLFA-zh/More/#22297" class="Bound">B</a> <a id="22299" href="/PLFA-zh/More/#22299" class="Bound">C</a><a id="22300" class="Symbol">}</a> <a id="22302" class="Symbol">{</a><a id="22303" href="/PLFA-zh/More/#22303" class="Bound">V</a> <a id="22305" class="Symbol">:</a> <a id="22307" href="/PLFA-zh/More/#22293" class="Bound">Γ</a> <a id="22309" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="22311" href="/PLFA-zh/More/#22295" class="Bound">A</a><a id="22312" class="Symbol">}</a> <a id="22314" class="Symbol">{</a><a id="22315" href="/PLFA-zh/More/#22315" class="Bound">W</a> <a id="22317" class="Symbol">:</a> <a id="22319" href="/PLFA-zh/More/#22293" class="Bound">Γ</a> <a id="22321" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="22323" href="/PLFA-zh/More/#22297" class="Bound">B</a><a id="22324" class="Symbol">}</a> <a id="22326" class="Symbol">{</a><a id="22327" href="/PLFA-zh/More/#22327" class="Bound">M</a> <a id="22329" class="Symbol">:</a> <a id="22331" href="/PLFA-zh/More/#22293" class="Bound">Γ</a> <a id="22333" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="22335" href="/PLFA-zh/More/#22295" class="Bound">A</a> <a id="22337" href="/PLFA-zh/More/#14716" class="InductiveConstructor Operator">,</a> <a id="22339" href="/PLFA-zh/More/#22297" class="Bound">B</a> <a id="22341" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="22343" href="/PLFA-zh/More/#22299" class="Bound">C</a><a id="22344" class="Symbol">}</a>
    <a id="22350" class="Symbol">→</a> <a id="22352" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="22358" href="/PLFA-zh/More/#22303" class="Bound">V</a>
    <a id="22364" class="Symbol">→</a> <a id="22366" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="22372" href="/PLFA-zh/More/#22315" class="Bound">W</a>
      <a id="22380" class="Comment">----------------------------------</a>
    <a id="22419" class="Symbol">→</a> <a id="22421" href="/PLFA-zh/More/#16073" class="InductiveConstructor">case×</a> <a id="22427" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="22430" href="/PLFA-zh/More/#22303" class="Bound">V</a> <a id="22432" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="22434" href="/PLFA-zh/More/#22315" class="Bound">W</a> <a id="22436" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a> <a id="22438" href="/PLFA-zh/More/#22327" class="Bound">M</a> <a id="22440" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="22443" href="/PLFA-zh/More/#22327" class="Bound">M</a> <a id="22445" href="/PLFA-zh/More/#18756" class="Function Operator">[</a> <a id="22447" href="/PLFA-zh/More/#22303" class="Bound">V</a> <a id="22449" href="/PLFA-zh/More/#18756" class="Function Operator">][</a> <a id="22452" href="/PLFA-zh/More/#22315" class="Bound">W</a> <a id="22454" href="/PLFA-zh/More/#18756" class="Function Operator">]</a></pre>

<h2 id="reflexive-and-transitive-closure">Reflexive and transitive closure</h2>

<pre class="Agda"><a id="22519" class="Keyword">infix</a>  <a id="22526" class="Number">2</a> <a id="22528" href="/PLFA-zh/More/#22584" class="Datatype Operator">_—↠_</a>
<a id="22533" class="Keyword">infix</a>  <a id="22540" class="Number">1</a> <a id="22542" href="/PLFA-zh/More/#22787" class="Function Operator">begin_</a>
<a id="22549" class="Keyword">infixr</a> <a id="22556" class="Number">2</a> <a id="22558" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">_—→⟨_⟩_</a>
<a id="22566" class="Keyword">infix</a>  <a id="22573" class="Number">3</a> <a id="22575" href="/PLFA-zh/More/#22634" class="InductiveConstructor Operator">_∎</a>

<a id="22579" class="Keyword">data</a> <a id="_—↠_"></a><a id="22584" href="/PLFA-zh/More/#22584" class="Datatype Operator">_—↠_</a> <a id="22589" class="Symbol">:</a> <a id="22591" class="Symbol">∀</a> <a id="22593" class="Symbol">{</a><a id="22594" href="/PLFA-zh/More/#22594" class="Bound">Γ</a> <a id="22596" href="/PLFA-zh/More/#22596" class="Bound">A</a><a id="22597" class="Symbol">}</a> <a id="22599" class="Symbol">→</a> <a id="22601" class="Symbol">(</a><a id="22602" href="/PLFA-zh/More/#22594" class="Bound">Γ</a> <a id="22604" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="22606" href="/PLFA-zh/More/#22596" class="Bound">A</a><a id="22607" class="Symbol">)</a> <a id="22609" class="Symbol">→</a> <a id="22611" class="Symbol">(</a><a id="22612" href="/PLFA-zh/More/#22594" class="Bound">Γ</a> <a id="22614" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="22616" href="/PLFA-zh/More/#22596" class="Bound">A</a><a id="22617" class="Symbol">)</a> <a id="22619" class="Symbol">→</a> <a id="22621" class="PrimitiveType">Set</a> <a id="22625" class="Keyword">where</a>

  <a id="_—↠_._∎"></a><a id="22634" href="/PLFA-zh/More/#22634" class="InductiveConstructor Operator">_∎</a> <a id="22637" class="Symbol">:</a> <a id="22639" class="Symbol">∀</a> <a id="22641" class="Symbol">{</a><a id="22642" href="/PLFA-zh/More/#22642" class="Bound">Γ</a> <a id="22644" href="/PLFA-zh/More/#22644" class="Bound">A</a><a id="22645" class="Symbol">}</a> <a id="22647" class="Symbol">(</a><a id="22648" href="/PLFA-zh/More/#22648" class="Bound">M</a> <a id="22650" class="Symbol">:</a> <a id="22652" href="/PLFA-zh/More/#22642" class="Bound">Γ</a> <a id="22654" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="22656" href="/PLFA-zh/More/#22644" class="Bound">A</a><a id="22657" class="Symbol">)</a>
      <a id="22665" class="Comment">--------</a>
    <a id="22678" class="Symbol">→</a> <a id="22680" href="/PLFA-zh/More/#22648" class="Bound">M</a> <a id="22682" href="/PLFA-zh/More/#22584" class="Datatype Operator">—↠</a> <a id="22685" href="/PLFA-zh/More/#22648" class="Bound">M</a>

  <a id="_—↠_._—→⟨_⟩_"></a><a id="22690" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">_—→⟨_⟩_</a> <a id="22698" class="Symbol">:</a> <a id="22700" class="Symbol">∀</a> <a id="22702" class="Symbol">{</a><a id="22703" href="/PLFA-zh/More/#22703" class="Bound">Γ</a> <a id="22705" href="/PLFA-zh/More/#22705" class="Bound">A</a><a id="22706" class="Symbol">}</a> <a id="22708" class="Symbol">(</a><a id="22709" href="/PLFA-zh/More/#22709" class="Bound">L</a> <a id="22711" class="Symbol">:</a> <a id="22713" href="/PLFA-zh/More/#22703" class="Bound">Γ</a> <a id="22715" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="22717" href="/PLFA-zh/More/#22705" class="Bound">A</a><a id="22718" class="Symbol">)</a> <a id="22720" class="Symbol">{</a><a id="22721" href="/PLFA-zh/More/#22721" class="Bound">M</a> <a id="22723" href="/PLFA-zh/More/#22723" class="Bound">N</a> <a id="22725" class="Symbol">:</a> <a id="22727" href="/PLFA-zh/More/#22703" class="Bound">Γ</a> <a id="22729" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="22731" href="/PLFA-zh/More/#22705" class="Bound">A</a><a id="22732" class="Symbol">}</a>
    <a id="22738" class="Symbol">→</a> <a id="22740" href="/PLFA-zh/More/#22709" class="Bound">L</a> <a id="22742" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="22745" href="/PLFA-zh/More/#22721" class="Bound">M</a>
    <a id="22751" class="Symbol">→</a> <a id="22753" href="/PLFA-zh/More/#22721" class="Bound">M</a> <a id="22755" href="/PLFA-zh/More/#22584" class="Datatype Operator">—↠</a> <a id="22758" href="/PLFA-zh/More/#22723" class="Bound">N</a>
      <a id="22766" class="Comment">------</a>
    <a id="22777" class="Symbol">→</a> <a id="22779" href="/PLFA-zh/More/#22709" class="Bound">L</a> <a id="22781" href="/PLFA-zh/More/#22584" class="Datatype Operator">—↠</a> <a id="22784" href="/PLFA-zh/More/#22723" class="Bound">N</a>

<a id="begin_"></a><a id="22787" href="/PLFA-zh/More/#22787" class="Function Operator">begin_</a> <a id="22794" class="Symbol">:</a> <a id="22796" class="Symbol">∀</a> <a id="22798" class="Symbol">{</a><a id="22799" href="/PLFA-zh/More/#22799" class="Bound">Γ</a><a id="22800" class="Symbol">}</a> <a id="22802" class="Symbol">{</a><a id="22803" href="/PLFA-zh/More/#22803" class="Bound">A</a><a id="22804" class="Symbol">}</a> <a id="22806" class="Symbol">{</a><a id="22807" href="/PLFA-zh/More/#22807" class="Bound">M</a> <a id="22809" href="/PLFA-zh/More/#22809" class="Bound">N</a> <a id="22811" class="Symbol">:</a> <a id="22813" href="/PLFA-zh/More/#22799" class="Bound">Γ</a> <a id="22815" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="22817" href="/PLFA-zh/More/#22803" class="Bound">A</a><a id="22818" class="Symbol">}</a>
  <a id="22822" class="Symbol">→</a> <a id="22824" href="/PLFA-zh/More/#22807" class="Bound">M</a> <a id="22826" href="/PLFA-zh/More/#22584" class="Datatype Operator">—↠</a> <a id="22829" href="/PLFA-zh/More/#22809" class="Bound">N</a>
    <a id="22835" class="Comment">------</a>
  <a id="22844" class="Symbol">→</a> <a id="22846" href="/PLFA-zh/More/#22807" class="Bound">M</a> <a id="22848" href="/PLFA-zh/More/#22584" class="Datatype Operator">—↠</a> <a id="22851" href="/PLFA-zh/More/#22809" class="Bound">N</a>
<a id="22853" href="/PLFA-zh/More/#22787" class="Function Operator">begin</a> <a id="22859" href="/PLFA-zh/More/#22859" class="Bound">M—↠N</a> <a id="22864" class="Symbol">=</a> <a id="22866" href="/PLFA-zh/More/#22859" class="Bound">M—↠N</a></pre>

<h2 id="values-do-not-reduce">Values do not reduce</h2>

<pre class="Agda"><a id="V¬—→"></a><a id="22922" href="/PLFA-zh/More/#22922" class="Function">V¬—→</a> <a id="22927" class="Symbol">:</a> <a id="22929" class="Symbol">∀</a> <a id="22931" class="Symbol">{</a><a id="22932" href="/PLFA-zh/More/#22932" class="Bound">Γ</a> <a id="22934" href="/PLFA-zh/More/#22934" class="Bound">A</a><a id="22935" class="Symbol">}</a> <a id="22937" class="Symbol">{</a><a id="22938" href="/PLFA-zh/More/#22938" class="Bound">M</a> <a id="22940" href="/PLFA-zh/More/#22940" class="Bound">N</a> <a id="22942" class="Symbol">:</a> <a id="22944" href="/PLFA-zh/More/#22932" class="Bound">Γ</a> <a id="22946" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="22948" href="/PLFA-zh/More/#22934" class="Bound">A</a><a id="22949" class="Symbol">}</a>
  <a id="22953" class="Symbol">→</a> <a id="22955" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="22961" href="/PLFA-zh/More/#22938" class="Bound">M</a>
    <a id="22967" class="Comment">----------</a>
  <a id="22980" class="Symbol">→</a> <a id="22982" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#464" class="Function Operator">¬</a> <a id="22984" class="Symbol">(</a><a id="22985" href="/PLFA-zh/More/#22938" class="Bound">M</a> <a id="22987" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="22990" href="/PLFA-zh/More/#22940" class="Bound">N</a><a id="22991" class="Symbol">)</a>
<a id="22993" href="/PLFA-zh/More/#22922" class="Function">V¬—→</a> <a id="22998" href="/PLFA-zh/More/#19103" class="InductiveConstructor">V-ƛ</a>          <a id="23011" class="Symbol">()</a>
<a id="23014" href="/PLFA-zh/More/#22922" class="Function">V¬—→</a> <a id="23019" href="/PLFA-zh/More/#19205" class="InductiveConstructor">V-zero</a>       <a id="23032" class="Symbol">()</a>
<a id="23035" href="/PLFA-zh/More/#22922" class="Function">V¬—→</a> <a id="23040" class="Symbol">(</a><a id="23041" href="/PLFA-zh/More/#19273" class="InductiveConstructor Operator">V-suc</a> <a id="23047" href="/PLFA-zh/More/#23047" class="Bound">VM</a><a id="23049" class="Symbol">)</a>   <a id="23053" class="Symbol">(</a><a id="23054" href="/PLFA-zh/More/#20159" class="InductiveConstructor">ξ-suc</a> <a id="23060" href="/PLFA-zh/More/#23060" class="Bound">M—→M′</a><a id="23065" class="Symbol">)</a>     <a id="23071" class="Symbol">=</a>  <a id="23074" href="/PLFA-zh/More/#22922" class="Function">V¬—→</a> <a id="23079" href="/PLFA-zh/More/#23047" class="Bound">VM</a> <a id="23082" href="/PLFA-zh/More/#23060" class="Bound">M—→M′</a>
<a id="23088" href="/PLFA-zh/More/#22922" class="Function">V¬—→</a> <a id="23093" href="/PLFA-zh/More/#19377" class="InductiveConstructor">V-con</a>        <a id="23106" class="Symbol">()</a>
<a id="23109" href="/PLFA-zh/More/#22922" class="Function">V¬—→</a> <a id="23114" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">V-⟨</a> <a id="23118" href="/PLFA-zh/More/#23118" class="Bound">VM</a> <a id="23121" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">,</a> <a id="23123" class="Symbol">_</a> <a id="23125" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">⟩</a> <a id="23127" class="Symbol">(</a><a id="23128" href="/PLFA-zh/More/#21339" class="InductiveConstructor">ξ-⟨,⟩₁</a> <a id="23135" href="/PLFA-zh/More/#23135" class="Bound">M—→M′</a><a id="23140" class="Symbol">)</a>    <a id="23145" class="Symbol">=</a>  <a id="23148" href="/PLFA-zh/More/#22922" class="Function">V¬—→</a> <a id="23153" href="/PLFA-zh/More/#23118" class="Bound">VM</a> <a id="23156" href="/PLFA-zh/More/#23135" class="Bound">M—→M′</a>
<a id="23162" href="/PLFA-zh/More/#22922" class="Function">V¬—→</a> <a id="23167" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">V-⟨</a> <a id="23171" class="Symbol">_</a> <a id="23173" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">,</a> <a id="23175" href="/PLFA-zh/More/#23175" class="Bound">VN</a> <a id="23178" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">⟩</a> <a id="23180" class="Symbol">(</a><a id="23181" href="/PLFA-zh/More/#21466" class="InductiveConstructor">ξ-⟨,⟩₂</a> <a id="23188" class="Symbol">_</a> <a id="23190" href="/PLFA-zh/More/#23190" class="Bound">N—→N′</a><a id="23195" class="Symbol">)</a>  <a id="23198" class="Symbol">=</a>  <a id="23201" href="/PLFA-zh/More/#22922" class="Function">V¬—→</a> <a id="23206" href="/PLFA-zh/More/#23175" class="Bound">VN</a> <a id="23209" href="/PLFA-zh/More/#23190" class="Bound">N—→N′</a></pre>

<h2 id="progress">Progress</h2>

<pre class="Agda"><a id="23254" class="Keyword">data</a> <a id="Progress"></a><a id="23259" href="/PLFA-zh/More/#23259" class="Datatype">Progress</a> <a id="23268" class="Symbol">{</a><a id="23269" href="/PLFA-zh/More/#23269" class="Bound">A</a><a id="23270" class="Symbol">}</a> <a id="23272" class="Symbol">(</a><a id="23273" href="/PLFA-zh/More/#23273" class="Bound">M</a> <a id="23275" class="Symbol">:</a> <a id="23277" href="/PLFA-zh/More/#14700" class="InductiveConstructor">∅</a> <a id="23279" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="23281" href="/PLFA-zh/More/#23269" class="Bound">A</a><a id="23282" class="Symbol">)</a> <a id="23284" class="Symbol">:</a> <a id="23286" class="PrimitiveType">Set</a> <a id="23290" class="Keyword">where</a>

  <a id="Progress.step"></a><a id="23299" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="23304" class="Symbol">:</a> <a id="23306" class="Symbol">∀</a> <a id="23308" class="Symbol">{</a><a id="23309" href="/PLFA-zh/More/#23309" class="Bound">N</a> <a id="23311" class="Symbol">:</a> <a id="23313" href="/PLFA-zh/More/#14700" class="InductiveConstructor">∅</a> <a id="23315" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="23317" href="/PLFA-zh/More/#23269" class="Bound">A</a><a id="23318" class="Symbol">}</a>
    <a id="23324" class="Symbol">→</a> <a id="23326" href="/PLFA-zh/More/#23273" class="Bound">M</a> <a id="23328" href="/PLFA-zh/More/#19731" class="Datatype Operator">—→</a> <a id="23331" href="/PLFA-zh/More/#23309" class="Bound">N</a>
      <a id="23339" class="Comment">----------</a>
    <a id="23354" class="Symbol">→</a> <a id="23356" href="/PLFA-zh/More/#23259" class="Datatype">Progress</a> <a id="23365" href="/PLFA-zh/More/#23273" class="Bound">M</a>

  <a id="Progress.done"></a><a id="23370" href="/PLFA-zh/More/#23370" class="InductiveConstructor">done</a> <a id="23375" class="Symbol">:</a>
      <a id="23383" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="23389" href="/PLFA-zh/More/#23273" class="Bound">M</a>
      <a id="23397" class="Comment">----------</a>
    <a id="23412" class="Symbol">→</a> <a id="23414" href="/PLFA-zh/More/#23259" class="Datatype">Progress</a> <a id="23423" href="/PLFA-zh/More/#23273" class="Bound">M</a>

<a id="progress"></a><a id="23426" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="23435" class="Symbol">:</a> <a id="23437" class="Symbol">∀</a> <a id="23439" class="Symbol">{</a><a id="23440" href="/PLFA-zh/More/#23440" class="Bound">A</a><a id="23441" class="Symbol">}</a>
  <a id="23445" class="Symbol">→</a> <a id="23447" class="Symbol">(</a><a id="23448" href="/PLFA-zh/More/#23448" class="Bound">M</a> <a id="23450" class="Symbol">:</a> <a id="23452" href="/PLFA-zh/More/#14700" class="InductiveConstructor">∅</a> <a id="23454" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="23456" href="/PLFA-zh/More/#23440" class="Bound">A</a><a id="23457" class="Symbol">)</a>
    <a id="23463" class="Comment">-----------</a>
  <a id="23477" class="Symbol">→</a> <a id="23479" href="/PLFA-zh/More/#23259" class="Datatype">Progress</a> <a id="23488" href="/PLFA-zh/More/#23448" class="Bound">M</a>
<a id="23490" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="23499" class="Symbol">(</a><a id="23500" href="/PLFA-zh/More/#15078" class="InductiveConstructor Operator">`</a> <a id="23502" class="Symbol">())</a>
<a id="23506" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="23515" class="Symbol">(</a><a id="23516" href="/PLFA-zh/More/#15146" class="InductiveConstructor Operator">ƛ</a> <a id="23518" href="/PLFA-zh/More/#23518" class="Bound">N</a><a id="23519" class="Symbol">)</a>                              <a id="23550" class="Symbol">=</a>  <a id="23553" href="/PLFA-zh/More/#23370" class="InductiveConstructor">done</a> <a id="23558" href="/PLFA-zh/More/#19103" class="InductiveConstructor">V-ƛ</a>
<a id="23562" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="23571" class="Symbol">(</a><a id="23572" href="/PLFA-zh/More/#23572" class="Bound">L</a> <a id="23574" href="/PLFA-zh/More/#15214" class="InductiveConstructor Operator">·</a> <a id="23576" href="/PLFA-zh/More/#23576" class="Bound">M</a><a id="23577" class="Symbol">)</a> <a id="23579" class="Keyword">with</a> <a id="23584" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="23593" href="/PLFA-zh/More/#23572" class="Bound">L</a>
<a id="23595" class="Symbol">...</a>    <a id="23602" class="Symbol">|</a> <a id="23604" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="23609" href="/PLFA-zh/More/#23609" class="Bound">L—→L′</a>                         <a id="23639" class="Symbol">=</a>  <a id="23642" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="23647" class="Symbol">(</a><a id="23648" href="/PLFA-zh/More/#19797" class="InductiveConstructor">ξ-·₁</a> <a id="23653" href="/PLFA-zh/More/#23609" class="Bound">L—→L′</a><a id="23658" class="Symbol">)</a>
<a id="23660" class="Symbol">...</a>    <a id="23667" class="Symbol">|</a> <a id="23669" href="/PLFA-zh/More/#23370" class="InductiveConstructor">done</a> <a id="23674" href="/PLFA-zh/More/#19103" class="InductiveConstructor">V-ƛ</a> <a id="23678" class="Keyword">with</a> <a id="23683" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="23692" class="Bound">M</a>
<a id="23694" class="Symbol">...</a>        <a id="23705" class="Symbol">|</a> <a id="23707" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="23712" href="/PLFA-zh/More/#23712" class="Bound">M—→M′</a>                     <a id="23738" class="Symbol">=</a>  <a id="23741" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="23746" class="Symbol">(</a><a id="23747" href="/PLFA-zh/More/#19906" class="InductiveConstructor">ξ-·₂</a> <a id="23752" href="/PLFA-zh/More/#19103" class="InductiveConstructor">V-ƛ</a> <a id="23756" href="/PLFA-zh/More/#23712" class="Bound">M—→M′</a><a id="23761" class="Symbol">)</a>
<a id="23763" class="Symbol">...</a>        <a id="23774" class="Symbol">|</a> <a id="23776" href="/PLFA-zh/More/#23370" class="InductiveConstructor">done</a> <a id="23781" href="/PLFA-zh/More/#23781" class="Bound">VM</a>                        <a id="23807" class="Symbol">=</a>  <a id="23810" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="23815" class="Symbol">(</a><a id="23816" href="/PLFA-zh/More/#20029" class="InductiveConstructor">β-ƛ</a> <a id="23820" href="/PLFA-zh/More/#23781" class="Bound">VM</a><a id="23822" class="Symbol">)</a>
<a id="23824" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="23833" class="Symbol">(</a><a id="23834" href="/PLFA-zh/More/#15304" class="InductiveConstructor">`zero</a><a id="23839" class="Symbol">)</a>                            <a id="23868" class="Symbol">=</a>  <a id="23871" href="/PLFA-zh/More/#23370" class="InductiveConstructor">done</a> <a id="23876" href="/PLFA-zh/More/#19205" class="InductiveConstructor">V-zero</a>
<a id="23883" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="23892" class="Symbol">(</a><a id="23893" href="/PLFA-zh/More/#15347" class="InductiveConstructor Operator">`suc</a> <a id="23898" href="/PLFA-zh/More/#23898" class="Bound">M</a><a id="23899" class="Symbol">)</a> <a id="23901" class="Keyword">with</a> <a id="23906" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="23915" href="/PLFA-zh/More/#23898" class="Bound">M</a>
<a id="23917" class="Symbol">...</a>    <a id="23924" class="Symbol">|</a> <a id="23926" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="23931" href="/PLFA-zh/More/#23931" class="Bound">M—→M′</a>                         <a id="23961" class="Symbol">=</a>  <a id="23964" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="23969" class="Symbol">(</a><a id="23970" href="/PLFA-zh/More/#20159" class="InductiveConstructor">ξ-suc</a> <a id="23976" href="/PLFA-zh/More/#23931" class="Bound">M—→M′</a><a id="23981" class="Symbol">)</a>
<a id="23983" class="Symbol">...</a>    <a id="23990" class="Symbol">|</a> <a id="23992" href="/PLFA-zh/More/#23370" class="InductiveConstructor">done</a> <a id="23997" href="/PLFA-zh/More/#23997" class="Bound">VM</a>                            <a id="24027" class="Symbol">=</a>  <a id="24030" href="/PLFA-zh/More/#23370" class="InductiveConstructor">done</a> <a id="24035" class="Symbol">(</a><a id="24036" href="/PLFA-zh/More/#19273" class="InductiveConstructor Operator">V-suc</a> <a id="24042" href="/PLFA-zh/More/#23997" class="Bound">VM</a><a id="24044" class="Symbol">)</a>
<a id="24046" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="24055" class="Symbol">(</a><a id="24056" href="/PLFA-zh/More/#15403" class="InductiveConstructor">case</a> <a id="24061" href="/PLFA-zh/More/#24061" class="Bound">L</a> <a id="24063" href="/PLFA-zh/More/#24063" class="Bound">M</a> <a id="24065" href="/PLFA-zh/More/#24065" class="Bound">N</a><a id="24066" class="Symbol">)</a> <a id="24068" class="Keyword">with</a> <a id="24073" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="24082" href="/PLFA-zh/More/#24061" class="Bound">L</a>
<a id="24084" class="Symbol">...</a>    <a id="24091" class="Symbol">|</a> <a id="24093" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="24098" href="/PLFA-zh/More/#24098" class="Bound">L—→L′</a>                         <a id="24128" class="Symbol">=</a>  <a id="24131" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="24136" class="Symbol">(</a><a id="24137" href="/PLFA-zh/More/#20254" class="InductiveConstructor">ξ-case</a> <a id="24144" href="/PLFA-zh/More/#24098" class="Bound">L—→L′</a><a id="24149" class="Symbol">)</a>
<a id="24151" class="Symbol">...</a>    <a id="24158" class="Symbol">|</a> <a id="24160" href="/PLFA-zh/More/#23370" class="InductiveConstructor">done</a> <a id="24165" href="/PLFA-zh/More/#19205" class="InductiveConstructor">V-zero</a>                        <a id="24195" class="Symbol">=</a>  <a id="24198" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="24203" href="/PLFA-zh/More/#20397" class="InductiveConstructor">β-zero</a>
<a id="24210" class="Symbol">...</a>    <a id="24217" class="Symbol">|</a> <a id="24219" href="/PLFA-zh/More/#23370" class="InductiveConstructor">done</a> <a id="24224" class="Symbol">(</a><a id="24225" href="/PLFA-zh/More/#19273" class="InductiveConstructor Operator">V-suc</a> <a id="24231" href="/PLFA-zh/More/#24231" class="Bound">VL</a><a id="24233" class="Symbol">)</a>                    <a id="24254" class="Symbol">=</a>  <a id="24257" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="24262" class="Symbol">(</a><a id="24263" href="/PLFA-zh/More/#20499" class="InductiveConstructor">β-suc</a> <a id="24269" href="/PLFA-zh/More/#24231" class="Bound">VL</a><a id="24271" class="Symbol">)</a>
<a id="24273" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="24282" class="Symbol">(</a><a id="24283" href="/PLFA-zh/More/#15502" class="InductiveConstructor Operator">μ</a> <a id="24285" href="/PLFA-zh/More/#24285" class="Bound">N</a><a id="24286" class="Symbol">)</a>                              <a id="24317" class="Symbol">=</a>  <a id="24320" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="24325" href="/PLFA-zh/More/#20659" class="InductiveConstructor">β-μ</a>
<a id="24329" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="24338" class="Symbol">(</a><a id="24339" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="24343" href="/PLFA-zh/More/#24343" class="Bound">n</a><a id="24344" class="Symbol">)</a>                            <a id="24373" class="Symbol">=</a>  <a id="24376" href="/PLFA-zh/More/#23370" class="InductiveConstructor">done</a> <a id="24381" href="/PLFA-zh/More/#19377" class="InductiveConstructor">V-con</a>
<a id="24387" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="24396" class="Symbol">(</a><a id="24397" href="/PLFA-zh/More/#24397" class="Bound">L</a> <a id="24399" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="24402" href="/PLFA-zh/More/#24402" class="Bound">M</a><a id="24403" class="Symbol">)</a> <a id="24405" class="Keyword">with</a> <a id="24410" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="24419" href="/PLFA-zh/More/#24397" class="Bound">L</a>
<a id="24421" class="Symbol">...</a>    <a id="24428" class="Symbol">|</a> <a id="24430" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="24435" href="/PLFA-zh/More/#24435" class="Bound">L—→L′</a>                         <a id="24465" class="Symbol">=</a>  <a id="24468" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="24473" class="Symbol">(</a><a id="24474" href="/PLFA-zh/More/#20762" class="InductiveConstructor">ξ-*₁</a> <a id="24479" href="/PLFA-zh/More/#24435" class="Bound">L—→L′</a><a id="24484" class="Symbol">)</a>
<a id="24486" class="Symbol">...</a>    <a id="24493" class="Symbol">|</a> <a id="24495" href="/PLFA-zh/More/#23370" class="InductiveConstructor">done</a> <a id="24500" href="/PLFA-zh/More/#19377" class="InductiveConstructor">V-con</a> <a id="24506" class="Keyword">with</a> <a id="24511" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="24520" class="Bound">M</a>
<a id="24522" class="Symbol">...</a>        <a id="24533" class="Symbol">|</a> <a id="24535" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="24540" href="/PLFA-zh/More/#24540" class="Bound">M—→M′</a>                     <a id="24566" class="Symbol">=</a>  <a id="24569" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="24574" class="Symbol">(</a><a id="24575" href="/PLFA-zh/More/#20859" class="InductiveConstructor">ξ-*₂</a> <a id="24580" href="/PLFA-zh/More/#19377" class="InductiveConstructor">V-con</a> <a id="24586" href="/PLFA-zh/More/#24540" class="Bound">M—→M′</a><a id="24591" class="Symbol">)</a>
<a id="24593" class="Symbol">...</a>        <a id="24604" class="Symbol">|</a> <a id="24606" href="/PLFA-zh/More/#23370" class="InductiveConstructor">done</a> <a id="24611" href="/PLFA-zh/More/#19377" class="InductiveConstructor">V-con</a>                     <a id="24637" class="Symbol">=</a>  <a id="24640" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="24645" href="/PLFA-zh/More/#20970" class="InductiveConstructor">δ-*</a>
<a id="24649" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="24658" class="Symbol">(</a><a id="24659" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="24664" href="/PLFA-zh/More/#24664" class="Bound">M</a> <a id="24666" href="/PLFA-zh/More/#24666" class="Bound">N</a><a id="24667" class="Symbol">)</a> <a id="24669" class="Keyword">with</a> <a id="24674" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="24683" href="/PLFA-zh/More/#24664" class="Bound">M</a>
<a id="24685" class="Symbol">...</a>    <a id="24692" class="Symbol">|</a> <a id="24694" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="24699" href="/PLFA-zh/More/#24699" class="Bound">M—→M′</a>                         <a id="24729" class="Symbol">=</a>  <a id="24732" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="24737" class="Symbol">(</a><a id="24738" href="/PLFA-zh/More/#21087" class="InductiveConstructor">ξ-let</a> <a id="24744" href="/PLFA-zh/More/#24699" class="Bound">M—→M′</a><a id="24749" class="Symbol">)</a>
<a id="24751" class="Symbol">...</a>    <a id="24758" class="Symbol">|</a> <a id="24760" href="/PLFA-zh/More/#23370" class="InductiveConstructor">done</a> <a id="24765" href="/PLFA-zh/More/#24765" class="Bound">VM</a>                            <a id="24795" class="Symbol">=</a>  <a id="24798" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="24803" class="Symbol">(</a><a id="24804" href="/PLFA-zh/More/#21209" class="InductiveConstructor">β-let</a> <a id="24810" href="/PLFA-zh/More/#24765" class="Bound">VM</a><a id="24812" class="Symbol">)</a>
<a id="24814" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="24823" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="24826" href="/PLFA-zh/More/#24826" class="Bound">M</a> <a id="24828" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="24830" href="/PLFA-zh/More/#24830" class="Bound">N</a> <a id="24832" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a> <a id="24834" class="Keyword">with</a> <a id="24839" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="24848" href="/PLFA-zh/More/#24826" class="Bound">M</a>
<a id="24850" class="Symbol">...</a>    <a id="24857" class="Symbol">|</a> <a id="24859" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="24864" href="/PLFA-zh/More/#24864" class="Bound">M—→M′</a>                         <a id="24894" class="Symbol">=</a>  <a id="24897" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="24902" class="Symbol">(</a><a id="24903" href="/PLFA-zh/More/#21339" class="InductiveConstructor">ξ-⟨,⟩₁</a> <a id="24910" href="/PLFA-zh/More/#24864" class="Bound">M—→M′</a><a id="24915" class="Symbol">)</a>
<a id="24917" class="Symbol">...</a>    <a id="24924" class="Symbol">|</a> <a id="24926" href="/PLFA-zh/More/#23370" class="InductiveConstructor">done</a> <a id="24931" href="/PLFA-zh/More/#24931" class="Bound">VM</a> <a id="24934" class="Keyword">with</a> <a id="24939" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="24948" class="Bound">N</a>
<a id="24950" class="Symbol">...</a>        <a id="24961" class="Symbol">|</a> <a id="24963" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="24968" href="/PLFA-zh/More/#24968" class="Bound">N—→N′</a>                     <a id="24994" class="Symbol">=</a>  <a id="24997" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="25002" class="Symbol">(</a><a id="25003" href="/PLFA-zh/More/#21466" class="InductiveConstructor">ξ-⟨,⟩₂</a> <a id="25010" class="Bound">VM</a> <a id="25013" href="/PLFA-zh/More/#24968" class="Bound">N—→N′</a><a id="25018" class="Symbol">)</a>
<a id="25020" class="Symbol">...</a>        <a id="25031" class="Symbol">|</a> <a id="25033" href="/PLFA-zh/More/#23370" class="InductiveConstructor">done</a> <a id="25038" href="/PLFA-zh/More/#25038" class="Bound">VN</a>                        <a id="25064" class="Symbol">=</a>  <a id="25067" href="/PLFA-zh/More/#23370" class="InductiveConstructor">done</a> <a id="25072" class="Symbol">(</a><a id="25073" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">V-⟨</a> <a id="25077" class="Bound">VM</a> <a id="25080" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">,</a> <a id="25082" href="/PLFA-zh/More/#25038" class="Bound">VN</a> <a id="25085" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">⟩</a><a id="25086" class="Symbol">)</a>
<a id="25088" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="25097" class="Symbol">(</a><a id="25098" href="/PLFA-zh/More/#15893" class="InductiveConstructor">`proj₁</a> <a id="25105" href="/PLFA-zh/More/#25105" class="Bound">L</a><a id="25106" class="Symbol">)</a> <a id="25108" class="Keyword">with</a> <a id="25113" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="25122" href="/PLFA-zh/More/#25105" class="Bound">L</a>
<a id="25124" class="Symbol">...</a>    <a id="25131" class="Symbol">|</a> <a id="25133" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="25138" href="/PLFA-zh/More/#25138" class="Bound">L—→L′</a>                         <a id="25168" class="Symbol">=</a>  <a id="25171" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="25176" class="Symbol">(</a><a id="25177" href="/PLFA-zh/More/#21607" class="InductiveConstructor">ξ-proj₁</a> <a id="25185" href="/PLFA-zh/More/#25138" class="Bound">L—→L′</a><a id="25190" class="Symbol">)</a>
<a id="25192" class="Symbol">...</a>    <a id="25199" class="Symbol">|</a> <a id="25201" href="/PLFA-zh/More/#23370" class="InductiveConstructor">done</a> <a id="25206" class="Symbol">(</a><a id="25207" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">V-⟨</a> <a id="25211" href="/PLFA-zh/More/#25211" class="Bound">VM</a> <a id="25214" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">,</a> <a id="25216" href="/PLFA-zh/More/#25216" class="Bound">VN</a> <a id="25219" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">⟩</a><a id="25220" class="Symbol">)</a>               <a id="25236" class="Symbol">=</a>  <a id="25239" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="25244" class="Symbol">(</a><a id="25245" href="/PLFA-zh/More/#21833" class="InductiveConstructor">β-proj₁</a> <a id="25253" href="/PLFA-zh/More/#25211" class="Bound">VM</a> <a id="25256" href="/PLFA-zh/More/#25216" class="Bound">VN</a><a id="25258" class="Symbol">)</a>
<a id="25260" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="25269" class="Symbol">(</a><a id="25270" href="/PLFA-zh/More/#15962" class="InductiveConstructor">`proj₂</a> <a id="25277" href="/PLFA-zh/More/#25277" class="Bound">L</a><a id="25278" class="Symbol">)</a> <a id="25280" class="Keyword">with</a> <a id="25285" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="25294" href="/PLFA-zh/More/#25277" class="Bound">L</a>
<a id="25296" class="Symbol">...</a>    <a id="25303" class="Symbol">|</a> <a id="25305" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="25310" href="/PLFA-zh/More/#25310" class="Bound">L—→L′</a>                         <a id="25340" class="Symbol">=</a>  <a id="25343" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="25348" class="Symbol">(</a><a id="25349" href="/PLFA-zh/More/#21720" class="InductiveConstructor">ξ-proj₂</a> <a id="25357" href="/PLFA-zh/More/#25310" class="Bound">L—→L′</a><a id="25362" class="Symbol">)</a>
<a id="25364" class="Symbol">...</a>    <a id="25371" class="Symbol">|</a> <a id="25373" href="/PLFA-zh/More/#23370" class="InductiveConstructor">done</a> <a id="25378" class="Symbol">(</a><a id="25379" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">V-⟨</a> <a id="25383" href="/PLFA-zh/More/#25383" class="Bound">VM</a> <a id="25386" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">,</a> <a id="25388" href="/PLFA-zh/More/#25388" class="Bound">VN</a> <a id="25391" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">⟩</a><a id="25392" class="Symbol">)</a>               <a id="25408" class="Symbol">=</a>  <a id="25411" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="25416" class="Symbol">(</a><a id="25417" href="/PLFA-zh/More/#21966" class="InductiveConstructor">β-proj₂</a> <a id="25425" href="/PLFA-zh/More/#25383" class="Bound">VM</a> <a id="25428" href="/PLFA-zh/More/#25388" class="Bound">VN</a><a id="25430" class="Symbol">)</a>
<a id="25432" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="25441" class="Symbol">(</a><a id="25442" href="/PLFA-zh/More/#16073" class="InductiveConstructor">case×</a> <a id="25448" href="/PLFA-zh/More/#25448" class="Bound">L</a> <a id="25450" href="/PLFA-zh/More/#25450" class="Bound">M</a><a id="25451" class="Symbol">)</a> <a id="25453" class="Keyword">with</a> <a id="25458" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="25467" href="/PLFA-zh/More/#25448" class="Bound">L</a>
<a id="25469" class="Symbol">...</a>    <a id="25476" class="Symbol">|</a> <a id="25478" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="25483" href="/PLFA-zh/More/#25483" class="Bound">L—→L′</a>                         <a id="25513" class="Symbol">=</a>  <a id="25516" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="25521" class="Symbol">(</a><a id="25522" href="/PLFA-zh/More/#22141" class="InductiveConstructor">ξ-case×</a> <a id="25530" href="/PLFA-zh/More/#25483" class="Bound">L—→L′</a><a id="25535" class="Symbol">)</a>
<a id="25537" class="Symbol">...</a>    <a id="25544" class="Symbol">|</a> <a id="25546" href="/PLFA-zh/More/#23370" class="InductiveConstructor">done</a> <a id="25551" class="Symbol">(</a><a id="25552" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">V-⟨</a> <a id="25556" href="/PLFA-zh/More/#25556" class="Bound">VM</a> <a id="25559" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">,</a> <a id="25561" href="/PLFA-zh/More/#25561" class="Bound">VN</a> <a id="25564" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">⟩</a><a id="25565" class="Symbol">)</a>               <a id="25581" class="Symbol">=</a>  <a id="25584" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="25589" class="Symbol">(</a><a id="25590" href="/PLFA-zh/More/#22280" class="InductiveConstructor">β-case×</a> <a id="25598" href="/PLFA-zh/More/#25556" class="Bound">VM</a> <a id="25601" href="/PLFA-zh/More/#25561" class="Bound">VN</a><a id="25603" class="Symbol">)</a></pre>

<h2 id="evaluation">Evaluation</h2>

<pre class="Agda"><a id="25646" class="Keyword">data</a> <a id="Gas"></a><a id="25651" href="/PLFA-zh/More/#25651" class="Datatype">Gas</a> <a id="25655" class="Symbol">:</a> <a id="25657" class="PrimitiveType">Set</a> <a id="25661" class="Keyword">where</a>
  <a id="Gas.gas"></a><a id="25669" href="/PLFA-zh/More/#25669" class="InductiveConstructor">gas</a> <a id="25673" class="Symbol">:</a> <a id="25675" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="25677" class="Symbol">→</a> <a id="25679" href="/PLFA-zh/More/#25651" class="Datatype">Gas</a>

<a id="25684" class="Keyword">data</a> <a id="Finished"></a><a id="25689" href="/PLFA-zh/More/#25689" class="Datatype">Finished</a> <a id="25698" class="Symbol">{</a><a id="25699" href="/PLFA-zh/More/#25699" class="Bound">Γ</a> <a id="25701" href="/PLFA-zh/More/#25701" class="Bound">A</a><a id="25702" class="Symbol">}</a> <a id="25704" class="Symbol">(</a><a id="25705" href="/PLFA-zh/More/#25705" class="Bound">N</a> <a id="25707" class="Symbol">:</a> <a id="25709" href="/PLFA-zh/More/#25699" class="Bound">Γ</a> <a id="25711" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="25713" href="/PLFA-zh/More/#25701" class="Bound">A</a><a id="25714" class="Symbol">)</a> <a id="25716" class="Symbol">:</a> <a id="25718" class="PrimitiveType">Set</a> <a id="25722" class="Keyword">where</a>

   <a id="Finished.done"></a><a id="25732" href="/PLFA-zh/More/#25732" class="InductiveConstructor">done</a> <a id="25737" class="Symbol">:</a>
       <a id="25746" href="/PLFA-zh/More/#19048" class="Datatype">Value</a> <a id="25752" href="/PLFA-zh/More/#25705" class="Bound">N</a>
       <a id="25761" class="Comment">----------</a>
     <a id="25777" class="Symbol">→</a> <a id="25779" href="/PLFA-zh/More/#25689" class="Datatype">Finished</a> <a id="25788" href="/PLFA-zh/More/#25705" class="Bound">N</a>

   <a id="Finished.out-of-gas"></a><a id="25794" href="/PLFA-zh/More/#25794" class="InductiveConstructor">out-of-gas</a> <a id="25805" class="Symbol">:</a>
       <a id="25814" class="Comment">----------</a>
       <a id="25832" href="/PLFA-zh/More/#25689" class="Datatype">Finished</a> <a id="25841" href="/PLFA-zh/More/#25705" class="Bound">N</a>

<a id="25844" class="Keyword">data</a> <a id="Steps"></a><a id="25849" href="/PLFA-zh/More/#25849" class="Datatype">Steps</a> <a id="25855" class="Symbol">:</a> <a id="25857" class="Symbol">∀</a> <a id="25859" class="Symbol">{</a><a id="25860" href="/PLFA-zh/More/#25860" class="Bound">A</a><a id="25861" class="Symbol">}</a> <a id="25863" class="Symbol">→</a> <a id="25865" href="/PLFA-zh/More/#14700" class="InductiveConstructor">∅</a> <a id="25867" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="25869" href="/PLFA-zh/More/#25860" class="Bound">A</a> <a id="25871" class="Symbol">→</a> <a id="25873" class="PrimitiveType">Set</a> <a id="25877" class="Keyword">where</a>

  <a id="Steps.steps"></a><a id="25886" href="/PLFA-zh/More/#25886" class="InductiveConstructor">steps</a> <a id="25892" class="Symbol">:</a> <a id="25894" class="Symbol">∀</a> <a id="25896" class="Symbol">{</a><a id="25897" href="/PLFA-zh/More/#25897" class="Bound">A</a><a id="25898" class="Symbol">}</a> <a id="25900" class="Symbol">{</a><a id="25901" href="/PLFA-zh/More/#25901" class="Bound">L</a> <a id="25903" href="/PLFA-zh/More/#25903" class="Bound">N</a> <a id="25905" class="Symbol">:</a> <a id="25907" href="/PLFA-zh/More/#14700" class="InductiveConstructor">∅</a> <a id="25909" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="25911" href="/PLFA-zh/More/#25897" class="Bound">A</a><a id="25912" class="Symbol">}</a>
    <a id="25918" class="Symbol">→</a> <a id="25920" href="/PLFA-zh/More/#25901" class="Bound">L</a> <a id="25922" href="/PLFA-zh/More/#22584" class="Datatype Operator">—↠</a> <a id="25925" href="/PLFA-zh/More/#25903" class="Bound">N</a>
    <a id="25931" class="Symbol">→</a> <a id="25933" href="/PLFA-zh/More/#25689" class="Datatype">Finished</a> <a id="25942" href="/PLFA-zh/More/#25903" class="Bound">N</a>
      <a id="25950" class="Comment">----------</a>
    <a id="25965" class="Symbol">→</a> <a id="25967" href="/PLFA-zh/More/#25849" class="Datatype">Steps</a> <a id="25973" href="/PLFA-zh/More/#25901" class="Bound">L</a>

<a id="eval"></a><a id="25976" href="/PLFA-zh/More/#25976" class="Function">eval</a> <a id="25981" class="Symbol">:</a> <a id="25983" class="Symbol">∀</a> <a id="25985" class="Symbol">{</a><a id="25986" href="/PLFA-zh/More/#25986" class="Bound">A</a><a id="25987" class="Symbol">}</a>
  <a id="25991" class="Symbol">→</a> <a id="25993" href="/PLFA-zh/More/#25651" class="Datatype">Gas</a>
  <a id="25999" class="Symbol">→</a> <a id="26001" class="Symbol">(</a><a id="26002" href="/PLFA-zh/More/#26002" class="Bound">L</a> <a id="26004" class="Symbol">:</a> <a id="26006" href="/PLFA-zh/More/#14700" class="InductiveConstructor">∅</a> <a id="26008" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="26010" href="/PLFA-zh/More/#25986" class="Bound">A</a><a id="26011" class="Symbol">)</a>
    <a id="26017" class="Comment">-----------</a>
  <a id="26031" class="Symbol">→</a> <a id="26033" href="/PLFA-zh/More/#25849" class="Datatype">Steps</a> <a id="26039" href="/PLFA-zh/More/#26002" class="Bound">L</a>
<a id="26041" href="/PLFA-zh/More/#25976" class="Function">eval</a> <a id="26046" class="Symbol">(</a><a id="26047" href="/PLFA-zh/More/#25669" class="InductiveConstructor">gas</a> <a id="26051" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a><a id="26055" class="Symbol">)</a>    <a id="26060" href="/PLFA-zh/More/#26060" class="Bound">L</a>                     <a id="26082" class="Symbol">=</a>  <a id="26085" href="/PLFA-zh/More/#25886" class="InductiveConstructor">steps</a> <a id="26091" class="Symbol">(</a><a id="26092" href="/PLFA-zh/More/#26060" class="Bound">L</a> <a id="26094" href="/PLFA-zh/More/#22634" class="InductiveConstructor Operator">∎</a><a id="26095" class="Symbol">)</a> <a id="26097" href="/PLFA-zh/More/#25794" class="InductiveConstructor">out-of-gas</a>
<a id="26108" href="/PLFA-zh/More/#25976" class="Function">eval</a> <a id="26113" class="Symbol">(</a><a id="26114" href="/PLFA-zh/More/#25669" class="InductiveConstructor">gas</a> <a id="26118" class="Symbol">(</a><a id="26119" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="26123" href="/PLFA-zh/More/#26123" class="Bound">m</a><a id="26124" class="Symbol">))</a> <a id="26127" href="/PLFA-zh/More/#26127" class="Bound">L</a> <a id="26129" class="Keyword">with</a> <a id="26134" href="/PLFA-zh/More/#23426" class="Function">progress</a> <a id="26143" href="/PLFA-zh/More/#26127" class="Bound">L</a>
<a id="26145" class="Symbol">...</a> <a id="26149" class="Symbol">|</a> <a id="26151" href="/PLFA-zh/More/#23370" class="InductiveConstructor">done</a> <a id="26156" href="/PLFA-zh/More/#26156" class="Bound">VL</a>                            <a id="26186" class="Symbol">=</a>  <a id="26189" href="/PLFA-zh/More/#25886" class="InductiveConstructor">steps</a> <a id="26195" class="Symbol">(</a><a id="26196" class="Bound">L</a> <a id="26198" href="/PLFA-zh/More/#22634" class="InductiveConstructor Operator">∎</a><a id="26199" class="Symbol">)</a> <a id="26201" class="Symbol">(</a><a id="26202" href="/PLFA-zh/More/#25732" class="InductiveConstructor">done</a> <a id="26207" href="/PLFA-zh/More/#26156" class="Bound">VL</a><a id="26209" class="Symbol">)</a>
<a id="26211" class="Symbol">...</a> <a id="26215" class="Symbol">|</a> <a id="26217" href="/PLFA-zh/More/#23299" class="InductiveConstructor">step</a> <a id="26222" class="Symbol">{</a><a id="26223" href="/PLFA-zh/More/#26223" class="Bound">M</a><a id="26224" class="Symbol">}</a> <a id="26226" href="/PLFA-zh/More/#26226" class="Bound">L—→M</a> <a id="26231" class="Keyword">with</a> <a id="26236" href="/PLFA-zh/More/#25976" class="Function">eval</a> <a id="26241" class="Symbol">(</a><a id="26242" href="/PLFA-zh/More/#25669" class="InductiveConstructor">gas</a> <a id="26246" class="Bound">m</a><a id="26247" class="Symbol">)</a> <a id="26249" href="/PLFA-zh/More/#26223" class="Bound">M</a>
<a id="26251" class="Symbol">...</a>    <a id="26258" class="Symbol">|</a> <a id="26260" href="/PLFA-zh/More/#25886" class="InductiveConstructor">steps</a> <a id="26266" href="/PLFA-zh/More/#26266" class="Bound">M—↠N</a> <a id="26271" href="/PLFA-zh/More/#26271" class="Bound">fin</a>                  <a id="26292" class="Symbol">=</a>  <a id="26295" href="/PLFA-zh/More/#25886" class="InductiveConstructor">steps</a> <a id="26301" class="Symbol">(</a><a id="26302" class="Bound">L</a> <a id="26304" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">—→⟨</a> <a id="26308" class="Bound">L—→M</a> <a id="26313" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">⟩</a> <a id="26315" href="/PLFA-zh/More/#26266" class="Bound">M—↠N</a><a id="26319" class="Symbol">)</a> <a id="26321" href="/PLFA-zh/More/#26271" class="Bound">fin</a></pre>

<h2 id="examples">Examples</h2>

<pre class="Agda"><a id="cube"></a><a id="26364" href="/PLFA-zh/More/#26364" class="Function">cube</a> <a id="26369" class="Symbol">:</a> <a id="26371" href="/PLFA-zh/More/#14700" class="InductiveConstructor">∅</a> <a id="26373" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="26375" href="/PLFA-zh/More/#14592" class="InductiveConstructor">Nat</a> <a id="26379" href="/PLFA-zh/More/#14563" class="InductiveConstructor Operator">⇒</a> <a id="26381" href="/PLFA-zh/More/#14592" class="InductiveConstructor">Nat</a>
<a id="26385" href="/PLFA-zh/More/#26364" class="Function">cube</a> <a id="26390" class="Symbol">=</a> <a id="26392" href="/PLFA-zh/More/#15146" class="InductiveConstructor Operator">ƛ</a> <a id="26394" class="Symbol">(</a><a id="26395" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="26397" class="Number">0</a> <a id="26399" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="26402" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="26404" class="Number">0</a> <a id="26406" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="26409" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="26411" class="Number">0</a><a id="26412" class="Symbol">)</a>

<a id="26415" href="/PLFA-zh/More/#26415" class="Function">_</a> <a id="26417" class="Symbol">:</a> <a id="26419" href="/PLFA-zh/More/#26364" class="Function">cube</a> <a id="26424" href="/PLFA-zh/More/#15214" class="InductiveConstructor Operator">·</a> <a id="26426" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="26430" class="Number">2</a> <a id="26432" href="/PLFA-zh/More/#22584" class="Datatype Operator">—↠</a> <a id="26435" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="26439" class="Number">8</a>
<a id="26441" class="Symbol">_</a> <a id="26443" class="Symbol">=</a> 
  <a id="26448" href="/PLFA-zh/More/#22787" class="Function Operator">begin</a>
    <a id="26458" href="/PLFA-zh/More/#26364" class="Function">cube</a> <a id="26463" href="/PLFA-zh/More/#15214" class="InductiveConstructor Operator">·</a> <a id="26465" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="26469" class="Number">2</a>
  <a id="26473" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">—→⟨</a> <a id="26477" href="/PLFA-zh/More/#20029" class="InductiveConstructor">β-ƛ</a> <a id="26481" href="/PLFA-zh/More/#19377" class="InductiveConstructor">V-con</a> <a id="26487" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">⟩</a>
    <a id="26493" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="26497" class="Number">2</a> <a id="26499" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="26502" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="26506" class="Number">2</a> <a id="26508" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="26511" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="26515" class="Number">2</a>
  <a id="26519" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">—→⟨</a> <a id="26523" href="/PLFA-zh/More/#20762" class="InductiveConstructor">ξ-*₁</a> <a id="26528" href="/PLFA-zh/More/#20970" class="InductiveConstructor">δ-*</a> <a id="26532" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">⟩</a>
    <a id="26538" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="26542" class="Number">4</a> <a id="26544" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="26547" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="26551" class="Number">2</a>
  <a id="26555" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">—→⟨</a> <a id="26559" href="/PLFA-zh/More/#20970" class="InductiveConstructor">δ-*</a> <a id="26563" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">⟩</a>
    <a id="26569" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="26573" class="Number">8</a>
  <a id="26577" href="/PLFA-zh/More/#22634" class="InductiveConstructor Operator">∎</a>

<a id="exp10"></a><a id="26580" href="/PLFA-zh/More/#26580" class="Function">exp10</a> <a id="26586" class="Symbol">:</a> <a id="26588" href="/PLFA-zh/More/#14700" class="InductiveConstructor">∅</a> <a id="26590" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="26592" href="/PLFA-zh/More/#14592" class="InductiveConstructor">Nat</a> <a id="26596" href="/PLFA-zh/More/#14563" class="InductiveConstructor Operator">⇒</a> <a id="26598" href="/PLFA-zh/More/#14592" class="InductiveConstructor">Nat</a>
<a id="26602" href="/PLFA-zh/More/#26580" class="Function">exp10</a> <a id="26608" class="Symbol">=</a> <a id="26610" href="/PLFA-zh/More/#15146" class="InductiveConstructor Operator">ƛ</a> <a id="26612" class="Symbol">(</a><a id="26613" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="26618" class="Symbol">(</a><a id="26619" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="26621" class="Number">0</a> <a id="26623" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="26626" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="26628" class="Number">0</a><a id="26629" class="Symbol">)</a>
            <a id="26643" class="Symbol">(</a><a id="26644" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="26649" class="Symbol">(</a><a id="26650" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="26652" class="Number">0</a> <a id="26654" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="26657" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="26659" class="Number">0</a><a id="26660" class="Symbol">)</a>
              <a id="26676" class="Symbol">(</a><a id="26677" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="26682" class="Symbol">(</a><a id="26683" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="26685" class="Number">0</a> <a id="26687" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="26690" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="26692" class="Number">2</a><a id="26693" class="Symbol">)</a>
                <a id="26711" class="Symbol">(</a><a id="26712" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="26714" class="Number">0</a> <a id="26716" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="26719" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="26721" class="Number">0</a><a id="26722" class="Symbol">))))</a>

<a id="26728" href="/PLFA-zh/More/#26728" class="Function">_</a> <a id="26730" class="Symbol">:</a> <a id="26732" href="/PLFA-zh/More/#26580" class="Function">exp10</a> <a id="26738" href="/PLFA-zh/More/#15214" class="InductiveConstructor Operator">·</a> <a id="26740" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="26744" class="Number">2</a> <a id="26746" href="/PLFA-zh/More/#22584" class="Datatype Operator">—↠</a> <a id="26749" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="26753" class="Number">1024</a>
<a id="26758" class="Symbol">_</a> <a id="26760" class="Symbol">=</a>
  <a id="26764" href="/PLFA-zh/More/#22787" class="Function Operator">begin</a>
    <a id="26774" href="/PLFA-zh/More/#26580" class="Function">exp10</a> <a id="26780" href="/PLFA-zh/More/#15214" class="InductiveConstructor Operator">·</a> <a id="26782" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="26786" class="Number">2</a>
  <a id="26790" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">—→⟨</a> <a id="26794" href="/PLFA-zh/More/#20029" class="InductiveConstructor">β-ƛ</a> <a id="26798" href="/PLFA-zh/More/#19377" class="InductiveConstructor">V-con</a> <a id="26804" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">⟩</a>
    <a id="26810" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="26815" class="Symbol">(</a><a id="26816" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="26820" class="Number">2</a> <a id="26822" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="26825" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="26829" class="Number">2</a><a id="26830" class="Symbol">)</a> <a id="26832" class="Symbol">(</a><a id="26833" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="26838" class="Symbol">(</a><a id="26839" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="26841" class="Number">0</a> <a id="26843" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="26846" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="26848" class="Number">0</a><a id="26849" class="Symbol">)</a> <a id="26851" class="Symbol">(</a><a id="26852" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="26857" class="Symbol">(</a><a id="26858" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="26860" class="Number">0</a> <a id="26862" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="26865" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="26869" class="Number">2</a><a id="26870" class="Symbol">)</a> <a id="26872" class="Symbol">(</a><a id="26873" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="26875" class="Number">0</a> <a id="26877" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="26880" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="26882" class="Number">0</a><a id="26883" class="Symbol">)))</a>
  <a id="26889" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">—→⟨</a> <a id="26893" href="/PLFA-zh/More/#21087" class="InductiveConstructor">ξ-let</a> <a id="26899" href="/PLFA-zh/More/#20970" class="InductiveConstructor">δ-*</a> <a id="26903" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">⟩</a>
    <a id="26909" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="26914" class="Symbol">(</a><a id="26915" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="26919" class="Number">4</a><a id="26920" class="Symbol">)</a> <a id="26922" class="Symbol">(</a><a id="26923" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="26928" class="Symbol">(</a><a id="26929" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="26931" class="Number">0</a> <a id="26933" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="26936" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="26938" class="Number">0</a><a id="26939" class="Symbol">)</a> <a id="26941" class="Symbol">(</a><a id="26942" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="26947" class="Symbol">(</a><a id="26948" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="26950" class="Number">0</a> <a id="26952" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="26955" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="26959" class="Number">2</a><a id="26960" class="Symbol">)</a> <a id="26962" class="Symbol">(</a><a id="26963" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="26965" class="Number">0</a> <a id="26967" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="26970" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="26972" class="Number">0</a><a id="26973" class="Symbol">)))</a>
  <a id="26979" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">—→⟨</a> <a id="26983" href="/PLFA-zh/More/#21209" class="InductiveConstructor">β-let</a> <a id="26989" href="/PLFA-zh/More/#19377" class="InductiveConstructor">V-con</a> <a id="26995" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">⟩</a>
    <a id="27001" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="27006" class="Symbol">(</a><a id="27007" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="27011" class="Number">4</a> <a id="27013" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="27016" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="27020" class="Number">4</a><a id="27021" class="Symbol">)</a> <a id="27023" class="Symbol">(</a><a id="27024" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="27029" class="Symbol">(</a><a id="27030" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="27032" class="Number">0</a> <a id="27034" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="27037" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="27041" class="Number">2</a><a id="27042" class="Symbol">)</a> <a id="27044" class="Symbol">(</a><a id="27045" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="27047" class="Number">0</a> <a id="27049" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="27052" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="27054" class="Number">0</a><a id="27055" class="Symbol">))</a>
  <a id="27060" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">—→⟨</a> <a id="27064" href="/PLFA-zh/More/#21087" class="InductiveConstructor">ξ-let</a> <a id="27070" href="/PLFA-zh/More/#20970" class="InductiveConstructor">δ-*</a> <a id="27074" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">⟩</a>
    <a id="27080" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="27085" class="Symbol">(</a><a id="27086" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="27090" class="Number">16</a><a id="27092" class="Symbol">)</a> <a id="27094" class="Symbol">(</a><a id="27095" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="27100" class="Symbol">(</a><a id="27101" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="27103" class="Number">0</a> <a id="27105" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="27108" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="27112" class="Number">2</a><a id="27113" class="Symbol">)</a> <a id="27115" class="Symbol">(</a><a id="27116" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="27118" class="Number">0</a> <a id="27120" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="27123" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="27125" class="Number">0</a><a id="27126" class="Symbol">))</a>
  <a id="27131" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">—→⟨</a> <a id="27135" href="/PLFA-zh/More/#21209" class="InductiveConstructor">β-let</a> <a id="27141" href="/PLFA-zh/More/#19377" class="InductiveConstructor">V-con</a> <a id="27147" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">⟩</a>
    <a id="27153" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="27158" class="Symbol">(</a><a id="27159" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="27163" class="Number">16</a> <a id="27166" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="27169" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="27173" class="Number">2</a><a id="27174" class="Symbol">)</a> <a id="27176" class="Symbol">(</a><a id="27177" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="27179" class="Number">0</a> <a id="27181" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="27184" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="27186" class="Number">0</a><a id="27187" class="Symbol">)</a>
  <a id="27191" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">—→⟨</a> <a id="27195" href="/PLFA-zh/More/#21087" class="InductiveConstructor">ξ-let</a> <a id="27201" href="/PLFA-zh/More/#20970" class="InductiveConstructor">δ-*</a> <a id="27205" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">⟩</a>
    <a id="27211" href="/PLFA-zh/More/#15720" class="InductiveConstructor">`let</a> <a id="27216" class="Symbol">(</a><a id="27217" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="27221" class="Number">32</a><a id="27223" class="Symbol">)</a> <a id="27225" class="Symbol">(</a><a id="27226" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="27228" class="Number">0</a> <a id="27230" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="27233" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="27235" class="Number">0</a><a id="27236" class="Symbol">)</a>
  <a id="27240" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">—→⟨</a> <a id="27244" href="/PLFA-zh/More/#21209" class="InductiveConstructor">β-let</a> <a id="27250" href="/PLFA-zh/More/#19377" class="InductiveConstructor">V-con</a> <a id="27256" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">⟩</a>
    <a id="27262" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="27266" class="Number">32</a> <a id="27269" href="/PLFA-zh/More/#15638" class="InductiveConstructor Operator">`*</a> <a id="27272" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="27276" class="Number">32</a>
  <a id="27281" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">—→⟨</a> <a id="27285" href="/PLFA-zh/More/#20970" class="InductiveConstructor">δ-*</a> <a id="27289" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">⟩</a>
    <a id="27295" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="27299" class="Number">1024</a>
  <a id="27306" href="/PLFA-zh/More/#22634" class="InductiveConstructor Operator">∎</a>

<a id="swap×"></a><a id="27309" href="/PLFA-zh/More/#27309" class="Function">swap×</a> <a id="27315" class="Symbol">:</a> <a id="27317" class="Symbol">∀</a> <a id="27319" class="Symbol">{</a><a id="27320" href="/PLFA-zh/More/#27320" class="Bound">A</a> <a id="27322" href="/PLFA-zh/More/#27322" class="Bound">B</a><a id="27323" class="Symbol">}</a> <a id="27325" class="Symbol">→</a> <a id="27327" href="/PLFA-zh/More/#14700" class="InductiveConstructor">∅</a> <a id="27329" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="27331" href="/PLFA-zh/More/#27320" class="Bound">A</a> <a id="27333" href="/PLFA-zh/More/#14607" class="InductiveConstructor Operator">`×</a> <a id="27336" href="/PLFA-zh/More/#27322" class="Bound">B</a> <a id="27338" href="/PLFA-zh/More/#14563" class="InductiveConstructor Operator">⇒</a> <a id="27340" href="/PLFA-zh/More/#27322" class="Bound">B</a> <a id="27342" href="/PLFA-zh/More/#14607" class="InductiveConstructor Operator">`×</a> <a id="27345" href="/PLFA-zh/More/#27320" class="Bound">A</a>
<a id="27347" href="/PLFA-zh/More/#27309" class="Function">swap×</a> <a id="27353" class="Symbol">=</a> <a id="27355" href="/PLFA-zh/More/#15146" class="InductiveConstructor Operator">ƛ</a> <a id="27357" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="27360" href="/PLFA-zh/More/#15962" class="InductiveConstructor">`proj₂</a> <a id="27367" class="Symbol">(</a><a id="27368" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="27370" class="Number">0</a><a id="27371" class="Symbol">)</a> <a id="27373" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="27375" href="/PLFA-zh/More/#15893" class="InductiveConstructor">`proj₁</a> <a id="27382" class="Symbol">(</a><a id="27383" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="27385" class="Number">0</a><a id="27386" class="Symbol">)</a> <a id="27388" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a>

<a id="27391" href="/PLFA-zh/More/#27391" class="Function">_</a> <a id="27393" class="Symbol">:</a> <a id="27395" href="/PLFA-zh/More/#27309" class="Function">swap×</a> <a id="27401" href="/PLFA-zh/More/#15214" class="InductiveConstructor Operator">·</a> <a id="27403" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="27406" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="27410" class="Number">42</a> <a id="27413" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="27415" href="/PLFA-zh/More/#15304" class="InductiveConstructor">`zero</a> <a id="27421" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a> <a id="27423" href="/PLFA-zh/More/#22584" class="Datatype Operator">—↠</a> <a id="27426" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="27429" href="/PLFA-zh/More/#15304" class="InductiveConstructor">`zero</a> <a id="27435" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="27437" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="27441" class="Number">42</a> <a id="27444" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a>
<a id="27446" class="Symbol">_</a> <a id="27448" class="Symbol">=</a>
  <a id="27452" href="/PLFA-zh/More/#22787" class="Function Operator">begin</a>
    <a id="27462" href="/PLFA-zh/More/#27309" class="Function">swap×</a> <a id="27468" href="/PLFA-zh/More/#15214" class="InductiveConstructor Operator">·</a> <a id="27470" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="27473" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="27477" class="Number">42</a> <a id="27480" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="27482" href="/PLFA-zh/More/#15304" class="InductiveConstructor">`zero</a> <a id="27488" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a>
  <a id="27492" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">—→⟨</a> <a id="27496" href="/PLFA-zh/More/#20029" class="InductiveConstructor">β-ƛ</a> <a id="27500" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">V-⟨</a> <a id="27504" href="/PLFA-zh/More/#19377" class="InductiveConstructor">V-con</a> <a id="27510" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">,</a> <a id="27512" href="/PLFA-zh/More/#19205" class="InductiveConstructor">V-zero</a> <a id="27519" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">⟩</a> <a id="27521" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">⟩</a>
    <a id="27527" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="27530" href="/PLFA-zh/More/#15962" class="InductiveConstructor">`proj₂</a> <a id="27537" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="27540" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="27544" class="Number">42</a> <a id="27547" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="27549" href="/PLFA-zh/More/#15304" class="InductiveConstructor">`zero</a> <a id="27555" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a> <a id="27557" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="27559" href="/PLFA-zh/More/#15893" class="InductiveConstructor">`proj₁</a> <a id="27566" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="27569" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="27573" class="Number">42</a> <a id="27576" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="27578" href="/PLFA-zh/More/#15304" class="InductiveConstructor">`zero</a> <a id="27584" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a> <a id="27586" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a>
  <a id="27590" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">—→⟨</a> <a id="27594" href="/PLFA-zh/More/#21339" class="InductiveConstructor">ξ-⟨,⟩₁</a> <a id="27601" class="Symbol">(</a><a id="27602" href="/PLFA-zh/More/#21966" class="InductiveConstructor">β-proj₂</a> <a id="27610" href="/PLFA-zh/More/#19377" class="InductiveConstructor">V-con</a> <a id="27616" href="/PLFA-zh/More/#19205" class="InductiveConstructor">V-zero</a><a id="27622" class="Symbol">)</a> <a id="27624" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">⟩</a>
    <a id="27630" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="27633" href="/PLFA-zh/More/#15304" class="InductiveConstructor">`zero</a> <a id="27639" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="27641" href="/PLFA-zh/More/#15893" class="InductiveConstructor">`proj₁</a> <a id="27648" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="27651" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="27655" class="Number">42</a> <a id="27658" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="27660" href="/PLFA-zh/More/#15304" class="InductiveConstructor">`zero</a> <a id="27666" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a> <a id="27668" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a>
  <a id="27672" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">—→⟨</a> <a id="27676" href="/PLFA-zh/More/#21466" class="InductiveConstructor">ξ-⟨,⟩₂</a> <a id="27683" href="/PLFA-zh/More/#19205" class="InductiveConstructor">V-zero</a> <a id="27690" class="Symbol">(</a><a id="27691" href="/PLFA-zh/More/#21833" class="InductiveConstructor">β-proj₁</a> <a id="27699" href="/PLFA-zh/More/#19377" class="InductiveConstructor">V-con</a> <a id="27705" href="/PLFA-zh/More/#19205" class="InductiveConstructor">V-zero</a><a id="27711" class="Symbol">)</a> <a id="27713" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">⟩</a>
    <a id="27719" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="27722" href="/PLFA-zh/More/#15304" class="InductiveConstructor">`zero</a> <a id="27728" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="27730" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="27734" class="Number">42</a> <a id="27737" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a>
  <a id="27741" href="/PLFA-zh/More/#22634" class="InductiveConstructor Operator">∎</a>

<a id="swap×-case"></a><a id="27744" href="/PLFA-zh/More/#27744" class="Function">swap×-case</a> <a id="27755" class="Symbol">:</a> <a id="27757" class="Symbol">∀</a> <a id="27759" class="Symbol">{</a><a id="27760" href="/PLFA-zh/More/#27760" class="Bound">A</a> <a id="27762" href="/PLFA-zh/More/#27762" class="Bound">B</a><a id="27763" class="Symbol">}</a> <a id="27765" class="Symbol">→</a> <a id="27767" href="/PLFA-zh/More/#14700" class="InductiveConstructor">∅</a> <a id="27769" href="/PLFA-zh/More/#15026" class="Datatype Operator">⊢</a> <a id="27771" href="/PLFA-zh/More/#27760" class="Bound">A</a> <a id="27773" href="/PLFA-zh/More/#14607" class="InductiveConstructor Operator">`×</a> <a id="27776" href="/PLFA-zh/More/#27762" class="Bound">B</a> <a id="27778" href="/PLFA-zh/More/#14563" class="InductiveConstructor Operator">⇒</a> <a id="27780" href="/PLFA-zh/More/#27762" class="Bound">B</a> <a id="27782" href="/PLFA-zh/More/#14607" class="InductiveConstructor Operator">`×</a> <a id="27785" href="/PLFA-zh/More/#27760" class="Bound">A</a>
<a id="27787" href="/PLFA-zh/More/#27744" class="Function">swap×-case</a> <a id="27798" class="Symbol">=</a> <a id="27800" href="/PLFA-zh/More/#15146" class="InductiveConstructor Operator">ƛ</a> <a id="27802" href="/PLFA-zh/More/#16073" class="InductiveConstructor">case×</a> <a id="27808" class="Symbol">(</a><a id="27809" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="27811" class="Number">0</a><a id="27812" class="Symbol">)</a> <a id="27814" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="27817" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="27819" class="Number">0</a> <a id="27821" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="27823" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="27825" class="Number">1</a> <a id="27827" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a>

<a id="27830" href="/PLFA-zh/More/#27830" class="Function">_</a> <a id="27832" class="Symbol">:</a> <a id="27834" href="/PLFA-zh/More/#27744" class="Function">swap×-case</a> <a id="27845" href="/PLFA-zh/More/#15214" class="InductiveConstructor Operator">·</a> <a id="27847" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="27850" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="27854" class="Number">42</a> <a id="27857" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="27859" href="/PLFA-zh/More/#15304" class="InductiveConstructor">`zero</a> <a id="27865" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a> <a id="27867" href="/PLFA-zh/More/#22584" class="Datatype Operator">—↠</a> <a id="27870" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="27873" href="/PLFA-zh/More/#15304" class="InductiveConstructor">`zero</a> <a id="27879" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="27881" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="27885" class="Number">42</a> <a id="27888" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a>
<a id="27890" class="Symbol">_</a> <a id="27892" class="Symbol">=</a>
  <a id="27896" href="/PLFA-zh/More/#22787" class="Function Operator">begin</a>
     <a id="27907" href="/PLFA-zh/More/#27744" class="Function">swap×-case</a> <a id="27918" href="/PLFA-zh/More/#15214" class="InductiveConstructor Operator">·</a> <a id="27920" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="27923" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="27927" class="Number">42</a> <a id="27930" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="27932" href="/PLFA-zh/More/#15304" class="InductiveConstructor">`zero</a> <a id="27938" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a>
   <a id="27943" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">—→⟨</a> <a id="27947" href="/PLFA-zh/More/#20029" class="InductiveConstructor">β-ƛ</a> <a id="27951" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">V-⟨</a> <a id="27955" href="/PLFA-zh/More/#19377" class="InductiveConstructor">V-con</a> <a id="27961" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">,</a> <a id="27963" href="/PLFA-zh/More/#19205" class="InductiveConstructor">V-zero</a> <a id="27970" href="/PLFA-zh/More/#19467" class="InductiveConstructor Operator">⟩</a> <a id="27972" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">⟩</a>
     <a id="27979" href="/PLFA-zh/More/#16073" class="InductiveConstructor">case×</a> <a id="27985" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="27988" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="27992" class="Number">42</a> <a id="27995" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="27997" href="/PLFA-zh/More/#15304" class="InductiveConstructor">`zero</a> <a id="28003" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a> <a id="28005" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="28008" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="28010" class="Number">0</a> <a id="28012" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="28014" href="/PLFA-zh/More/#16584" class="Function Operator">#</a> <a id="28016" class="Number">1</a> <a id="28018" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a>
   <a id="28023" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">—→⟨</a> <a id="28027" href="/PLFA-zh/More/#22280" class="InductiveConstructor">β-case×</a> <a id="28035" href="/PLFA-zh/More/#19377" class="InductiveConstructor">V-con</a> <a id="28041" href="/PLFA-zh/More/#19205" class="InductiveConstructor">V-zero</a> <a id="28048" href="/PLFA-zh/More/#22690" class="InductiveConstructor Operator">⟩</a>
     <a id="28055" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">`⟨</a> <a id="28058" href="/PLFA-zh/More/#15304" class="InductiveConstructor">`zero</a> <a id="28064" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">,</a> <a id="28066" href="/PLFA-zh/More/#15587" class="InductiveConstructor">con</a> <a id="28070" class="Number">42</a> <a id="28073" href="/PLFA-zh/More/#15812" class="InductiveConstructor Operator">⟩</a>
   <a id="28078" href="/PLFA-zh/More/#22634" class="InductiveConstructor Operator">∎</a></pre>

<h4 id="exercise-more">Exercise <code class="highlighter-rouge">More</code></h4>

<p>Formalise the remaining constructs defined in this chapter.
Make your changes in this file.
Evaluate each example, applied to data as needed,
to confirm it returns the expected answer:</p>

<ul>
  <li>sums (recommended)</li>
  <li>unit type</li>
  <li>an alternative formulation of unit type</li>
  <li>empty type (recommended)</li>
  <li>lists</li>
</ul>

<h2 id="unicode">Unicode</h2>

<p>This chapter uses the following unicode:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>σ  U+03C3  GREEK SMALL LETTER SIGMA (\Gs or \sigma)
†  U+2020  DAGGER (\dag)
‡  U+2021  DOUBLE DAGGER (\ddag)
</code></pre></div></div>

  </div>

  <p style="text-align:center;">
    
    <a alt="Previous chapter" href="/PLFA-zh/DeBruijn/">前一章</a>
    &bullet;
    
    
    <a alt="Source code" href="https://github.com/roger-uw/PLFA-zh/blob/dev/src/plfa/More.lagda">源代码</a>
    
    
    &bullet;
    <a alt="Next chapter" href="/PLFA-zh/Bisimulation/">后一章</a>
    
</p>


</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/PLFA-zh/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">编程语言基础：Agda 描述
</h2>

    <h3 class="footer-heading">原作者：</h3><div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Philip Wadler</li>
          <li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk">wadler@inf.ed.ac.uk</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/wadler"><svg class="svg-icon"><use xlink:href="/PLFA-zh/assets/minima-social-icons.svg#github"></use></svg> <span class="username">wadler</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3"></div>
    </div><div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Wen Kokke</li>
          <li><a class="u-email" href="mailto:wen.kokke@ed.ac.uk">wen.kokke@ed.ac.uk</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/wenkokke"><svg class="svg-icon"><use xlink:href="/PLFA-zh/assets/minima-social-icons.svg#github"></use></svg> <span class="username">wenkokke</span></a></li><li><a href="https://www.twitter.com/wenkokke"><svg class="svg-icon"><use xlink:href="/PLFA-zh/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">wenkokke</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3"></div>
    </div><h3 class="footer-heading">本章暂无翻译</h3>本作品采用<a rel="license" href="http://creativecommons.org/licenses/by/4.0/">知识共享署名 4.0 国际许可协议</a>进行许可。<br />
    This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
  </div>
</footer>
<!-- Import jQuery -->
<script type="text/javascript" src="/PLFA-zh/assets/jquery.js"></script>

<!-- Script which draws background for progress tags -->
<script type="text/javascript">
$('span.progress').each(function(){
    const progress = parseInt($(this).text());
    $(this).css({
        'border-style': 'solid',
        'border-radius': '5px',
        'border-width': 'thin',
        'border-color': progress === 100 ? 'limegreen' : 'dimgray',
        'font-size': '70%',
        'padding': '0% 0.5% 0% 0.5%',
        'margin': '0em 0em 0em 0.5em',
        'box-sizing': 'border-box',
        'vertical-align': '10%'
    });
    $(this).text(progress.toString() + " %");
})
</script>

<!-- Script which allows for foldable code blocks -->
<script type="text/javascript">
 $('div.foldable pre').each(function(){
     var autoHeight = $(this).height();
     var lineHeight = parseFloat($(this).css('line-height'));

     var plus    = $("<div></div>");
     var horLine = $("<div></div>");
     var verLine = $("<div></div>");
     $(this).prepend(plus);
     plus.css({
         'position'         : 'relative',
         'float'            : 'right',
         'right'            : '-' + (0.5 * lineHeight - 1.5) + 'px',
         'width'            : lineHeight,
         'height'           : lineHeight});
     verLine.css({
         'position'         : 'relative',
         'height'           : lineHeight,
         'width'            : '3px',
         'background-color' : '#C1E0FF'});
     horLine.css({
         'position'         : 'relative',
         'top'              : '-' + (0.5 * lineHeight + 1.5) + 'px',
         'left'             : '-' + (0.5 * lineHeight - 1.5) + 'px',
         'height'           : '3px',
         'width'            : lineHeight,
         'background-color' : '#C1E0FF'});
     plus.append(verLine);
     plus.append(horLine);

     $(this).height(2.0 * lineHeight);
     $(this).css('overflow','hidden');

     $(this).click(function(){
         if ($(this).height() == autoHeight) {
             $(this).height(2.0 * lineHeight);
             plus.show();
         }
         else {
             $(this).height('auto');
             plus.hide();
         }
     });
 });
</script>

<!-- Import KaTeX -->
<script type="text/javascript" src="/PLFA-zh/assets/katex.js"></script>

<!-- Script which renders TeX using KaTeX -->
<script type="text/javascript">
 $("script[type='math/tex']").replaceWith(
     function(){
         var tex = $(this).text();
         return "<span class=\"inline-equation\">" +
                katex.renderToString(tex) +
                "</span>";
     });
 $("script[type='math/tex; mode=display']").replaceWith(
     function(){
         var tex = $(this).text().replace(/%.*?(\n|$)/g,"");
         return "<div class=\"equation\">" +
                katex.renderToString("\\displaystyle "+tex) +
                "</div>";
     });
</script>
</body>

</html>
